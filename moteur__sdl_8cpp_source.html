<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Bomberman:  Fichier source de /home/ph3w/Bureau/lif7-bomberman/moteur_sdl.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Généré par Doxygen 1.7.1 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div class="header">
  <div class="headertitle">
<h1>/home/ph3w/Bureau/lif7-bomberman/moteur_sdl.cpp</h1>  </div>
</div>
<div class="contents">
<a href="moteur__sdl_8cpp.html">Aller à la documentation de ce fichier.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#include &quot;<a class="code" href="moteur__sdl_8h.html">moteur_sdl.h</a>&quot;</span>
<a name="l00002"></a>00002 <span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">debug.h</a>&quot;</span>
<a name="l00003"></a>00003 
<a name="l00004"></a>00004 <a class="code" href="classmoteur__sdl.html" title="Gère l&amp;#39;affichage via le moteur graphique SDL.">moteur_sdl</a>* <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">moteur_sdl::c_Instance</a> = 0;
<a name="l00005"></a>00005 
<a name="l00006"></a>00006 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l00007"></a>00007 <span class="comment">* @fn moteur_sdl::moteur_sdl()</span>
<a name="l00008"></a>00008 <span class="comment">* @brief Initialise la class moteur_sdl</span>
<a name="l00009"></a>00009 <span class="comment">*</span>
<a name="l00010"></a>00010 <span class="comment">* Initialise l&#39;écran sdl et prépare le &quot;terrain&quot; pour les traitements futurs</span>
<a name="l00011"></a>00011 <span class="comment">*/</span>
<a name="l00012"></a><a class="code" href="classmoteur__sdl.html#a2831ba756e483f5ce0c4131ce40cc2a4">00012</a> <a class="code" href="classmoteur__sdl.html#a2831ba756e483f5ce0c4131ce40cc2a4" title="Initialise la class moteur_sdl.">moteur_sdl::moteur_sdl</a>()
<a name="l00013"></a>00013 {
<a name="l00014"></a>00014     <span class="keywordflow">if</span>( SDL_Init(SDL_INIT_VIDEO | SDL_INIT_TIMER) == -1 ) <span class="comment">// Démarrage de la SDL. Si erreur alors...</span>
<a name="l00015"></a>00015         stdErrorE(<span class="stringliteral">&quot;Erreur d&#39;initialisation de la SDL : %s\n&quot;</span>, SDL_GetError()); <span class="comment">// Ecriture de l&#39;erreur</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017     <span class="keywordflow">if</span>(TTF_Init() == -1)
<a name="l00018"></a>00018         stdErrorE(<span class="stringliteral">&quot;Erreur d&#39;initialisation de TTF_Init : %s&quot;</span>, TTF_GetError());
<a name="l00019"></a>00019 
<a name="l00020"></a>00020     <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a> = SDL_SetVideoMode(1024,768, 32, SDL_HWSURFACE | SDL_DOUBLEBUF);
<a name="l00021"></a>00021     SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, NULL, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 255, 255, 255));<span class="comment">/* Efface l&#39;écran */</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023     <span class="comment">//SDL_ShowCursor(SDL_DISABLE);// Masque le curseur de la souris</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025     SDL_WM_SetCaption(<span class="stringliteral">&quot;Bomberman&quot;</span>, NULL);<span class="comment">// Titre de la fenêtre</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027     <span class="keywordflow">if</span>( !(<a class="code" href="classmoteur__sdl.html#ab633b5e3c91468fd42127b33c51ec33a">c_policeGeneral</a> = TTF_OpenFont(<span class="stringliteral">&quot;Chicken Butt.ttf&quot;</span>, 75)) )
<a name="l00028"></a>00028         stdErrorE(<span class="stringliteral">&quot;Erreur lors du chargement de la police : %s&quot;</span>, TTF_GetError());
<a name="l00029"></a>00029 
<a name="l00030"></a>00030     <a class="code" href="classmoteur__sdl.html#a158b583b287bbecba9cf9756206d3c21">c_background</a> = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/background.png&quot;</span>);
<a name="l00031"></a>00031 
<a name="l00032"></a>00032     SDL_EnableUNICODE(1);<span class="comment">// On ne veut pas un clavier QWERTY</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034     SDL_EnableKeyRepeat(0, 0);<span class="comment">// Pas de répétition des touches</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036     <span class="comment">/***************************************************************************</span>
<a name="l00037"></a>00037 <span class="comment">    * On charge ici le décor</span>
<a name="l00038"></a>00038 <span class="comment">    */</span>
<a name="l00039"></a>00039     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a> = <span class="keyword">new</span> SDL_Surface*[__nombre_de_decors__];
<a name="l00040"></a>00040     <span class="comment">// Initialisation du décor</span>
<a name="l00041"></a>00041     <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;__nombre_de_decors__; i++ )
<a name="l00042"></a>00042         <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[i] = 0;
<a name="l00043"></a>00043 
<a name="l00044"></a>00044     <span class="comment">//murs</span>
<a name="l00045"></a>00045     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[vide] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/vide.png&quot;</span>);
<a name="l00046"></a>00046     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[mur_destructible] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/mur_destructible.png&quot;</span>);
<a name="l00047"></a>00047     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[mur_indestructible] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/mur_indestructible.png&quot;</span>);
<a name="l00048"></a>00048     <span class="comment">//joueur1</span>
<a name="l00049"></a>00049     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur1_haut] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman1_haut.png&quot;</span>);
<a name="l00050"></a>00050     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur1_bas] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman1_bas.png&quot;</span>);
<a name="l00051"></a>00051     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur1_gauche] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman1_gauche.png&quot;</span>);
<a name="l00052"></a>00052     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur1_droite] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman1_droite.png&quot;</span>);
<a name="l00053"></a>00053     <span class="comment">//joueur2</span>
<a name="l00054"></a>00054     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur2_haut] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman2_haut.png&quot;</span>);
<a name="l00055"></a>00055     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur2_bas] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman2_bas.png&quot;</span>);
<a name="l00056"></a>00056     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur2_gauche] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman2_gauche.png&quot;</span>);
<a name="l00057"></a>00057     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur2_droite] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman2_droite.png&quot;</span>);
<a name="l00058"></a>00058     <span class="comment">//joueur3</span>
<a name="l00059"></a>00059     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur3_haut] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman3_haut.png&quot;</span>);
<a name="l00060"></a>00060     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur3_bas] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman3_bas.png&quot;</span>);
<a name="l00061"></a>00061     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur3_gauche] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman3_gauche.png&quot;</span>);
<a name="l00062"></a>00062     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur3_droite] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman3_droite.png&quot;</span>);
<a name="l00063"></a>00063     <span class="comment">//joueur4</span>
<a name="l00064"></a>00064     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur4_haut] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman4_haut.png&quot;</span>);
<a name="l00065"></a>00065     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur4_bas] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman4_bas.png&quot;</span>);
<a name="l00066"></a>00066     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur4_gauche] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman4_gauche.png&quot;</span>);
<a name="l00067"></a>00067     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[joueur4_droite] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bomberman4_droite.png&quot;</span>);
<a name="l00068"></a>00068     <span class="comment">//armes</span>
<a name="l00069"></a>00069     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[flamme_origine] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/flamme_origine.png&quot;</span>);
<a name="l00070"></a>00070     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[flamme_vertical] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/milieu_flamme_verticale.png&quot;</span>);
<a name="l00071"></a>00071     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[flamme_horizontal] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/milieu_flamme_horizontale.png&quot;</span>);
<a name="l00072"></a>00072     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[flamme_pointe_haut] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/flamme_haut.png&quot;</span>);
<a name="l00073"></a>00073     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[bout_flamme_bas] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/flamme_bas.png&quot;</span>);
<a name="l00074"></a>00074     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[bout_flamme_gauche] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/flamme_gauche.png&quot;</span>);
<a name="l00075"></a>00075     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[bout_flamme_droite] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/flamme_droite.png&quot;</span>);
<a name="l00076"></a>00076     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[bombe] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/bombeSprite.png&quot;</span>);
<a name="l00077"></a>00077     <span class="comment">//c_Decor[bombe] = chargerImage(&quot;images/bombe.gif&quot;);</span>
<a name="l00078"></a>00078     <span class="comment">// Bonus</span>
<a name="l00079"></a>00079     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[gain_bombe] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/gain_bombe.png&quot;</span>);
<a name="l00080"></a>00080     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[gain_declancheur] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/detonateur.png&quot;</span>);
<a name="l00081"></a>00081     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[gain_puissance_flamme] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/gain_puissance_flamme.png&quot;</span>);
<a name="l00082"></a>00082     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[gain_pousse_bombe] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/kick.png&quot;</span>);
<a name="l00083"></a>00083     <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[gain_vie] = <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">chargerImage</a>(<span class="stringliteral">&quot;images/gain_vie.gif&quot;</span>);
<a name="l00084"></a>00084 
<a name="l00085"></a>00085     <a class="code" href="classmoteur__sdl.html#a7f0f9cf61c0fd59a9a0d93b53a09ed28">c_fenetreOuverte</a> = <span class="keyword">true</span>;
<a name="l00086"></a>00086 }
<a name="l00087"></a>00087 
<a name="l00088"></a>00088 
<a name="l00089"></a>00089 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l00090"></a>00090 <span class="comment">* @fn moteur_sdl&amp; moteur_sdl::getInstance()</span>
<a name="l00091"></a>00091 <span class="comment">* @brief Renvoie l&#39;instance de la class. Si pas d&#39;instance, alors création d&#39;une instance</span>
<a name="l00092"></a>00092 <span class="comment">*/</span>
<a name="l00093"></a><a class="code" href="classmoteur__sdl.html#a275eb203b7d8d395945c03ba036e1360">00093</a> <a class="code" href="classmoteur__sdl.html" title="Gère l&amp;#39;affichage via le moteur graphique SDL.">moteur_sdl</a>&amp; <a class="code" href="classmoteur__sdl.html#a275eb203b7d8d395945c03ba036e1360" title="Renvoie l&amp;#39;instance de la class. Si pas d&amp;#39;instance, alors création d&amp;#39;une instance...">moteur_sdl::getInstance</a>()
<a name="l00094"></a>00094 {
<a name="l00095"></a>00095     <span class="keywordflow">if</span>( !<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a> )
<a name="l00096"></a>00096         <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a> = <span class="keyword">new</span> <a class="code" href="classmoteur__sdl.html" title="Gère l&amp;#39;affichage via le moteur graphique SDL.">moteur_sdl</a>;
<a name="l00097"></a>00097 
<a name="l00098"></a>00098     <span class="keywordflow">return</span> *<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>;
<a name="l00099"></a>00099 }
<a name="l00100"></a>00100 
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l00103"></a>00103 <span class="comment">* @fn moteur_sdl::~moteur_sdl()</span>
<a name="l00104"></a>00104 <span class="comment">* @brief Désinitialise la class moteur_sdl</span>
<a name="l00105"></a>00105 <span class="comment">*/</span>
<a name="l00106"></a><a class="code" href="classmoteur__sdl.html#a41923c09584f627f694554c49221ab1b">00106</a> <a class="code" href="classmoteur__sdl.html#a41923c09584f627f694554c49221ab1b" title="Désinitialise la class moteur_sdl.">moteur_sdl::~moteur_sdl</a>()
<a name="l00107"></a>00107 {
<a name="l00108"></a>00108     <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;__nombre_de_decors__; i++ )
<a name="l00109"></a>00109     {
<a name="l00110"></a>00110         <span class="keywordflow">if</span>(<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[i])
<a name="l00111"></a>00111             SDL_FreeSurface(<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[i]);
<a name="l00112"></a>00112     }
<a name="l00113"></a>00113     <span class="keyword">delete</span>[] <a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>;
<a name="l00114"></a>00114 
<a name="l00115"></a>00115     <span class="keywordflow">if</span>( <a class="code" href="classmoteur__sdl.html#a158b583b287bbecba9cf9756206d3c21">c_background</a> )
<a name="l00116"></a>00116         SDL_FreeSurface(<a class="code" href="classmoteur__sdl.html#a158b583b287bbecba9cf9756206d3c21">c_background</a>);<span class="comment">// On libère le background</span>
<a name="l00117"></a>00117 
<a name="l00118"></a>00118     <span class="keywordflow">if</span>( <a class="code" href="classmoteur__sdl.html#ab633b5e3c91468fd42127b33c51ec33a">c_policeGeneral</a> )
<a name="l00119"></a>00119         TTF_CloseFont(<a class="code" href="classmoteur__sdl.html#ab633b5e3c91468fd42127b33c51ec33a">c_policeGeneral</a>);<span class="comment">/* Fermeture de la police avant TTF_Quit */</span>
<a name="l00120"></a>00120 
<a name="l00121"></a>00121     TTF_Quit();<span class="comment">/* Arrêt de SDL_ttf (peut être avant ou après SDL_Quit, peu importe) */</span>
<a name="l00122"></a>00122     SDL_Quit();
<a name="l00123"></a>00123 }
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 
<a name="l00126"></a>00126 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l00127"></a>00127 <span class="comment">* @fn unsigned int moteur_sdl::menu( const char titre[], const char *choix[], unsigned int nb_choix )</span>
<a name="l00128"></a>00128 <span class="comment">* @brief Afficher l&#39;image correspondante suivant le menu où on est</span>
<a name="l00129"></a>00129 <span class="comment">* @param[in] titre      Titre de la sous fenêtre</span>
<a name="l00130"></a>00130 <span class="comment">* @param[in] choix      Liste des choix a mettre dans la sous fenêtre. ( Tableau de chaine de caractères )</span>
<a name="l00131"></a>00131 <span class="comment">* @param[in] nb_choix   Nombre d&#39;élement dans la liste des choix</span>
<a name="l00132"></a>00132 <span class="comment">* @return Le choix selectionné (sous forme d&#39;un nombre: le ième element de la liste a été selectionné)</span>
<a name="l00133"></a>00133 <span class="comment">*</span>
<a name="l00134"></a>00134 <span class="comment">* La sous fenêtre propose de naviguer parmis une liste ( @a choix )&lt;br /&gt;</span>
<a name="l00135"></a>00135 <span class="comment">* Puis renvoie le choix (sous forme d&#39;un nombre: ième element de la liste)&lt;br /&gt;</span>
<a name="l00136"></a>00136 <span class="comment">* @code</span>
<a name="l00137"></a>00137 <span class="comment">* // Exemple</span>
<a name="l00138"></a>00138 <span class="comment">* const char* choix[] = {</span>
<a name="l00139"></a>00139 <span class="comment">*   &quot;Choix 1&quot;,</span>
<a name="l00140"></a>00140 <span class="comment">*   &quot;Choix 2&quot;,</span>
<a name="l00141"></a>00141 <span class="comment">*   &quot;Choix 3&quot;,</span>
<a name="l00142"></a>00142 <span class="comment">*   &quot;Choix 4&quot;,</span>
<a name="l00143"></a>00143 <span class="comment">*   &quot;Choix 5&quot;</span>
<a name="l00144"></a>00144 <span class="comment">* };</span>
<a name="l00145"></a>00145 <span class="comment">* unsigned int choix_selectionner = menu( &quot;Liste de mes choix&quot;, choix, 5 );</span>
<a name="l00146"></a>00146 <span class="comment">* @endcode</span>
<a name="l00147"></a>00147 <span class="comment">*/</span>
<a name="l00148"></a><a class="code" href="classmoteur__sdl.html#a77fd5ba1595056b2d97f64fcef888d4e">00148</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classmoteur__sdl.html#a77fd5ba1595056b2d97f64fcef888d4e" title="Afficher l&amp;#39;image correspondante suivant le menu où on est.">moteur_sdl::menu</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> titre[], <span class="keyword">const</span> <span class="keywordtype">char</span> *choix[], <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb_choix )
<a name="l00149"></a>00149 {
<a name="l00150"></a>00150     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> highLight = 1;
<a name="l00151"></a>00151     <span class="keywordtype">bool</span> continuer = 1;
<a name="l00152"></a>00152     SDL_Event event;
<a name="l00153"></a>00153     SDL_Color couleurOrange = {255, 184, 0, 0<span class="comment">/*unused*/</span>};
<a name="l00154"></a>00154     SDL_Rect position;
<a name="l00155"></a>00155     SDL_Surface* sfr_titre=0;
<a name="l00156"></a>00156     SDL_Surface** textes={0};
<a name="l00157"></a>00157     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
<a name="l00158"></a>00158     <span class="keywordtype">bool</span> dessiner = 1;
<a name="l00159"></a>00159 
<a name="l00160"></a>00160     textes = <span class="keyword">new</span> SDL_Surface*[nb_choix*2];
<a name="l00161"></a>00161 
<a name="l00162"></a>00162     <span class="keywordflow">for</span>( i=0; i&lt;nb_choix; i++ )<span class="comment">/* Ecriture du texte dans la SDL_Surface &quot;texte&quot; en mode Blended (optimal) */</span>
<a name="l00163"></a>00163         textes[i] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(choix[i]);
<a name="l00164"></a>00164 
<a name="l00165"></a>00165     <span class="comment">// Création du texte HighLight</span>
<a name="l00166"></a>00166     <span class="keywordflow">for</span>( i=nb_choix; i&lt;nb_choix*2; i++ )<span class="comment">/* Ecriture du texte dans la SDL_Surface &quot;texte&quot; en mode Blended (optimal) */</span>
<a name="l00167"></a>00167         textes[i] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(choix[i-nb_choix], couleurOrange);
<a name="l00168"></a>00168 
<a name="l00169"></a>00169     <span class="comment">// Création du titre</span>
<a name="l00170"></a>00170     <span class="keywordflow">if</span>( titre &amp;&amp; strlen(titre) ){
<a name="l00171"></a>00171         TTF_SetFontStyle(<a class="code" href="classmoteur__sdl.html#ab633b5e3c91468fd42127b33c51ec33a">c_policeGeneral</a>, TTF_STYLE_UNDERLINE);
<a name="l00172"></a>00172         sfr_titre = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(titre);
<a name="l00173"></a>00173         TTF_SetFontStyle(<a class="code" href="classmoteur__sdl.html#ab633b5e3c91468fd42127b33c51ec33a">c_policeGeneral</a>, TTF_STYLE_NORMAL);
<a name="l00174"></a>00174     }
<a name="l00175"></a>00175 
<a name="l00176"></a>00176     <span class="keywordflow">while</span>( continuer )
<a name="l00177"></a>00177     {
<a name="l00178"></a>00178         SDL_WaitEvent(&amp;event);
<a name="l00179"></a>00179 
<a name="l00180"></a>00180         <span class="keywordflow">switch</span>( event.type )
<a name="l00181"></a>00181         {
<a name="l00182"></a>00182             <span class="keywordflow">case</span> SDL_QUIT: {
<a name="l00183"></a>00183                 highLight = nb_choix;<span class="comment">// On veux quitter !</span>
<a name="l00184"></a>00184                 continuer = 0;
<a name="l00185"></a>00185                 <a class="code" href="classmoteur__sdl.html#a7f0f9cf61c0fd59a9a0d93b53a09ed28">c_fenetreOuverte</a> = <span class="keyword">false</span>;
<a name="l00186"></a>00186                 <span class="keywordflow">break</span>;
<a name="l00187"></a>00187             }
<a name="l00188"></a>00188             <span class="keywordflow">case</span> SDL_KEYDOWN: {
<a name="l00189"></a>00189                 <span class="keywordflow">switch</span>( event.key.keysym.sym )
<a name="l00190"></a>00190                 {
<a name="l00191"></a>00191                     <span class="keywordflow">case</span> SDLK_UP: { <span class="comment">/* Appui sur la touche Echap, on arrête le programme */</span>
<a name="l00192"></a>00192                         <span class="keywordflow">if</span>( highLight == 1 ){<span class="comment">// On bouge notre highLight vers le haut</span>
<a name="l00193"></a>00193                             highLight = nb_choix;
<a name="l00194"></a>00194                         }<span class="keywordflow">else</span>{
<a name="l00195"></a>00195                             highLight--;
<a name="l00196"></a>00196                         }
<a name="l00197"></a>00197                         dessiner = 1;<span class="comment">// On redessine</span>
<a name="l00198"></a>00198                         <span class="keywordflow">break</span>;
<a name="l00199"></a>00199                     }
<a name="l00200"></a>00200                     <span class="keywordflow">case</span> SDLK_DOWN: {<span class="comment">// On bouge notre highLight vers le bas</span>
<a name="l00201"></a>00201                         <span class="keywordflow">if</span>( highLight == nb_choix ){
<a name="l00202"></a>00202                             highLight = 1;
<a name="l00203"></a>00203                         }<span class="keywordflow">else</span>{
<a name="l00204"></a>00204                             highLight++;
<a name="l00205"></a>00205                         }
<a name="l00206"></a>00206                         dessiner = 1;<span class="comment">// On redessine</span>
<a name="l00207"></a>00207                         <span class="keywordflow">break</span>;
<a name="l00208"></a>00208                     }
<a name="l00209"></a>00209                     <span class="keywordflow">case</span> SDLK_RETURN: {<span class="comment">// On a valider notre choix par entrer</span>
<a name="l00210"></a>00210                         continuer = 0;
<a name="l00211"></a>00211                         <span class="keywordflow">break</span>;
<a name="l00212"></a>00212                     }
<a name="l00213"></a>00213                     <span class="keywordflow">case</span> SDLK_ESCAPE: { <span class="comment">/* Appui sur la touche Echap, on arrête le programme */</span>
<a name="l00214"></a>00214                         highLight = nb_choix;<span class="comment">// On veux quitter !</span>
<a name="l00215"></a>00215                         continuer = 0;
<a name="l00216"></a>00216                         <span class="keywordflow">break</span>;
<a name="l00217"></a>00217                     }
<a name="l00218"></a>00218                     <span class="keywordflow">default</span>:
<a name="l00219"></a>00219                         <span class="keywordflow">break</span>;
<a name="l00220"></a>00220                 }
<a name="l00221"></a>00221                 <span class="keywordflow">break</span>;
<a name="l00222"></a>00222             }
<a name="l00223"></a>00223             <span class="comment">/*******************************************************************</span>
<a name="l00224"></a>00224 <span class="comment">            * Prise en charge de la souris</span>
<a name="l00225"></a>00225 <span class="comment">            */</span>
<a name="l00226"></a>00226             <span class="keywordflow">case</span> SDL_MOUSEBUTTONUP: {
<a name="l00227"></a>00227                 position.y = 200;
<a name="l00228"></a>00228                 <span class="keywordflow">for</span>( i=0; i&lt;nb_choix; i++ )
<a name="l00229"></a>00229                 {
<a name="l00230"></a>00230                     position.y += 100;<span class="comment">// Espacement entre les textes ( blit )</span>
<a name="l00231"></a>00231                     position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-textes[i]-&gt;w)/2;<span class="comment">// Centrage auto des blit ^^</span>
<a name="l00232"></a>00232                     <span class="keywordflow">if</span>( position.x &lt;= event.button.x &amp;&amp; event.button.x &lt;= position.x+textes[i]-&gt;w &amp;&amp; position.y &lt;= event.button.y &amp;&amp; event.button.y &lt;= position.y+textes[i]-&gt;h ){
<a name="l00233"></a>00233                         <span class="keywordflow">if</span>( highLight == i+1 ){
<a name="l00234"></a>00234                             continuer = 0;
<a name="l00235"></a>00235                         }<span class="keywordflow">else</span>{
<a name="l00236"></a>00236                             highLight = i+1;
<a name="l00237"></a>00237                             dessiner = 1;
<a name="l00238"></a>00238                         }
<a name="l00239"></a>00239                     }
<a name="l00240"></a>00240                 }
<a name="l00241"></a>00241                 <span class="keywordflow">break</span>;
<a name="l00242"></a>00242             }
<a name="l00243"></a>00243             <span class="keywordflow">default</span>:
<a name="l00244"></a>00244                 <span class="keywordflow">break</span>;
<a name="l00245"></a>00245         }
<a name="l00246"></a>00246 
<a name="l00247"></a>00247         <span class="comment">/***********************************************************************</span>
<a name="l00248"></a>00248 <span class="comment">        * Blitage général</span>
<a name="l00249"></a>00249 <span class="comment">        * &gt; On blit uniquement s&#39;il y a eu une modification</span>
<a name="l00250"></a>00250 <span class="comment">        */</span>
<a name="l00251"></a>00251         <span class="keywordflow">if</span>( dessiner ){
<a name="l00252"></a>00252             position.x = 0;
<a name="l00253"></a>00253             position.y = 0;
<a name="l00254"></a>00254             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a158b583b287bbecba9cf9756206d3c21">c_background</a>, NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position);<span class="comment">// Blit background</span>
<a name="l00255"></a>00255 
<a name="l00256"></a>00256             position.y = 200;<span class="comment">// Point de départ</span>
<a name="l00257"></a>00257             <span class="keywordflow">if</span>( sfr_titre ){
<a name="l00258"></a>00258                 position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-sfr_titre-&gt;w)/2;<span class="comment">// Centrage auto des blit ^^</span>
<a name="l00259"></a>00259                 SDL_BlitSurface(sfr_titre, NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position);<span class="comment">// Blit background</span>
<a name="l00260"></a>00260             }
<a name="l00261"></a>00261             <span class="comment">// On blit le texte</span>
<a name="l00262"></a>00262             <span class="keywordflow">for</span>( i=0; i&lt;nb_choix; i++ )
<a name="l00263"></a>00263             {
<a name="l00264"></a>00264                 position.y += 100;<span class="comment">// Espacement entre les textes ( blit )</span>
<a name="l00265"></a>00265                 position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-textes[i]-&gt;w)/2;<span class="comment">// Centrage auto des blit ^^</span>
<a name="l00266"></a>00266                 <span class="keywordflow">if</span>( i == highLight-1 ){
<a name="l00267"></a>00267                     SDL_BlitSurface(textes[i+nb_choix], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00268"></a>00268                 }<span class="keywordflow">else</span>{
<a name="l00269"></a>00269                     SDL_BlitSurface(textes[i], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00270"></a>00270                 }
<a name="l00271"></a>00271             }
<a name="l00272"></a>00272 
<a name="l00273"></a>00273             SDL_Flip(<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>);
<a name="l00274"></a>00274             dessiner = 0;
<a name="l00275"></a>00275         }
<a name="l00276"></a>00276     }
<a name="l00277"></a>00277 
<a name="l00278"></a>00278     <span class="keywordflow">for</span>( i=0; i&lt;nb_choix*2; i++ )<span class="comment">// On libère les textes</span>
<a name="l00279"></a>00279         SDL_FreeSurface(textes[i]);
<a name="l00280"></a>00280     <span class="keyword">delete</span>[] textes;<span class="comment">// On libère les textes</span>
<a name="l00281"></a>00281 
<a name="l00282"></a>00282     <span class="keywordflow">if</span>( sfr_titre )
<a name="l00283"></a>00283         SDL_FreeSurface(sfr_titre);
<a name="l00284"></a>00284     <span class="keywordflow">return</span> highLight;
<a name="l00285"></a>00285 }
<a name="l00286"></a>00286 
<a name="l00287"></a>00287 
<a name="l00288"></a>00288 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l00289"></a>00289 <span class="comment">* @fn void moteur_sdl::afficherConfigurationClavier( unsigned char joueur )</span>
<a name="l00290"></a>00290 <span class="comment">* @brief Menu permettant d&#39;afficher et de modifier la configuration du clavier d&#39;un joueur</span>
<a name="l00291"></a>00291 <span class="comment">* @param[in] joueur     Le numéro du joueur ( de 1 à ... )</span>
<a name="l00292"></a>00292 <span class="comment">*/</span>
<a name="l00293"></a><a class="code" href="classmoteur__sdl.html#a63cd3702f2f2cc52394465752965d4e8">00293</a> <span class="keywordtype">void</span> <a class="code" href="classmoteur__sdl.html#a63cd3702f2f2cc52394465752965d4e8" title="Menu permettant d&amp;#39;afficher et de modifier la configuration du clavier d&amp;#39;un joueur...">moteur_sdl::afficherConfigurationClavier</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> joueur )
<a name="l00294"></a>00294 {
<a name="l00295"></a>00295     <span class="keywordtype">bool</span> continuer = 1;
<a name="l00296"></a>00296     SDL_Event event;
<a name="l00297"></a>00297     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> highLight = 1;
<a name="l00298"></a>00298     <span class="keywordtype">bool</span> dessiner = 1;
<a name="l00299"></a>00299     <span class="keywordtype">int</span> i;
<a name="l00300"></a>00300     SDL_Rect position, position_droite; <span class="comment">/* position de blittage du texte */</span>
<a name="l00301"></a>00301     <span class="comment">// On récupère la config du joueur</span>
<a name="l00302"></a>00302     <a class="code" href="classclavier.html" title="Gère les claviers.">clavier</a>* cl = <a class="code" href="classmoteur__sdl.html#a275eb203b7d8d395945c03ba036e1360" title="Renvoie l&amp;#39;instance de la class. Si pas d&amp;#39;instance, alors création d&amp;#39;une instance...">options::getInstance</a>()-&gt;clavierJoueur( joueur-1 );
<a name="l00303"></a>00303 
<a name="l00304"></a>00304     <span class="comment">// POUR def une touche :</span>
<a name="l00305"></a>00305     <span class="comment">// cl-&gt;defTouche((clavier::t_touche)(clavier::haut+highLight-1), key);</span>
<a name="l00306"></a>00306     <span class="comment">// POUR récup une touche dans la configuration</span>
<a name="l00307"></a>00307     <span class="comment">// cl-&gt;touche(  clavier::haut );</span>
<a name="l00308"></a>00308 
<a name="l00309"></a>00309     SDL_Color couleurOrange = {255, 184, 0, 0<span class="comment">/*unused*/</span>};
<a name="l00310"></a>00310     SDL_Color couleurRouge = {255, 0, 0, 0<span class="comment">/*unused*/</span>};
<a name="l00311"></a>00311 
<a name="l00312"></a>00312     <span class="comment">// Création titre</span>
<a name="l00313"></a>00313     SDL_Surface* sfr_titre;
<a name="l00314"></a>00314     <span class="keywordtype">char</span> tempTexte[] = <span class="stringliteral">&quot;Configuration clavier du joueur 0&quot;</span>;<span class="comment">// Ne pas oublier le &#39;\0&#39; !</span>
<a name="l00315"></a>00315     tempTexte[strlen(tempTexte)-1] += joueur;
<a name="l00316"></a>00316     TTF_SetFontStyle(<a class="code" href="classmoteur__sdl.html#ab633b5e3c91468fd42127b33c51ec33a">c_policeGeneral</a>, TTF_STYLE_UNDERLINE);
<a name="l00317"></a>00317     sfr_titre = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempTexte);
<a name="l00318"></a>00318     TTF_SetFontStyle(<a class="code" href="classmoteur__sdl.html#ab633b5e3c91468fd42127b33c51ec33a">c_policeGeneral</a>, TTF_STYLE_NORMAL);
<a name="l00319"></a>00319 
<a name="l00320"></a>00320     <span class="comment">// Création du texte de retour</span>
<a name="l00321"></a>00321     SDL_Surface* sfr_retour[2];
<a name="l00322"></a>00322     sfr_retour[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Retour&quot;</span>);
<a name="l00323"></a>00323     sfr_retour[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Retour&quot;</span>, couleurOrange);
<a name="l00324"></a>00324 
<a name="l00325"></a>00325     <span class="comment">// Ecriture des textes</span>
<a name="l00326"></a>00326     SDL_Surface* sfr_msg; <span class="comment">/* pour dialoguer avec l&#39;utilisateur */</span>
<a name="l00327"></a>00327     SDL_Surface* sfr_HAUT[2];
<a name="l00328"></a>00328     SDL_Surface* sfr_HAUT_touche[2];
<a name="l00329"></a>00329     SDL_Surface* sfr_BAS[2];
<a name="l00330"></a>00330     SDL_Surface* sfr_BAS_touche[2];
<a name="l00331"></a>00331     SDL_Surface* sfr_DROITE[2];
<a name="l00332"></a>00332     SDL_Surface* sfr_DROITE_touche[2];
<a name="l00333"></a>00333     SDL_Surface* sfr_GAUCHE[2];
<a name="l00334"></a>00334     SDL_Surface* sfr_GAUCHE_touche[2];
<a name="l00335"></a>00335     SDL_Surface* sfr_LANCER_BOMBE[2];
<a name="l00336"></a>00336     SDL_Surface* sfr_LANCER_BOMBE_touche[2];
<a name="l00337"></a>00337     SDL_Surface* sfr_DETONATEUR[2];
<a name="l00338"></a>00338     SDL_Surface* sfr_DETONATEUR_touche[2];
<a name="l00339"></a>00339 
<a name="l00340"></a>00340     sfr_HAUT[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Haut&quot;</span>);
<a name="l00341"></a>00341     sfr_HAUT[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Haut&quot;</span>, couleurOrange);
<a name="l00342"></a>00342     sfr_HAUT_touche[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a8231b289f48a99aa410bbbeff3bd9b8e">clavier::haut</a>) ));
<a name="l00343"></a>00343     sfr_HAUT_touche[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a8231b289f48a99aa410bbbeff3bd9b8e">clavier::haut</a>) ), couleurOrange);
<a name="l00344"></a>00344     sfr_BAS[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Bas&quot;</span>);
<a name="l00345"></a>00345     sfr_BAS[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Bas&quot;</span>, couleurOrange);
<a name="l00346"></a>00346     sfr_BAS_touche[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a11ae41a3ad78c2ca0e17684d62ab8a0a">clavier::bas</a>) ));
<a name="l00347"></a>00347     sfr_BAS_touche[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a11ae41a3ad78c2ca0e17684d62ab8a0a">clavier::bas</a>) ), couleurOrange);
<a name="l00348"></a>00348     sfr_DROITE[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Droite&quot;</span>);
<a name="l00349"></a>00349     sfr_DROITE[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Droite&quot;</span>, couleurOrange);
<a name="l00350"></a>00350     sfr_DROITE_touche[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a02c98200c93bcecacd095997b8ae558a">clavier::droite</a>) ));
<a name="l00351"></a>00351     sfr_DROITE_touche[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a02c98200c93bcecacd095997b8ae558a">clavier::droite</a>) ), couleurOrange);
<a name="l00352"></a>00352     sfr_GAUCHE[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Gauche&quot;</span>);
<a name="l00353"></a>00353     sfr_GAUCHE[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Gauche&quot;</span>, couleurOrange);
<a name="l00354"></a>00354     sfr_GAUCHE_touche[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165af13384e0a20ef0b70ff3f04e41879df7">clavier::gauche</a>) ));
<a name="l00355"></a>00355     sfr_GAUCHE_touche[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165af13384e0a20ef0b70ff3f04e41879df7">clavier::gauche</a>) ), couleurOrange);
<a name="l00356"></a>00356     sfr_LANCER_BOMBE[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Lancer bombe&quot;</span>);
<a name="l00357"></a>00357     sfr_LANCER_BOMBE[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Lancer bombe&quot;</span>, couleurOrange);
<a name="l00358"></a>00358     sfr_LANCER_BOMBE_touche[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165ab7a4a8f874823e415ac1fd56e450a4b8">clavier::lancerBombe</a>) ));
<a name="l00359"></a>00359     sfr_LANCER_BOMBE_touche[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165ab7a4a8f874823e415ac1fd56e450a4b8">clavier::lancerBombe</a>) ), couleurOrange);
<a name="l00360"></a>00360     sfr_DETONATEUR[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Détonateur&quot;</span>);
<a name="l00361"></a>00361     sfr_DETONATEUR[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Détonateur&quot;</span>, couleurOrange);
<a name="l00362"></a>00362     sfr_DETONATEUR_touche[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a25f40f7924d6289a172be3c154768918">clavier::declancheur</a>) ));
<a name="l00363"></a>00363     sfr_DETONATEUR_touche[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a25f40f7924d6289a172be3c154768918">clavier::declancheur</a>) ), couleurOrange);
<a name="l00364"></a>00364 
<a name="l00365"></a>00365     <span class="keywordflow">do</span>{
<a name="l00366"></a>00366         SDL_WaitEvent(&amp;event);
<a name="l00367"></a>00367         <span class="keywordflow">switch</span>( event.type )
<a name="l00368"></a>00368         {
<a name="l00369"></a>00369             <span class="keywordflow">case</span> SDL_QUIT: { <span class="comment">/* si on clique sur la croix rouge de la fenêtre -&gt; on sort et highLight */</span>
<a name="l00370"></a>00370                 highLight = 7; <span class="comment">/*   passe à 7 (valeur de sortie) */</span>
<a name="l00371"></a>00371                 continuer = 0;
<a name="l00372"></a>00372                 <a class="code" href="classmoteur__sdl.html#a7f0f9cf61c0fd59a9a0d93b53a09ed28">c_fenetreOuverte</a> = <span class="keyword">false</span>;
<a name="l00373"></a>00373                 <span class="keywordflow">break</span>;
<a name="l00374"></a>00374             }
<a name="l00375"></a>00375             <span class="keywordflow">case</span> SDL_KEYDOWN: { <span class="comment">/* si touche appuyée */</span>
<a name="l00376"></a>00376                 <span class="keywordflow">switch</span>( <a class="code" href="classmoteur__sdl.html#aa5484b45267f4b4cd48e6ad5c120ead5" title="Permet l&amp;#39;utilisation d&amp;#39;un clavier unicode en toute simplicité.">traductionClavier</a>(&amp;event.key) ) <span class="comment">/* on traduit la touche */</span>
<a name="l00377"></a>00377                 {
<a name="l00378"></a>00378                     <span class="keywordflow">case</span> SDLK_ESCAPE: { <span class="comment">/*  si on appuit sur la touche echap */</span>
<a name="l00379"></a>00379                         highLight = 7; <span class="comment">/*   passe à 7 (valeur de sortie) */</span>
<a name="l00380"></a>00380                         continuer = 0;
<a name="l00381"></a>00381                         <span class="keywordflow">break</span>;
<a name="l00382"></a>00382                     }
<a name="l00383"></a>00383                     <span class="keywordflow">case</span> SDLK_UP: { <span class="comment">/* flèche du haut */</span>
<a name="l00384"></a>00384                         <span class="keywordflow">if</span>( highLight == 1 ){ <span class="comment">/* si on est tout en haut, alors on va tout en bas */</span>
<a name="l00385"></a>00385                             highLight = 7;
<a name="l00386"></a>00386                         }<span class="keywordflow">else</span>{ <span class="comment">/* sinon highLight --*/</span>
<a name="l00387"></a>00387                             highLight--;
<a name="l00388"></a>00388                         }
<a name="l00389"></a>00389                         dessiner = 1; <span class="comment">/* mouvement donc on redessine */</span>
<a name="l00390"></a>00390                         <span class="keywordflow">break</span>;
<a name="l00391"></a>00391                     }
<a name="l00392"></a>00392                     <span class="keywordflow">case</span> SDLK_DOWN: { <span class="comment">/* flèche bas */</span>
<a name="l00393"></a>00393                         <span class="keywordflow">if</span>( highLight == 7 ){ <span class="comment">/* si on est tout en bas, alors on va tout en haut */</span>
<a name="l00394"></a>00394                             highLight = 1;
<a name="l00395"></a>00395                         }<span class="keywordflow">else</span>{ <span class="comment">/* sinon highLight ++ */</span>
<a name="l00396"></a>00396                             highLight++;
<a name="l00397"></a>00397                         }
<a name="l00398"></a>00398                         dessiner = 1; <span class="comment">/* mouvement donc on redessine */</span>
<a name="l00399"></a>00399                         <span class="keywordflow">break</span>;
<a name="l00400"></a>00400                     }
<a name="l00401"></a>00401                     <span class="keywordflow">case</span> SDLK_RETURN: { <span class="comment">/* touche entrer appuyée */</span>
<a name="l00402"></a>00402                         <span class="keywordflow">if</span>( highLight == 7 ){ <span class="comment">/* entrer + dernière ligne -&gt; sortie */</span>
<a name="l00403"></a>00403                             highLight = 7;
<a name="l00404"></a>00404                             continuer = 0;
<a name="l00405"></a>00405                             <span class="keywordflow">break</span>;
<a name="l00406"></a>00406                         }
<a name="l00407"></a>00407 
<a name="l00408"></a>00408                         <span class="keywordflow">switch</span>( highLight )
<a name="l00409"></a>00409                         {
<a name="l00410"></a>00410                             <span class="comment">/* liens modifiables : de 1 à 6 */</span>
<a name="l00411"></a>00411                             <span class="keywordflow">case</span> 1:
<a name="l00412"></a>00412                                 sfr_msg = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Appuyer sur la nouvelle touche pour HAUT&quot;</span>, couleurRouge, 50);
<a name="l00413"></a>00413                                 <span class="keywordflow">break</span>;
<a name="l00414"></a>00414                             <span class="keywordflow">case</span> 2:
<a name="l00415"></a>00415                                 sfr_msg = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Appuyer sur la nouvelle touche pour BAS&quot;</span>, couleurRouge, 50);
<a name="l00416"></a>00416                                 <span class="keywordflow">break</span>;
<a name="l00417"></a>00417                             <span class="keywordflow">case</span> 3:
<a name="l00418"></a>00418                                 sfr_msg = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Appuyer sur la nouvelle touche pour DROITE&quot;</span>, couleurRouge, 50);
<a name="l00419"></a>00419                                 <span class="keywordflow">break</span>;
<a name="l00420"></a>00420                             <span class="keywordflow">case</span> 4:
<a name="l00421"></a>00421                                 sfr_msg = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Appuyer sur la nouvelle touche pour GAUCHE&quot;</span>, couleurRouge, 50);
<a name="l00422"></a>00422                                 <span class="keywordflow">break</span>;
<a name="l00423"></a>00423                             <span class="keywordflow">case</span> 5:
<a name="l00424"></a>00424                                 sfr_msg = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Appuyer sur la nouvelle touche pour la BOMBE&quot;</span>, couleurRouge, 50);
<a name="l00425"></a>00425                                 <span class="keywordflow">break</span>;
<a name="l00426"></a>00426                             <span class="keywordflow">case</span> 6:
<a name="l00427"></a>00427                                 sfr_msg = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Appuyer sur la nouvelle touche pour le DETONATEUR&quot;</span>, couleurRouge, 50);
<a name="l00428"></a>00428                                 <span class="keywordflow">break</span>;
<a name="l00429"></a>00429                         }
<a name="l00430"></a>00430 
<a name="l00431"></a>00431                         position.x = 0;
<a name="l00432"></a>00432                         position.y = 0;
<a name="l00433"></a>00433                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a158b583b287bbecba9cf9756206d3c21">c_background</a>, NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position);<span class="comment">/* blittage du background */</span>
<a name="l00434"></a>00434                         position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-sfr_msg-&gt;w)/2;
<a name="l00435"></a>00435                         position.y = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;h-sfr_msg-&gt;h)/2;
<a name="l00436"></a>00436                         SDL_BlitSurface(sfr_msg, NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* blittage du texte */</span>
<a name="l00437"></a>00437                         SDL_Flip(<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>); <span class="comment">/* raffraichissement */</span>
<a name="l00438"></a>00438                         <span class="keywordflow">do</span>{
<a name="l00439"></a>00439                             SDL_WaitEvent(&amp;event); <span class="comment">/* en attente d&#39;un évènement */</span>
<a name="l00440"></a>00440                             <span class="keywordflow">if</span>( event.type == SDL_QUIT ){ <span class="comment">/* si croix rouge -&gt; on sort */</span>
<a name="l00441"></a>00441                                 continuer = 0;
<a name="l00442"></a>00442                                 highLight = 7;
<a name="l00443"></a>00443                                 <a class="code" href="classmoteur__sdl.html#a7f0f9cf61c0fd59a9a0d93b53a09ed28">c_fenetreOuverte</a> = <span class="keyword">false</span>;
<a name="l00444"></a>00444                                 <span class="keywordflow">break</span>;
<a name="l00445"></a>00445                             }
<a name="l00446"></a>00446                             <span class="comment">/* sinon lire la touche et l&#39;enregistrer */</span>
<a name="l00447"></a>00447                             <span class="keywordflow">if</span>( event.type == SDL_KEYDOWN &amp;&amp; <a class="code" href="classmoteur__sdl.html#aa5484b45267f4b4cd48e6ad5c120ead5" title="Permet l&amp;#39;utilisation d&amp;#39;un clavier unicode en toute simplicité.">traductionClavier</a>(&amp;event.key) != SDLK_ESCAPE ){
<a name="l00448"></a>00448                                 <span class="comment">/* redéfinition de la touche : */</span>
<a name="l00449"></a>00449                                 cl-&gt;<a class="code" href="classclavier.html#aea4d1270e56db4551c11b0d9c5079a50" title="Définition d&amp;#39;une touche.">defTouche</a>((<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165" title="Les actions possibles avec les touches.">clavier::t_touche</a>)(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a8231b289f48a99aa410bbbeff3bd9b8e">clavier::haut</a>+highLight-1), <a class="code" href="classmoteur__sdl.html#aa5484b45267f4b4cd48e6ad5c120ead5" title="Permet l&amp;#39;utilisation d&amp;#39;un clavier unicode en toute simplicité.">traductionClavier</a>(&amp;event.key));
<a name="l00450"></a>00450                                 <span class="keywordflow">switch</span>( highLight )
<a name="l00451"></a>00451                                 {
<a name="l00452"></a>00452                                     <span class="comment">/* liens modifiables : de 1 à 6 */</span>
<a name="l00453"></a>00453                                     <span class="keywordflow">case</span> 1:
<a name="l00454"></a>00454                                         SDL_FreeSurface(sfr_HAUT_touche[0]);
<a name="l00455"></a>00455                                         SDL_FreeSurface(sfr_HAUT_touche[1]);
<a name="l00456"></a>00456                                         sfr_HAUT_touche[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a8231b289f48a99aa410bbbeff3bd9b8e">clavier::haut</a>) ));
<a name="l00457"></a>00457                                         sfr_HAUT_touche[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a8231b289f48a99aa410bbbeff3bd9b8e">clavier::haut</a>) ), couleurOrange);
<a name="l00458"></a>00458                                         <span class="keywordflow">break</span>;
<a name="l00459"></a>00459                                     <span class="keywordflow">case</span> 2:
<a name="l00460"></a>00460                                         SDL_FreeSurface(sfr_BAS_touche[0]);
<a name="l00461"></a>00461                                         SDL_FreeSurface(sfr_BAS_touche[1]);
<a name="l00462"></a>00462                                         sfr_BAS_touche[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a11ae41a3ad78c2ca0e17684d62ab8a0a">clavier::bas</a>) ));
<a name="l00463"></a>00463                                         sfr_BAS_touche[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a11ae41a3ad78c2ca0e17684d62ab8a0a">clavier::bas</a>) ), couleurOrange);
<a name="l00464"></a>00464                                         <span class="keywordflow">break</span>;
<a name="l00465"></a>00465                                     <span class="keywordflow">case</span> 3:
<a name="l00466"></a>00466                                         SDL_FreeSurface(sfr_DROITE_touche[0]);
<a name="l00467"></a>00467                                         SDL_FreeSurface(sfr_DROITE_touche[1]);
<a name="l00468"></a>00468                                         sfr_DROITE_touche[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a02c98200c93bcecacd095997b8ae558a">clavier::droite</a>) ));
<a name="l00469"></a>00469                                         sfr_DROITE_touche[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a02c98200c93bcecacd095997b8ae558a">clavier::droite</a>) ), couleurOrange);
<a name="l00470"></a>00470                                         <span class="keywordflow">break</span>;
<a name="l00471"></a>00471                                     <span class="keywordflow">case</span> 4:
<a name="l00472"></a>00472                                         SDL_FreeSurface(sfr_GAUCHE_touche[0]);
<a name="l00473"></a>00473                                         SDL_FreeSurface(sfr_GAUCHE_touche[1]);
<a name="l00474"></a>00474                                         sfr_GAUCHE_touche[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165af13384e0a20ef0b70ff3f04e41879df7">clavier::gauche</a>) ));
<a name="l00475"></a>00475                                         sfr_GAUCHE_touche[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165af13384e0a20ef0b70ff3f04e41879df7">clavier::gauche</a>) ), couleurOrange);
<a name="l00476"></a>00476                                         <span class="keywordflow">break</span>;
<a name="l00477"></a>00477                                     <span class="keywordflow">case</span> 5:
<a name="l00478"></a>00478                                         SDL_FreeSurface(sfr_LANCER_BOMBE_touche[0]);
<a name="l00479"></a>00479                                         SDL_FreeSurface(sfr_LANCER_BOMBE_touche[1]);
<a name="l00480"></a>00480                                         sfr_LANCER_BOMBE_touche[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165ab7a4a8f874823e415ac1fd56e450a4b8">clavier::lancerBombe</a>) ));
<a name="l00481"></a>00481                                         sfr_LANCER_BOMBE_touche[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165ab7a4a8f874823e415ac1fd56e450a4b8">clavier::lancerBombe</a>) ), couleurOrange);
<a name="l00482"></a>00482                                         <span class="keywordflow">break</span>;
<a name="l00483"></a>00483                                     <span class="keywordflow">case</span> 6:
<a name="l00484"></a>00484                                         SDL_FreeSurface(sfr_DETONATEUR_touche[0]);
<a name="l00485"></a>00485                                         SDL_FreeSurface(sfr_DETONATEUR_touche[1]);
<a name="l00486"></a>00486                                         sfr_DETONATEUR_touche[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a25f40f7924d6289a172be3c154768918">clavier::declancheur</a>) ));
<a name="l00487"></a>00487                                         sfr_DETONATEUR_touche[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(SDL_GetKeyName( cl-&gt;<a class="code" href="classclavier.html#a64ea9fed59e7a3a07c987a412b96880a" title="Renvoie la touche affecté pour une action.">touche</a>(<a class="code" href="classclavier.html#a856f09c9c69488343534494c2e1ed165a25f40f7924d6289a172be3c154768918">clavier::declancheur</a>) ), couleurOrange);
<a name="l00488"></a>00488                                         <span class="keywordflow">break</span>;
<a name="l00489"></a>00489                                 }
<a name="l00490"></a>00490                             }
<a name="l00491"></a>00491                         }<span class="keywordflow">while</span>( event.type != SDL_KEYDOWN );
<a name="l00492"></a>00492                         SDL_FreeSurface(sfr_msg); <span class="comment">/* libération de sfr_msg */</span>
<a name="l00493"></a>00493                         dessiner = 1;
<a name="l00494"></a>00494                         <span class="keywordflow">break</span>;
<a name="l00495"></a>00495                     }
<a name="l00496"></a>00496 
<a name="l00497"></a>00497                     <span class="keywordflow">default</span>:<span class="comment">// On eject les autres cas</span>
<a name="l00498"></a>00498                         <span class="keywordflow">break</span>;
<a name="l00499"></a>00499                 } <span class="comment">/* fin switch */</span>
<a name="l00500"></a>00500             } <span class="comment">/* fin case return */</span>
<a name="l00501"></a>00501         } <span class="comment">/* fin switch */</span>
<a name="l00502"></a>00502 
<a name="l00503"></a>00503         <span class="keywordflow">if</span>( dessiner )
<a name="l00504"></a>00504         {
<a name="l00505"></a>00505             position.x = 0;
<a name="l00506"></a>00506             position.y = 0;
<a name="l00507"></a>00507             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a158b583b287bbecba9cf9756206d3c21">c_background</a>, NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* blittage du background */</span>
<a name="l00508"></a>00508 
<a name="l00509"></a>00509             position.y = 200;
<a name="l00510"></a>00510             position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-sfr_titre-&gt;w)/2; <span class="comment">/* centrage */</span>
<a name="l00511"></a>00511             SDL_BlitSurface(sfr_titre, NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* blittage du titre */</span>
<a name="l00512"></a>00512 
<a name="l00513"></a>00513 
<a name="l00514"></a>00514             position.x = 100;
<a name="l00515"></a>00515             position_droite.x = <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-250;
<a name="l00516"></a>00516 
<a name="l00517"></a>00517             position.y = 300;<span class="comment">//+60</span>
<a name="l00518"></a>00518             position_droite.y = position.y;
<a name="l00519"></a>00519             <span class="keywordflow">if</span>( highLight == 1 ){ <span class="comment">/* if i = highLight (exemple i = 0 implique higLight = 1 -&gt; égaux */</span>
<a name="l00520"></a>00520                 SDL_BlitSurface(sfr_HAUT[1], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position);
<a name="l00521"></a>00521                 SDL_BlitSurface(sfr_HAUT_touche[1], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position_droite); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00522"></a>00522             }<span class="keywordflow">else</span>{
<a name="l00523"></a>00523                 SDL_BlitSurface(sfr_HAUT[0], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00524"></a>00524                 SDL_BlitSurface(sfr_HAUT_touche[0], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position_droite);
<a name="l00525"></a>00525             }
<a name="l00526"></a>00526             position.y += 60;
<a name="l00527"></a>00527             position_droite.y = position.y;
<a name="l00528"></a>00528             <span class="keywordflow">if</span>( highLight == 2 ){ <span class="comment">/* if i = highLight (exemple i = 0 implique higLight = 1 -&gt; égaux */</span>
<a name="l00529"></a>00529                 SDL_BlitSurface(sfr_BAS[1], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00530"></a>00530                 SDL_BlitSurface(sfr_BAS_touche[1], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position_droite);
<a name="l00531"></a>00531             }<span class="keywordflow">else</span>{
<a name="l00532"></a>00532                 SDL_BlitSurface(sfr_BAS[0], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00533"></a>00533                 SDL_BlitSurface(sfr_BAS_touche[0], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position_droite);
<a name="l00534"></a>00534             }
<a name="l00535"></a>00535             position.y += 60;
<a name="l00536"></a>00536             position_droite.y = position.y;
<a name="l00537"></a>00537             <span class="keywordflow">if</span>( highLight == 3 ){ <span class="comment">/* if i = highLight (exemple i = 0 implique higLight = 1 -&gt; égaux */</span>
<a name="l00538"></a>00538                 SDL_BlitSurface(sfr_DROITE[1], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00539"></a>00539                 SDL_BlitSurface(sfr_DROITE_touche[1], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position_droite);
<a name="l00540"></a>00540             }<span class="keywordflow">else</span>{
<a name="l00541"></a>00541                 SDL_BlitSurface(sfr_DROITE[0], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00542"></a>00542                 SDL_BlitSurface(sfr_DROITE_touche[0], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position_droite);
<a name="l00543"></a>00543             }
<a name="l00544"></a>00544             position.y += 60;
<a name="l00545"></a>00545             position_droite.y = position.y;
<a name="l00546"></a>00546             <span class="keywordflow">if</span>( highLight == 4 ){ <span class="comment">/* if i = highLight (exemple i = 0 implique higLight = 1 -&gt; égaux */</span>
<a name="l00547"></a>00547                 SDL_BlitSurface(sfr_GAUCHE[1], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00548"></a>00548                 SDL_BlitSurface(sfr_GAUCHE_touche[1], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position_droite);
<a name="l00549"></a>00549             }<span class="keywordflow">else</span>{
<a name="l00550"></a>00550                 SDL_BlitSurface(sfr_GAUCHE[0], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00551"></a>00551                 SDL_BlitSurface(sfr_GAUCHE_touche[0], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position_droite);
<a name="l00552"></a>00552             }
<a name="l00553"></a>00553             position.y += 60;
<a name="l00554"></a>00554             position_droite.y = position.y;
<a name="l00555"></a>00555             <span class="keywordflow">if</span>( highLight == 5 ){ <span class="comment">/* if i = highLight (exemple i = 0 implique higLight = 1 -&gt; égaux */</span>
<a name="l00556"></a>00556                 SDL_BlitSurface(sfr_LANCER_BOMBE[1], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00557"></a>00557                 SDL_BlitSurface(sfr_LANCER_BOMBE_touche[1], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position_droite);
<a name="l00558"></a>00558             }<span class="keywordflow">else</span>{
<a name="l00559"></a>00559                 SDL_BlitSurface(sfr_LANCER_BOMBE[0], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00560"></a>00560                 SDL_BlitSurface(sfr_LANCER_BOMBE_touche[0], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position_droite);
<a name="l00561"></a>00561             }
<a name="l00562"></a>00562             position.y += 60;
<a name="l00563"></a>00563             position_droite.y = position.y;
<a name="l00564"></a>00564             <span class="keywordflow">if</span>( highLight == 6 ){ <span class="comment">/* if i = highLight (exemple i = 0 implique higLight = 1 -&gt; égaux */</span>
<a name="l00565"></a>00565                 SDL_BlitSurface(sfr_DETONATEUR[1], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00566"></a>00566                 SDL_BlitSurface(sfr_DETONATEUR_touche[1], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position_droite);
<a name="l00567"></a>00567             }<span class="keywordflow">else</span>{
<a name="l00568"></a>00568                 SDL_BlitSurface(sfr_DETONATEUR[0], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00569"></a>00569                 SDL_BlitSurface(sfr_DETONATEUR_touche[0], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position_droite);
<a name="l00570"></a>00570             }
<a name="l00571"></a>00571             position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-sfr_retour[0]-&gt;w)/2;
<a name="l00572"></a>00572             position.y += 60;
<a name="l00573"></a>00573             <span class="keywordflow">if</span>( highLight == 7 ){ <span class="comment">/* if i = highLight (exemple i = 0 implique higLight = 1 -&gt; égaux */</span>
<a name="l00574"></a>00574                 SDL_BlitSurface(sfr_retour[1], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00575"></a>00575             }<span class="keywordflow">else</span>{
<a name="l00576"></a>00576                 SDL_BlitSurface(sfr_retour[0], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00577"></a>00577             }
<a name="l00578"></a>00578 
<a name="l00579"></a>00579             SDL_Flip(<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>);
<a name="l00580"></a>00580             dessiner = 0;
<a name="l00581"></a>00581         }
<a name="l00582"></a>00582 
<a name="l00583"></a>00583     }<span class="keywordflow">while</span>( continuer );<span class="comment">/* fin while */</span>
<a name="l00584"></a>00584 
<a name="l00585"></a>00585     <span class="comment">// Free</span>
<a name="l00586"></a>00586     <span class="keywordflow">for</span>( i=0; i&lt;2; i++ )
<a name="l00587"></a>00587     {
<a name="l00588"></a>00588         SDL_FreeSurface(sfr_retour[i]);
<a name="l00589"></a>00589         SDL_FreeSurface(sfr_HAUT[i]);
<a name="l00590"></a>00590         SDL_FreeSurface(sfr_HAUT_touche[i]);
<a name="l00591"></a>00591         SDL_FreeSurface(sfr_BAS[i]);
<a name="l00592"></a>00592         SDL_FreeSurface(sfr_BAS_touche[i]);
<a name="l00593"></a>00593         SDL_FreeSurface(sfr_DROITE[i]);
<a name="l00594"></a>00594         SDL_FreeSurface(sfr_DROITE_touche[i]);
<a name="l00595"></a>00595         SDL_FreeSurface(sfr_GAUCHE[i]);
<a name="l00596"></a>00596         SDL_FreeSurface(sfr_GAUCHE_touche[i]);
<a name="l00597"></a>00597         SDL_FreeSurface(sfr_LANCER_BOMBE[i]);
<a name="l00598"></a>00598         SDL_FreeSurface(sfr_LANCER_BOMBE_touche[i]);
<a name="l00599"></a>00599         SDL_FreeSurface(sfr_DETONATEUR[i]);
<a name="l00600"></a>00600         SDL_FreeSurface(sfr_DETONATEUR_touche[i]);
<a name="l00601"></a>00601     }
<a name="l00602"></a>00602 
<a name="l00603"></a>00603     SDL_FreeSurface(sfr_titre);
<a name="l00604"></a>00604 }
<a name="l00605"></a>00605 
<a name="l00606"></a>00606 
<a name="l00607"></a>00607 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l00608"></a>00608 <span class="comment">* @fn int moteur_sdl::getNombre( const char titre[], int valeurParDefaut, int valeurMin, int valeurMax, int* valeurRetour )</span>
<a name="l00609"></a>00609 <span class="comment">* @brief Créer un menu pour récupérer un nombre entré par un utilisateur</span>
<a name="l00610"></a>00610 <span class="comment">* @param[in] titre           Le titre du menu</span>
<a name="l00611"></a>00611 <span class="comment">* @param[in] valeurParDefaut La valeur par défaut</span>
<a name="l00612"></a>00612 <span class="comment">* @param[in] valeurMin       La valeur minimum</span>
<a name="l00613"></a>00613 <span class="comment">* @param[in] valeurMax       La valeur maximum</span>
<a name="l00614"></a>00614 <span class="comment">* @param[out] valeurRetour   Dans cette variable sera stocké, le nombre obtenu a la fin de la fonction</span>
<a name="l00615"></a>00615 <span class="comment">* @return</span>
<a name="l00616"></a>00616 <span class="comment">*   - 2 : Nombre validé et accèpté</span>
<a name="l00617"></a>00617 <span class="comment">*   - 3 : Action annulée</span>
<a name="l00618"></a>00618 <span class="comment">*/</span>
<a name="l00619"></a><a class="code" href="classmoteur__sdl.html#a8a6ebf2258858708040bffa6f01eb4c6">00619</a> <span class="keywordtype">int</span> <a class="code" href="classmoteur__sdl.html#a8a6ebf2258858708040bffa6f01eb4c6" title="Créer un menu pour récupérer un nombre entré par un utilisateur.">moteur_sdl::getNombre</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> titre[], <span class="keywordtype">int</span> valeurParDefaut, <span class="keywordtype">int</span> valeurMin, <span class="keywordtype">int</span> valeurMax, <span class="keywordtype">int</span>* valeurRetour )
<a name="l00620"></a>00620 {
<a name="l00621"></a>00621     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> highLight = 2;
<a name="l00622"></a>00622     <span class="keywordtype">bool</span> continuer = 1;
<a name="l00623"></a>00623     SDL_Event event;
<a name="l00624"></a>00624     SDL_Color couleurOrange = {255, 184, 0, 0<span class="comment">/*unused*/</span>};
<a name="l00625"></a>00625     SDL_Color couleurRouge = {255, 0, 0, 0<span class="comment">/*unused*/</span>};
<a name="l00626"></a>00626     SDL_Rect position;
<a name="l00627"></a>00627     SDL_Surface* sfr_titre = 0;
<a name="l00628"></a>00628     SDL_Surface* sfr_msg = 0;
<a name="l00629"></a>00629     SDL_Surface** textes;
<a name="l00630"></a>00630     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
<a name="l00631"></a>00631     <span class="keywordtype">bool</span> dessiner = 1;
<a name="l00632"></a>00632     <span class="keywordtype">bool</span> dessinerNombre = 0;
<a name="l00633"></a>00633 
<a name="l00634"></a>00634     <span class="keywordtype">char</span> valeurRetourTexte[<span class="comment">/*Taille max d&#39;un unsigned int*/</span><a class="code" href="structget_size_of_number.html" title="Détermine le nombre de chiffre dans un nombre. (NOMBRE POSITIF !).">getSizeOfNumber</a>&lt;-1&gt;::value+1<span class="comment">/*Pour le signe*/</span>+4*2<span class="comment">/*Pour les &lt;--*/</span>+1<span class="comment">/*Le \0*/</span>];<span class="comment">// &lt;- Calcule :: lenght(2^(sizeof(int)*8))+4*2</span>
<a name="l00635"></a>00635 
<a name="l00636"></a>00636     <span class="keywordflow">if</span>( valeurMin &gt; valeurParDefaut || valeurParDefaut &gt; valeurMax ){
<a name="l00637"></a>00637         stdError(<span class="stringliteral">&quot;Valeur incorrect ! valeurMin(%d) &lt;= valeurParDefaut(%d) &amp;&amp; valeurParDefaut(%d) &lt;= valeurMax(%d)&quot;</span>, valeurMin, valeurParDefaut, valeurParDefaut, valeurMax);
<a name="l00638"></a>00638         valeurParDefaut = (valeurMax - valeurMin)/2+valeurMin;
<a name="l00639"></a>00639     }
<a name="l00640"></a>00640 
<a name="l00641"></a>00641     *valeurRetour = valeurParDefaut;
<a name="l00642"></a>00642     sprintf(valeurRetourTexte, <span class="stringliteral">&quot;&lt;-- %d --&gt;&quot;</span>, *valeurRetour);
<a name="l00643"></a>00643 
<a name="l00644"></a>00644     textes = <span class="keyword">new</span> SDL_Surface*[3*2];
<a name="l00645"></a>00645 
<a name="l00646"></a>00646     <span class="comment">/* Ecriture du texte dans la SDL_Surface &quot;texte&quot; en mode Blended (optimal) */</span>
<a name="l00647"></a>00647     textes[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(valeurRetourTexte);
<a name="l00648"></a>00648     textes[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Ok&quot;</span>);
<a name="l00649"></a>00649     textes[2] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Retour&quot;</span>);
<a name="l00650"></a>00650 
<a name="l00651"></a>00651     <span class="comment">// Création du texte HighLight</span>
<a name="l00652"></a>00652     textes[3] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(valeurRetourTexte, couleurOrange);
<a name="l00653"></a>00653     textes[4] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Ok&quot;</span>, couleurOrange);
<a name="l00654"></a>00654     textes[5] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Retour&quot;</span>, couleurOrange);
<a name="l00655"></a>00655 
<a name="l00656"></a>00656     <span class="comment">// Création du titre</span>
<a name="l00657"></a>00657     TTF_SetFontStyle(<a class="code" href="classmoteur__sdl.html#ab633b5e3c91468fd42127b33c51ec33a">c_policeGeneral</a>, TTF_STYLE_UNDERLINE);
<a name="l00658"></a>00658     sfr_titre = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(titre);
<a name="l00659"></a>00659     TTF_SetFontStyle(<a class="code" href="classmoteur__sdl.html#ab633b5e3c91468fd42127b33c51ec33a">c_policeGeneral</a>, TTF_STYLE_NORMAL);
<a name="l00660"></a>00660 
<a name="l00661"></a>00661 
<a name="l00662"></a>00662     <span class="keywordflow">while</span>( continuer &amp;&amp; <a class="code" href="classmoteur__sdl.html#a7f0f9cf61c0fd59a9a0d93b53a09ed28">c_fenetreOuverte</a> )
<a name="l00663"></a>00663     {
<a name="l00664"></a>00664         SDL_WaitEvent(&amp;event);
<a name="l00665"></a>00665         <span class="keywordflow">switch</span>( event.type )
<a name="l00666"></a>00666         {
<a name="l00667"></a>00667             <span class="keywordflow">case</span> SDL_QUIT: {
<a name="l00668"></a>00668                 highLight = 3;<span class="comment">// On veut quitter !</span>
<a name="l00669"></a>00669                 continuer = 0;
<a name="l00670"></a>00670                 <a class="code" href="classmoteur__sdl.html#a7f0f9cf61c0fd59a9a0d93b53a09ed28">c_fenetreOuverte</a> = <span class="keyword">false</span>;
<a name="l00671"></a>00671                 <span class="keywordflow">break</span>;
<a name="l00672"></a>00672             }
<a name="l00673"></a>00673             <span class="keywordflow">case</span> SDL_KEYDOWN: {
<a name="l00674"></a>00674                 <span class="keywordflow">switch</span>( event.key.keysym.sym )
<a name="l00675"></a>00675                 {
<a name="l00676"></a>00676                     <span class="keywordflow">case</span> SDLK_UP: { <span class="comment">/* Appui sur la touche Echap, on arrête le programme */</span>
<a name="l00677"></a>00677                         <span class="keywordflow">if</span>( highLight == 1 ){<span class="comment">// On bouge notre highLight vers le haut</span>
<a name="l00678"></a>00678                             highLight = 3;
<a name="l00679"></a>00679                         }<span class="keywordflow">else</span>{
<a name="l00680"></a>00680                             highLight--;
<a name="l00681"></a>00681                         }
<a name="l00682"></a>00682                         dessiner = 1;<span class="comment">// On redessine</span>
<a name="l00683"></a>00683                         <span class="keywordflow">break</span>;
<a name="l00684"></a>00684                     }
<a name="l00685"></a>00685                     <span class="keywordflow">case</span> SDLK_DOWN: {<span class="comment">// On bouge notre highLight vers le bas</span>
<a name="l00686"></a>00686                         <span class="keywordflow">if</span>( highLight == 3 ){
<a name="l00687"></a>00687                             highLight = 1;
<a name="l00688"></a>00688                         }<span class="keywordflow">else</span>{
<a name="l00689"></a>00689                             highLight++;
<a name="l00690"></a>00690                         }
<a name="l00691"></a>00691                         dessiner = 1;<span class="comment">// On redessine</span>
<a name="l00692"></a>00692                         <span class="keywordflow">break</span>;
<a name="l00693"></a>00693                     }
<a name="l00694"></a>00694                     <span class="keywordflow">case</span> SDLK_RIGHT: {
<a name="l00695"></a>00695                         <span class="keywordflow">if</span>( highLight != 1 )<span class="comment">// Pour être certain que l&#39;on ne change les nombre que si l&#39;on est sur le 1er element</span>
<a name="l00696"></a>00696                             <span class="keywordflow">break</span>;
<a name="l00697"></a>00697 
<a name="l00698"></a>00698                         <span class="keywordflow">if</span>( *valeurRetour+1 &gt; valeurMax )
<a name="l00699"></a>00699                             *valeurRetour = valeurMin;
<a name="l00700"></a>00700                         <span class="keywordflow">else</span>
<a name="l00701"></a>00701                             (*valeurRetour)++;
<a name="l00702"></a>00702 
<a name="l00703"></a>00703                         <span class="comment">// On redessine le nombre</span>
<a name="l00704"></a>00704                         dessinerNombre = 1;
<a name="l00705"></a>00705                         dessiner = 1;
<a name="l00706"></a>00706                         <span class="keywordflow">break</span>;
<a name="l00707"></a>00707                     }
<a name="l00708"></a>00708                     <span class="keywordflow">case</span> SDLK_LEFT: {
<a name="l00709"></a>00709                         <span class="keywordflow">if</span>( highLight != 1 )<span class="comment">// Pour être certain que l&#39;on ne change les nombre que si l&#39;on est sur le 1er element</span>
<a name="l00710"></a>00710                             <span class="keywordflow">break</span>;
<a name="l00711"></a>00711 
<a name="l00712"></a>00712                         <span class="keywordflow">if</span>( *valeurRetour-1 &lt; valeurMin )
<a name="l00713"></a>00713                             *valeurRetour = valeurMax;
<a name="l00714"></a>00714                         <span class="keywordflow">else</span>
<a name="l00715"></a>00715                             (*valeurRetour)--;
<a name="l00716"></a>00716 
<a name="l00717"></a>00717                         <span class="comment">// On redessine le nombre</span>
<a name="l00718"></a>00718                         dessinerNombre = 1;
<a name="l00719"></a>00719                         dessiner = 1;
<a name="l00720"></a>00720                         <span class="keywordflow">break</span>;
<a name="l00721"></a>00721                     }
<a name="l00722"></a>00722                     <span class="keywordflow">case</span> SDLK_RETURN: {<span class="comment">// On a validé notre choix par entrer</span>
<a name="l00723"></a>00723                         <span class="keywordflow">if</span>( highLight == 1 ){<span class="comment">// On a selectionné un lien de modification de texte</span>
<a name="l00724"></a>00724                             dessiner = 1;
<a name="l00725"></a>00725                             sfr_msg = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Entrez le nombre manuellement&quot;</span>, couleurRouge);
<a name="l00726"></a>00726                             <span class="keywordflow">do</span>{
<a name="l00727"></a>00727                                 SDL_WaitEvent(&amp;event);
<a name="l00728"></a>00728                                 <span class="keywordflow">if</span>( event.type == SDL_QUIT ){
<a name="l00729"></a>00729                                     continuer = 0;
<a name="l00730"></a>00730                                     highLight = 3;
<a name="l00731"></a>00731                                     <a class="code" href="classmoteur__sdl.html#a7f0f9cf61c0fd59a9a0d93b53a09ed28">c_fenetreOuverte</a> = <span class="keyword">false</span>;
<a name="l00732"></a>00732                                 }
<a name="l00733"></a>00733 
<a name="l00734"></a>00734                                 <span class="keywordflow">if</span>( event.type == SDL_KEYDOWN )
<a name="l00735"></a>00735                                 <span class="keywordflow">switch</span>( <a class="code" href="classmoteur__sdl.html#aa5484b45267f4b4cd48e6ad5c120ead5" title="Permet l&amp;#39;utilisation d&amp;#39;un clavier unicode en toute simplicité.">traductionClavier</a>(&amp;event.key) )
<a name="l00736"></a>00736                                 {
<a name="l00737"></a>00737                                     <span class="keywordflow">case</span> SDLK_RIGHT:
<a name="l00738"></a>00738                                     <span class="keywordflow">case</span> SDLK_UP: {
<a name="l00739"></a>00739                                         <span class="keywordflow">if</span>( *valeurRetour+1 &gt; valeurMax )
<a name="l00740"></a>00740                                             *valeurRetour = valeurMin;
<a name="l00741"></a>00741                                         <span class="keywordflow">else</span>
<a name="l00742"></a>00742                                             (*valeurRetour)++;
<a name="l00743"></a>00743                                         dessiner = 1;<span class="comment">// On redessine</span>
<a name="l00744"></a>00744                                         <span class="keywordflow">break</span>;
<a name="l00745"></a>00745                                     }
<a name="l00746"></a>00746                                     <span class="keywordflow">case</span> SDLK_LEFT:
<a name="l00747"></a>00747                                     <span class="keywordflow">case</span> SDLK_DOWN: {
<a name="l00748"></a>00748                                         <span class="keywordflow">if</span>( *valeurRetour-1 &lt; valeurMin )
<a name="l00749"></a>00749                                             *valeurRetour = valeurMax;
<a name="l00750"></a>00750                                         <span class="keywordflow">else</span>
<a name="l00751"></a>00751                                             (*valeurRetour)--;
<a name="l00752"></a>00752                                         dessiner = 1;<span class="comment">// On redessine</span>
<a name="l00753"></a>00753                                         <span class="keywordflow">break</span>;
<a name="l00754"></a>00754                                     }
<a name="l00755"></a>00755                                     <span class="keywordflow">case</span> SDLK_BACKSPACE: {
<a name="l00756"></a>00756                                         *valeurRetour /= 10;
<a name="l00757"></a>00757                                         dessiner = 1;<span class="comment">// On redessine</span>
<a name="l00758"></a>00758                                         <span class="keywordflow">break</span>;
<a name="l00759"></a>00759                                     }
<a name="l00760"></a>00760                                     <span class="keywordflow">case</span> SDLK_ESCAPE: {
<a name="l00761"></a>00761                                         *valeurRetour = valeurParDefaut;
<a name="l00762"></a>00762                                         continuer = 0;
<a name="l00763"></a>00763                                         dessiner = 1;<span class="comment">// On redessine</span>
<a name="l00764"></a>00764                                         <span class="keywordflow">break</span>;
<a name="l00765"></a>00765                                     }
<a name="l00766"></a>00766                                     <span class="keywordflow">case</span> SDLK_RETURN: {
<a name="l00767"></a>00767                                         <span class="keywordflow">if</span>( !(valeurMin &lt;= *valeurRetour &amp;&amp; *valeurRetour &lt;= valeurMax) ){
<a name="l00768"></a>00768                                             *valeurRetour = valeurMin;
<a name="l00769"></a>00769                                             <span class="comment">// On redessine le nombre</span>
<a name="l00770"></a>00770                                             dessinerNombre = 1;
<a name="l00771"></a>00771                                         }<span class="keywordflow">else</span>{
<a name="l00772"></a>00772                                             highLight = 2;
<a name="l00773"></a>00773                                         }
<a name="l00774"></a>00774                                         continuer = 0;
<a name="l00775"></a>00775                                         <span class="keywordflow">break</span>;
<a name="l00776"></a>00776                                     }
<a name="l00777"></a>00777                                     <span class="keywordflow">case</span> SDLK_PLUS:
<a name="l00778"></a>00778                                     <span class="keywordflow">case</span> SDLK_MINUS:
<a name="l00779"></a>00779                                     <span class="keywordflow">case</span> SDLK_KP_PLUS:
<a name="l00780"></a>00780                                     <span class="keywordflow">case</span> SDLK_KP_MINUS: {
<a name="l00781"></a>00781                                         <span class="keywordflow">if</span>( valeurMin &lt;= *valeurRetour*(-1) &amp;&amp; *valeurRetour*(-1) &lt;= valeurMax )
<a name="l00782"></a>00782                                             *valeurRetour *= -1;
<a name="l00783"></a>00783                                         dessiner = 1;<span class="comment">// On redessine</span>
<a name="l00784"></a>00784                                         <span class="keywordflow">break</span>;
<a name="l00785"></a>00785                                     }
<a name="l00786"></a>00786                                     <span class="keywordflow">default</span>: {
<a name="l00787"></a>00787                                         <span class="comment">// Ajout de chiffre à la main</span>
<a name="l00788"></a>00788                                         <span class="keywordflow">if</span>( SDLK_0 &lt;= event.key.keysym.unicode &amp;&amp; event.key.keysym.unicode &lt;= SDLK_9 &amp;&amp; *valeurRetour*10+(<span class="keywordtype">int</span>)(event.key.keysym.unicode-SDLK_0) &lt;= valeurMax )
<a name="l00789"></a>00789                                             *valeurRetour = *valeurRetour*10+(<span class="keyword">event</span>.key.keysym.unicode-SDLK_0);
<a name="l00790"></a>00790                                         <span class="keywordflow">if</span>( SDLK_KP0 &lt;= event.key.keysym.unicode &amp;&amp; event.key.keysym.unicode &lt;= SDLK_KP0 &amp;&amp; *valeurRetour*10+(<span class="keywordtype">int</span>)(<span class="keyword">event</span>.key.keysym.unicode-SDLK_KP0) &lt;= valeurMax )
<a name="l00791"></a>00791                                             *valeurRetour = *valeurRetour*10+(<span class="keyword">event</span>.key.keysym.unicode-SDLK_KP0);
<a name="l00792"></a>00792                                         dessiner = 1;<span class="comment">// On redessine</span>
<a name="l00793"></a>00793                                         <span class="keywordflow">break</span>;
<a name="l00794"></a>00794                                     }
<a name="l00795"></a>00795                                 }
<a name="l00796"></a>00796 
<a name="l00797"></a>00797                                 <span class="comment">/***********************************************************************</span>
<a name="l00798"></a>00798 <span class="comment">                                * Blitage général</span>
<a name="l00799"></a>00799 <span class="comment">                                * &gt; On blit uniquement s&#39;il y a eu une modification</span>
<a name="l00800"></a>00800 <span class="comment">                                */</span>
<a name="l00801"></a>00801                                 <span class="keywordflow">if</span>( dessiner ){
<a name="l00802"></a>00802                                     sprintf(valeurRetourTexte, <span class="stringliteral">&quot;&lt;-- %d --&gt;&quot;</span>, *valeurRetour);
<a name="l00803"></a>00803                                     SDL_FreeSurface(textes[0]);
<a name="l00804"></a>00804                                     SDL_FreeSurface(textes[3]);
<a name="l00805"></a>00805                                     textes[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(valeurRetourTexte);
<a name="l00806"></a>00806                                     textes[3] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(valeurRetourTexte, couleurRouge);
<a name="l00807"></a>00807 
<a name="l00808"></a>00808                                     position.x = 0;
<a name="l00809"></a>00809                                     position.y = 0;
<a name="l00810"></a>00810                                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a158b583b287bbecba9cf9756206d3c21">c_background</a>, NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position);<span class="comment">// Blit background</span>
<a name="l00811"></a>00811 
<a name="l00812"></a>00812                                     position.y = 200;
<a name="l00813"></a>00813                                     position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-sfr_msg-&gt;w)/2;<span class="comment">// Centrage auto des blit ^^</span>
<a name="l00814"></a>00814                                     SDL_BlitSurface(sfr_msg, NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position);<span class="comment">// Blit background</span>
<a name="l00815"></a>00815 
<a name="l00816"></a>00816                                     <span class="comment">// On blit le texte</span>
<a name="l00817"></a>00817                                     <span class="keywordflow">for</span>( i=0; i&lt;3; i++ )
<a name="l00818"></a>00818                                     {
<a name="l00819"></a>00819                                         position.y += 100;<span class="comment">// Espacement entre les textes ( blit )</span>
<a name="l00820"></a>00820                                         position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-textes[i]-&gt;w)/2;<span class="comment">// Centrage auto des blit ^^</span>
<a name="l00821"></a>00821                                         <span class="keywordflow">if</span>( i == highLight-1 ){
<a name="l00822"></a>00822                                             SDL_BlitSurface(textes[i+3], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00823"></a>00823                                         }<span class="keywordflow">else</span>{
<a name="l00824"></a>00824                                             SDL_BlitSurface(textes[i], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00825"></a>00825                                         }
<a name="l00826"></a>00826                                     }
<a name="l00827"></a>00827 
<a name="l00828"></a>00828                                     SDL_Flip(<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>);
<a name="l00829"></a>00829                                     dessiner = 0;
<a name="l00830"></a>00830                                 }
<a name="l00831"></a>00831                             }<span class="keywordflow">while</span>( continuer );
<a name="l00832"></a>00832                             SDL_FreeSurface(sfr_msg);
<a name="l00833"></a>00833                             SDL_FreeSurface(textes[3]);
<a name="l00834"></a>00834                             textes[3] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(valeurRetourTexte, couleurOrange);
<a name="l00835"></a>00835                             dessiner = 1;
<a name="l00836"></a>00836                             continuer = 1;
<a name="l00837"></a>00837                         }<span class="keywordflow">else</span>
<a name="l00838"></a>00838                             continuer = 0;<span class="comment">// On sort de la boucle</span>
<a name="l00839"></a>00839                         <span class="keywordflow">break</span>;
<a name="l00840"></a>00840                     }
<a name="l00841"></a>00841                     <span class="keywordflow">case</span> SDLK_ESCAPE: { <span class="comment">/* Appui sur la touche Echap, on arrête le programme */</span>
<a name="l00842"></a>00842                         highLight = 3;<span class="comment">// On veut quitter !</span>
<a name="l00843"></a>00843                         continuer = 0;
<a name="l00844"></a>00844                         <span class="keywordflow">break</span>;
<a name="l00845"></a>00845                     }
<a name="l00846"></a>00846                     <span class="keywordflow">default</span>:
<a name="l00847"></a>00847                         <span class="keywordflow">break</span>;
<a name="l00848"></a>00848                 }
<a name="l00849"></a>00849                 <span class="keywordflow">break</span>;
<a name="l00850"></a>00850             }
<a name="l00851"></a>00851             <span class="comment">/*******************************************************************</span>
<a name="l00852"></a>00852 <span class="comment">            * Prise en charge de la souris</span>
<a name="l00853"></a>00853 <span class="comment">            */</span>
<a name="l00854"></a>00854             <span class="keywordflow">case</span> SDL_MOUSEBUTTONUP: {
<a name="l00855"></a>00855                 position.y = 200;
<a name="l00856"></a>00856                 <span class="keywordflow">for</span>( i=0; i&lt;3; i++ )
<a name="l00857"></a>00857                 {
<a name="l00858"></a>00858                     position.y += 100;<span class="comment">// Espacement entre les textes ( blit )</span>
<a name="l00859"></a>00859                     position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-textes[i]-&gt;w)/2;<span class="comment">// Centrage auto des blit ^^</span>
<a name="l00860"></a>00860                     <span class="keywordflow">if</span>( position.x &lt;= event.button.x &amp;&amp; event.button.x &lt;= position.x+textes[i]-&gt;w &amp;&amp; position.y &lt;= event.button.y &amp;&amp; event.button.y &lt;= position.y+textes[i]-&gt;h ){
<a name="l00861"></a>00861                         <span class="keywordflow">if</span>( highLight == i+1 ){
<a name="l00862"></a>00862                             <span class="keywordflow">if</span>( highLight == 1 ){
<a name="l00863"></a>00863                                 <span class="keywordflow">if</span>( position.x &lt;= event.button.x &amp;&amp; event.button.x &lt;= position.x+35 &amp;&amp; position.y &lt;= event.button.y &amp;&amp; event.button.y &lt;= position.y+textes[i]-&gt;h ){
<a name="l00864"></a>00864                                     <span class="keywordflow">if</span>( *valeurRetour-1 &lt; valeurMin )
<a name="l00865"></a>00865                                         *valeurRetour = valeurMax;
<a name="l00866"></a>00866                                     <span class="keywordflow">else</span>
<a name="l00867"></a>00867                                         (*valeurRetour)--;
<a name="l00868"></a>00868 
<a name="l00869"></a>00869                                     <span class="comment">// On redessine le nombre</span>
<a name="l00870"></a>00870                                     dessinerNombre = 1;
<a name="l00871"></a>00871                                     dessiner = 1;
<a name="l00872"></a>00872                                 }
<a name="l00873"></a>00873                                 <span class="keywordflow">if</span>( position.x+textes[i]-&gt;w-35 &lt;= event.button.x &amp;&amp; event.button.x &lt;= position.x+textes[i]-&gt;w &amp;&amp; position.y &lt;= event.button.y &amp;&amp; event.button.y &lt;= position.y+textes[i]-&gt;h ){
<a name="l00874"></a>00874                                     <span class="keywordflow">if</span>( *valeurRetour+1 &gt; valeurMax )
<a name="l00875"></a>00875                                         *valeurRetour = valeurMin;
<a name="l00876"></a>00876                                     <span class="keywordflow">else</span>
<a name="l00877"></a>00877                                         (*valeurRetour)++;
<a name="l00878"></a>00878 
<a name="l00879"></a>00879                                     <span class="comment">// On redessine le nombre</span>
<a name="l00880"></a>00880                                     dessinerNombre = 1;
<a name="l00881"></a>00881                                     dessiner = 1;
<a name="l00882"></a>00882                                 }
<a name="l00883"></a>00883                             }<span class="keywordflow">else</span>{
<a name="l00884"></a>00884                                 continuer = 0;
<a name="l00885"></a>00885                             }
<a name="l00886"></a>00886                         }<span class="keywordflow">else</span>{
<a name="l00887"></a>00887                             highLight = i+1;
<a name="l00888"></a>00888                             dessiner = 1;
<a name="l00889"></a>00889                         }
<a name="l00890"></a>00890                     }
<a name="l00891"></a>00891                 }
<a name="l00892"></a>00892                 <span class="keywordflow">break</span>;
<a name="l00893"></a>00893             }
<a name="l00894"></a>00894             <span class="keywordflow">default</span>:
<a name="l00895"></a>00895                 <span class="keywordflow">break</span>;
<a name="l00896"></a>00896         }
<a name="l00897"></a>00897 
<a name="l00898"></a>00898         <span class="comment">/***********************************************************************</span>
<a name="l00899"></a>00899 <span class="comment">        * Blitage général</span>
<a name="l00900"></a>00900 <span class="comment">        * &gt; On blit uniquement s&#39;il y a eu une modification</span>
<a name="l00901"></a>00901 <span class="comment">        */</span>
<a name="l00902"></a>00902         <span class="keywordflow">if</span>( dessiner ){
<a name="l00903"></a>00903             <span class="keywordflow">if</span>( dessinerNombre ){
<a name="l00904"></a>00904                 <span class="comment">// On redessine le nombre</span>
<a name="l00905"></a>00905                 sprintf(valeurRetourTexte, <span class="stringliteral">&quot;&lt;-- %d --&gt;&quot;</span>, *valeurRetour);
<a name="l00906"></a>00906                 SDL_FreeSurface(textes[0]);
<a name="l00907"></a>00907                 SDL_FreeSurface(textes[3]);
<a name="l00908"></a>00908                 textes[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(valeurRetourTexte);
<a name="l00909"></a>00909                 textes[3] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(valeurRetourTexte, couleurOrange);
<a name="l00910"></a>00910                 dessinerNombre = 0;
<a name="l00911"></a>00911             }
<a name="l00912"></a>00912 
<a name="l00913"></a>00913             position.x = 0;
<a name="l00914"></a>00914             position.y = 0;
<a name="l00915"></a>00915             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a158b583b287bbecba9cf9756206d3c21">c_background</a>, NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position);<span class="comment">// Blit background</span>
<a name="l00916"></a>00916 
<a name="l00917"></a>00917             position.y = 200;<span class="comment">// Point de départ</span>
<a name="l00918"></a>00918             position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-sfr_titre-&gt;w)/2;<span class="comment">// Centrage auto des blit ^^</span>
<a name="l00919"></a>00919             SDL_BlitSurface(sfr_titre, NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position);<span class="comment">// Blit background</span>
<a name="l00920"></a>00920 
<a name="l00921"></a>00921             <span class="comment">// On blit le texte</span>
<a name="l00922"></a>00922             <span class="keywordflow">for</span>( i=0; i&lt;3; i++ )
<a name="l00923"></a>00923             {
<a name="l00924"></a>00924                 position.y += 100;<span class="comment">// Espacement entre les textes ( blit )</span>
<a name="l00925"></a>00925                 position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-textes[i]-&gt;w)/2;<span class="comment">// Centrage auto des blit ^^</span>
<a name="l00926"></a>00926                 <span class="keywordflow">if</span>( i == highLight-1 ){
<a name="l00927"></a>00927                     SDL_BlitSurface(textes[i+3], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00928"></a>00928                 }<span class="keywordflow">else</span>{
<a name="l00929"></a>00929                     SDL_BlitSurface(textes[i], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l00930"></a>00930                 }
<a name="l00931"></a>00931             }
<a name="l00932"></a>00932 
<a name="l00933"></a>00933             SDL_Flip(<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>);
<a name="l00934"></a>00934             dessiner = 0;
<a name="l00935"></a>00935         }
<a name="l00936"></a>00936     }
<a name="l00937"></a>00937 
<a name="l00938"></a>00938     <span class="keywordflow">for</span>( i=0; i&lt;3*2; i++ )<span class="comment">// On libère les textes</span>
<a name="l00939"></a>00939         SDL_FreeSurface(textes[i]);
<a name="l00940"></a>00940     <span class="keyword">delete</span>[] textes;<span class="comment">// On libère les textes</span>
<a name="l00941"></a>00941 
<a name="l00942"></a>00942     SDL_FreeSurface(sfr_titre);
<a name="l00943"></a>00943 
<a name="l00944"></a>00944     <span class="keywordflow">return</span> highLight;
<a name="l00945"></a>00945 }
<a name="l00946"></a>00946 
<a name="l00947"></a>00947 
<a name="l00948"></a>00948 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l00949"></a>00949 <span class="comment">* @fn int moteur_sdl::getTexte( const char titre[], char texteRetour[21] )</span>
<a name="l00950"></a>00950 <span class="comment">* @brief Permet d&#39;obtenir du texte</span>
<a name="l00951"></a>00951 <span class="comment">* @param[in] titre              Le titre du menu</span>
<a name="l00952"></a>00952 <span class="comment">* @param[out] texteRetour       Dans cette variable sera stocké, le texte obtenu a la fin de la fonction</span>
<a name="l00953"></a>00953 <span class="comment">* @return</span>
<a name="l00954"></a>00954 <span class="comment">*   - 2 : Texte validé et accèpté</span>
<a name="l00955"></a>00955 <span class="comment">*   - 3 : Action annulée</span>
<a name="l00956"></a>00956 <span class="comment">*/</span>
<a name="l00957"></a><a class="code" href="classmoteur__sdl.html#a25a38bdd2e51b9184130c3e90d808a8c">00957</a> <span class="keywordtype">int</span> <a class="code" href="classmoteur__sdl.html#a25a38bdd2e51b9184130c3e90d808a8c" title="Permet d&amp;#39;obtenir du texte.">moteur_sdl::getTexte</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> titre[], <span class="keywordtype">char</span> texteRetour[21] )
<a name="l00958"></a>00958 {
<a name="l00959"></a>00959     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> highLight = 1;
<a name="l00960"></a>00960     <span class="keywordtype">bool</span> continuer = 1;
<a name="l00961"></a>00961     SDL_Event event;
<a name="l00962"></a>00962     SDL_Color couleurOrange = {255, 184, 0, 0<span class="comment">/*unused*/</span>};
<a name="l00963"></a>00963     SDL_Color couleurRouge = {255, 0, 0, 0<span class="comment">/*unused*/</span>};
<a name="l00964"></a>00964     SDL_Rect position;
<a name="l00965"></a>00965     SDL_Surface* sfr_titre=0;
<a name="l00966"></a>00966     SDL_Surface* sfr_msg = 0;
<a name="l00967"></a>00967     SDL_Surface** textes;
<a name="l00968"></a>00968     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> tailleTexteRetour;
<a name="l00969"></a>00969     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
<a name="l00970"></a>00970     <span class="keywordtype">bool</span> dessiner = 1;
<a name="l00971"></a>00971     <span class="keywordtype">bool</span> dessinerMot = 0;
<a name="l00972"></a>00972 
<a name="l00973"></a>00973     tailleTexteRetour = strlen(texteRetour);
<a name="l00974"></a>00974 
<a name="l00975"></a>00975     textes = <span class="keyword">new</span> SDL_Surface*[3*2];
<a name="l00976"></a>00976 
<a name="l00977"></a>00977     <span class="comment">// Ecriture du texte dans la SDL_Surface &quot;texte&quot; en mode Blended (optimal)</span>
<a name="l00978"></a>00978     <span class="keywordflow">if</span>( tailleTexteRetour )
<a name="l00979"></a>00979         textes[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(texteRetour);
<a name="l00980"></a>00980     <span class="keywordflow">else</span>
<a name="l00981"></a>00981         textes[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<a class="code" href="classmoteur__sdl.html#a93f37dba34220d15eb41eae6175c07fe" title="Complete le texte avec le caractère _ jusqu&amp;#39;a avoir un texte de longueur 20.">completerMot</a>(texteRetour, tailleTexteRetour));
<a name="l00982"></a>00982     textes[1] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Ok&quot;</span>);
<a name="l00983"></a>00983     textes[2] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Retour&quot;</span>);
<a name="l00984"></a>00984 
<a name="l00985"></a>00985     <span class="comment">// Création du texte HighLight</span>
<a name="l00986"></a>00986     textes[3] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<a class="code" href="classmoteur__sdl.html#a93f37dba34220d15eb41eae6175c07fe" title="Complete le texte avec le caractère _ jusqu&amp;#39;a avoir un texte de longueur 20.">completerMot</a>(texteRetour, tailleTexteRetour), couleurOrange);
<a name="l00987"></a>00987     textes[4] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Ok&quot;</span>, couleurOrange);
<a name="l00988"></a>00988     textes[5] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Retour&quot;</span>, couleurOrange);
<a name="l00989"></a>00989 
<a name="l00990"></a>00990     <span class="comment">// Création du titre</span>
<a name="l00991"></a>00991     TTF_SetFontStyle(<a class="code" href="classmoteur__sdl.html#ab633b5e3c91468fd42127b33c51ec33a">c_policeGeneral</a>, TTF_STYLE_UNDERLINE);
<a name="l00992"></a>00992     sfr_titre = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(titre);
<a name="l00993"></a>00993     TTF_SetFontStyle(<a class="code" href="classmoteur__sdl.html#ab633b5e3c91468fd42127b33c51ec33a">c_policeGeneral</a>, TTF_STYLE_NORMAL);
<a name="l00994"></a>00994     <span class="keywordtype">int</span> taille = 70;
<a name="l00995"></a>00995     <span class="keywordflow">while</span>( sfr_titre-&gt;w &gt; <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w ){
<a name="l00996"></a>00996         SDL_FreeSurface(sfr_titre);
<a name="l00997"></a>00997 
<a name="l00998"></a>00998         TTF_Font* police;
<a name="l00999"></a>00999         <span class="keywordflow">if</span>( !(police = TTF_OpenFont(<span class="stringliteral">&quot;Chicken Butt.ttf&quot;</span>, taille)) )
<a name="l01000"></a>01000             stdErrorE(<span class="stringliteral">&quot;Erreur lors du chargement de la police : %s&quot;</span>, TTF_GetError());
<a name="l01001"></a>01001 
<a name="l01002"></a>01002         TTF_SetFontStyle(police, TTF_STYLE_UNDERLINE);
<a name="l01003"></a>01003         sfr_titre = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(titre, police);
<a name="l01004"></a>01004         TTF_SetFontStyle(police, TTF_STYLE_NORMAL);
<a name="l01005"></a>01005         taille-=5;
<a name="l01006"></a>01006 
<a name="l01007"></a>01007         TTF_CloseFont(police);
<a name="l01008"></a>01008     }
<a name="l01009"></a>01009 
<a name="l01010"></a>01010 
<a name="l01011"></a>01011     <span class="keywordflow">while</span>( continuer )
<a name="l01012"></a>01012     {
<a name="l01013"></a>01013         SDL_WaitEvent(&amp;event);
<a name="l01014"></a>01014         <span class="keywordflow">switch</span>( event.type )
<a name="l01015"></a>01015         {
<a name="l01016"></a>01016             <span class="keywordflow">case</span> SDL_QUIT: {
<a name="l01017"></a>01017                 highLight = 3;<span class="comment">// On veut quitter !</span>
<a name="l01018"></a>01018                 continuer = 0;
<a name="l01019"></a>01019                 <a class="code" href="classmoteur__sdl.html#a7f0f9cf61c0fd59a9a0d93b53a09ed28">c_fenetreOuverte</a> = <span class="keyword">false</span>;
<a name="l01020"></a>01020                 <span class="keywordflow">break</span>;
<a name="l01021"></a>01021             }
<a name="l01022"></a>01022             <span class="keywordflow">case</span> SDL_KEYDOWN: {
<a name="l01023"></a>01023                 <span class="keywordflow">switch</span>( <a class="code" href="classmoteur__sdl.html#aa5484b45267f4b4cd48e6ad5c120ead5" title="Permet l&amp;#39;utilisation d&amp;#39;un clavier unicode en toute simplicité.">traductionClavier</a>(&amp;event.key) )
<a name="l01024"></a>01024                 {
<a name="l01025"></a>01025                     <span class="keywordflow">case</span> SDLK_UP: { <span class="comment">/* Appui sur la touche Echap, on arrête le programme */</span>
<a name="l01026"></a>01026                         <span class="keywordflow">if</span>( highLight == 1 ){<span class="comment">// On bouge notre highLight vers le haut</span>
<a name="l01027"></a>01027                             highLight = 3;
<a name="l01028"></a>01028                         }<span class="keywordflow">else</span>{
<a name="l01029"></a>01029                             highLight--;
<a name="l01030"></a>01030                         }
<a name="l01031"></a>01031                         dessiner = 1;<span class="comment">// On redessine</span>
<a name="l01032"></a>01032                         <span class="keywordflow">break</span>;
<a name="l01033"></a>01033                     }
<a name="l01034"></a>01034                     <span class="keywordflow">case</span> SDLK_DOWN: {<span class="comment">// On bouge notre highLight vers le bas</span>
<a name="l01035"></a>01035                         <span class="keywordflow">if</span>( highLight == 3 ){
<a name="l01036"></a>01036                             highLight = 1;
<a name="l01037"></a>01037                         }<span class="keywordflow">else</span>{
<a name="l01038"></a>01038                             highLight++;
<a name="l01039"></a>01039                         }
<a name="l01040"></a>01040                         dessiner = 1;<span class="comment">// On redessine</span>
<a name="l01041"></a>01041                         <span class="keywordflow">break</span>;
<a name="l01042"></a>01042                     }
<a name="l01043"></a>01043                     <span class="keywordflow">case</span> SDLK_BACKSPACE: {
<a name="l01044"></a>01044                         <span class="keywordflow">if</span>( highLight != 1 )<span class="comment">// Si on est pas sur le texte =&gt; on fait rien</span>
<a name="l01045"></a>01045                             <span class="keywordflow">break</span>;
<a name="l01046"></a>01046 
<a name="l01047"></a>01047                         <span class="keywordflow">if</span>( tailleTexteRetour == 0 )
<a name="l01048"></a>01048                             <span class="keywordflow">break</span>;
<a name="l01049"></a>01049                         tailleTexteRetour--;
<a name="l01050"></a>01050                         texteRetour[tailleTexteRetour] = <span class="charliteral">&#39;_&#39;</span>;
<a name="l01051"></a>01051                         dessiner = 1;<span class="comment">// On redessine</span>
<a name="l01052"></a>01052                         dessinerMot = 1;
<a name="l01053"></a>01053                         <span class="keywordflow">break</span>;
<a name="l01054"></a>01054                     }
<a name="l01055"></a>01055                     <span class="keywordflow">case</span> SDLK_RETURN: {<span class="comment">// On a validé notre choix par entrer</span>
<a name="l01056"></a>01056                         <span class="keywordflow">if</span>( highLight == 1 ){<span class="comment">// On a selectionné un lien de modification de texte</span>
<a name="l01057"></a>01057                             <a class="code" href="outils_8cpp.html#a867f58846060922b50a272361337cc96" title="Vire les espaces avant et après une chaine de caractère.">trimString</a>(texteRetour);
<a name="l01058"></a>01058                             <span class="keywordflow">if</span>( tailleTexteRetour ){
<a name="l01059"></a>01059                                 highLight = 2;
<a name="l01060"></a>01060                             }<span class="keywordflow">else</span>{
<a name="l01061"></a>01061                                 <span class="keywordflow">if</span>( sfr_msg )
<a name="l01062"></a>01062                                     SDL_FreeSurface(sfr_msg);
<a name="l01063"></a>01063                                 sfr_msg = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Le texte dois avoir 1 caractere min&quot;</span>, couleurRouge);
<a name="l01064"></a>01064                             }
<a name="l01065"></a>01065                             dessiner = 1;
<a name="l01066"></a>01066                         }<span class="keywordflow">else</span>{
<a name="l01067"></a>01067                             <span class="keywordflow">if</span>( highLight == 2 ){
<a name="l01068"></a>01068                                 <span class="keywordflow">if</span>( tailleTexteRetour ){
<a name="l01069"></a>01069                                     continuer = 0;<span class="comment">// On sort de la boucle</span>
<a name="l01070"></a>01070                                 }<span class="keywordflow">else</span>{
<a name="l01071"></a>01071                                     <span class="keywordflow">if</span>( sfr_msg )
<a name="l01072"></a>01072                                         SDL_FreeSurface(sfr_msg);
<a name="l01073"></a>01073                                     sfr_msg = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;Le texte dois avoir 1 caractere min&quot;</span>, couleurRouge);
<a name="l01074"></a>01074                                     dessiner = 1;
<a name="l01075"></a>01075                                 }
<a name="l01076"></a>01076                             }<span class="keywordflow">else</span>{
<a name="l01077"></a>01077                                 continuer = 0;<span class="comment">// On sort de la boucle</span>
<a name="l01078"></a>01078                             }
<a name="l01079"></a>01079                         }
<a name="l01080"></a>01080                         <span class="keywordflow">break</span>;
<a name="l01081"></a>01081                     }
<a name="l01082"></a>01082                     <span class="keywordflow">case</span> SDLK_ESCAPE: { <span class="comment">/* Appui sur la touche Echap, on arrête le programme */</span>
<a name="l01083"></a>01083                         highLight = 3;<span class="comment">// On veut quitter !</span>
<a name="l01084"></a>01084                         continuer = 0;
<a name="l01085"></a>01085                         <span class="keywordflow">break</span>;
<a name="l01086"></a>01086                     }
<a name="l01087"></a>01087                     <span class="keywordflow">default</span>: {
<a name="l01088"></a>01088                         <span class="keywordflow">if</span>( highLight != 1 )<span class="comment">// Si on est pas sur le texte =&gt; on fait rien</span>
<a name="l01089"></a>01089                             <span class="keywordflow">break</span>;
<a name="l01090"></a>01090 
<a name="l01091"></a>01091                         <span class="comment">//&#39; &#39; &lt;= key &amp;&amp; key &lt;= &#39;~&#39;</span>
<a name="l01092"></a>01092                         <span class="comment">// Ajout de chiffre à la main</span>
<a name="l01093"></a>01093                         <span class="keywordflow">if</span>( SDLK_SPACE &lt;= event.key.keysym.unicode &amp;&amp; event.key.keysym.unicode &lt;= 126 &amp;&amp; tailleTexteRetour+1 &lt; 21  ){
<a name="l01094"></a>01094                             texteRetour[tailleTexteRetour] = <span class="keyword">event</span>.key.keysym.unicode;
<a name="l01095"></a>01095                             tailleTexteRetour++;
<a name="l01096"></a>01096                             <a class="code" href="classmoteur__sdl.html#a93f37dba34220d15eb41eae6175c07fe" title="Complete le texte avec le caractère _ jusqu&amp;#39;a avoir un texte de longueur 20.">completerMot</a>(texteRetour, tailleTexteRetour);
<a name="l01097"></a>01097                         }
<a name="l01098"></a>01098                     <span class="comment">//  if( SDLK_KP0 &lt;= event.key.keysym.unicode &amp;&amp; event.key.keysym.unicode &lt;= SDLK_KP0 &amp;&amp; *valeurRetour*10+(int)(event.key.keysym.unicode-SDLK_KP0) &lt;= valeurMax )</span>
<a name="l01099"></a>01099                     <span class="comment">//      *valeurRetour = *valeurRetour*10+(event.key.keysym.unicode-SDLK_KP0);</span>
<a name="l01100"></a>01100                         dessiner = 1;<span class="comment">// On redessine</span>
<a name="l01101"></a>01101                         dessinerMot = 1;
<a name="l01102"></a>01102                         <span class="keywordflow">break</span>;
<a name="l01103"></a>01103                     }
<a name="l01104"></a>01104                 }
<a name="l01105"></a>01105                 <span class="keywordflow">break</span>;
<a name="l01106"></a>01106             }
<a name="l01107"></a>01107             <span class="comment">/*******************************************************************</span>
<a name="l01108"></a>01108 <span class="comment">            * Prise en charge de la souris</span>
<a name="l01109"></a>01109 <span class="comment">            */</span>
<a name="l01110"></a>01110             <span class="keywordflow">case</span> SDL_MOUSEBUTTONUP: {
<a name="l01111"></a>01111                 position.y = 200;
<a name="l01112"></a>01112                 <span class="keywordflow">for</span>( i=0; i&lt;3; i++ )
<a name="l01113"></a>01113                 {
<a name="l01114"></a>01114                     position.y += 100;<span class="comment">// Espacement entre les textes ( blit )</span>
<a name="l01115"></a>01115                     position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-textes[i]-&gt;w)/2;<span class="comment">// Centrage auto des blit ^^</span>
<a name="l01116"></a>01116                     <span class="keywordflow">if</span>( position.x &lt;= event.button.x &amp;&amp; event.button.x &lt;= position.x+textes[i]-&gt;w &amp;&amp; position.y &lt;= event.button.y &amp;&amp; event.button.y &lt;= position.y+textes[i]-&gt;h ){
<a name="l01117"></a>01117                         <span class="keywordflow">if</span>( highLight == i+1 ){
<a name="l01118"></a>01118                             <span class="keywordflow">if</span>( highLight != 1 )
<a name="l01119"></a>01119                                 continuer = 0;
<a name="l01120"></a>01120                         }<span class="keywordflow">else</span>{
<a name="l01121"></a>01121                             highLight = i+1;
<a name="l01122"></a>01122                             dessiner = 1;
<a name="l01123"></a>01123                         }
<a name="l01124"></a>01124                     }
<a name="l01125"></a>01125                 }
<a name="l01126"></a>01126                 <span class="keywordflow">break</span>;
<a name="l01127"></a>01127             }
<a name="l01128"></a>01128             <span class="keywordflow">default</span>:
<a name="l01129"></a>01129                 <span class="keywordflow">break</span>;
<a name="l01130"></a>01130         }
<a name="l01131"></a>01131 
<a name="l01132"></a>01132         <span class="comment">/***********************************************************************</span>
<a name="l01133"></a>01133 <span class="comment">        * Blitage général</span>
<a name="l01134"></a>01134 <span class="comment">        * &gt; On blit uniquement s&#39;il y a eu une modification</span>
<a name="l01135"></a>01135 <span class="comment">        */</span>
<a name="l01136"></a>01136         <span class="keywordflow">if</span>( dessiner ){
<a name="l01137"></a>01137             <span class="keywordflow">if</span>( dessinerMot ){
<a name="l01138"></a>01138                 SDL_FreeSurface(textes[0]);
<a name="l01139"></a>01139                 SDL_FreeSurface(textes[3]);
<a name="l01140"></a>01140 
<a name="l01141"></a>01141                 texteRetour[tailleTexteRetour] = 0;
<a name="l01142"></a>01142                 <a class="code" href="outils_8cpp.html#a867f58846060922b50a272361337cc96" title="Vire les espaces avant et après une chaine de caractère.">trimString</a>(texteRetour);
<a name="l01143"></a>01143                 tailleTexteRetour = strlen(texteRetour);
<a name="l01144"></a>01144 
<a name="l01145"></a>01145                 <span class="keywordflow">if</span>( tailleTexteRetour )
<a name="l01146"></a>01146                     textes[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(texteRetour);
<a name="l01147"></a>01147                 <span class="keywordflow">else</span>
<a name="l01148"></a>01148                     textes[0] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<a class="code" href="classmoteur__sdl.html#a93f37dba34220d15eb41eae6175c07fe" title="Complete le texte avec le caractère _ jusqu&amp;#39;a avoir un texte de longueur 20.">completerMot</a>(texteRetour, tailleTexteRetour));
<a name="l01149"></a>01149                 textes[3] = <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<a class="code" href="classmoteur__sdl.html#a93f37dba34220d15eb41eae6175c07fe" title="Complete le texte avec le caractère _ jusqu&amp;#39;a avoir un texte de longueur 20.">completerMot</a>(texteRetour, tailleTexteRetour), couleurOrange);
<a name="l01150"></a>01150                 dessinerMot = 0;
<a name="l01151"></a>01151             }
<a name="l01152"></a>01152 
<a name="l01153"></a>01153             position.x = 0;
<a name="l01154"></a>01154             position.y = 0;
<a name="l01155"></a>01155             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a158b583b287bbecba9cf9756206d3c21">c_background</a>, NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position);<span class="comment">// Blit background</span>
<a name="l01156"></a>01156 
<a name="l01157"></a>01157             position.y = 200;
<a name="l01158"></a>01158             <span class="keywordflow">if</span>( sfr_msg ){
<a name="l01159"></a>01159                 position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-sfr_msg-&gt;w)/2;<span class="comment">// Centrage auto des blit ^^</span>
<a name="l01160"></a>01160                 SDL_BlitSurface(sfr_msg, NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position);<span class="comment">// Blit background</span>
<a name="l01161"></a>01161             }<span class="keywordflow">else</span>{
<a name="l01162"></a>01162                 position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-sfr_titre-&gt;w)/2;<span class="comment">// Centrage auto des blit ^^</span>
<a name="l01163"></a>01163                 SDL_BlitSurface(sfr_titre, NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position);<span class="comment">// Blit background</span>
<a name="l01164"></a>01164             }
<a name="l01165"></a>01165             <span class="comment">// On blit le texte</span>
<a name="l01166"></a>01166             <span class="keywordflow">for</span>( i=0; i&lt;3; i++ )
<a name="l01167"></a>01167             {
<a name="l01168"></a>01168                 position.y += 100;<span class="comment">// Espacement entre les textes ( blit )</span>
<a name="l01169"></a>01169                 <span class="keywordflow">if</span>( i == highLight-1 ){
<a name="l01170"></a>01170                     position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-textes[i+3]-&gt;w)/2;<span class="comment">// Centrage auto des blit ^^</span>
<a name="l01171"></a>01171                     SDL_BlitSurface(textes[i+3], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l01172"></a>01172                 }<span class="keywordflow">else</span>{
<a name="l01173"></a>01173                     position.x = (<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-textes[i]-&gt;w)/2;<span class="comment">// Centrage auto des blit ^^</span>
<a name="l01174"></a>01174                     SDL_BlitSurface(textes[i], NULL, <a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;position); <span class="comment">/* Blit du texte par-dessus */</span>
<a name="l01175"></a>01175                 }
<a name="l01176"></a>01176             }
<a name="l01177"></a>01177 
<a name="l01178"></a>01178             SDL_Flip(<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>);
<a name="l01179"></a>01179             dessiner = 0;
<a name="l01180"></a>01180         }
<a name="l01181"></a>01181     }
<a name="l01182"></a>01182 
<a name="l01183"></a>01183     <span class="keywordflow">for</span>( i=0; i&lt;3*2; i++ )<span class="comment">// On libère les textes</span>
<a name="l01184"></a>01184         SDL_FreeSurface(textes[i]);
<a name="l01185"></a>01185     <span class="keyword">delete</span>[] textes;<span class="comment">// On libère les textes</span>
<a name="l01186"></a>01186 
<a name="l01187"></a>01187     SDL_FreeSurface(sfr_titre);
<a name="l01188"></a>01188 
<a name="l01189"></a>01189     <span class="keywordflow">if</span>( sfr_msg )
<a name="l01190"></a>01190         SDL_FreeSurface(sfr_msg);
<a name="l01191"></a>01191 
<a name="l01192"></a>01192     texteRetour[tailleTexteRetour] = 0;
<a name="l01193"></a>01193     <a class="code" href="outils_8cpp.html#a867f58846060922b50a272361337cc96" title="Vire les espaces avant et après une chaine de caractère.">trimString</a>(texteRetour);
<a name="l01194"></a>01194     tailleTexteRetour = strlen(texteRetour);
<a name="l01195"></a>01195 
<a name="l01196"></a>01196     <span class="keywordflow">return</span> highLight;
<a name="l01197"></a>01197 }
<a name="l01198"></a>01198 
<a name="l01199"></a>01199 
<a name="l01200"></a>01200 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l01201"></a>01201 <span class="comment">* @fn SYS_CLAVIER moteur_sdl::afficherMapEtEvent( partie* p )</span>
<a name="l01202"></a>01202 <span class="comment">* @brief Affiche une map</span>
<a name="l01203"></a>01203 <span class="comment">* @param[in] p  La partie en cours a afficher</span>
<a name="l01204"></a>01204 <span class="comment">* @return La touche actuellement appuyé</span>
<a name="l01205"></a>01205 <span class="comment">*/</span>
<a name="l01206"></a><a class="code" href="classmoteur__sdl.html#a030898139d0be5e7c2f47efb68bb55df">01206</a> SYS_CLAVIER <a class="code" href="classmoteur__sdl.html#a030898139d0be5e7c2f47efb68bb55df" title="Affiche une map.">moteur_sdl::afficherMapEtEvent</a>( <a class="code" href="classpartie.html" title="Permet de gérer une partie offline ou online ( host et client ).">partie</a>* p )
<a name="l01207"></a>01207 {
<a name="l01208"></a>01208     <span class="keywordflow">if</span>( !<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a> )
<a name="l01209"></a>01209         stdErrorE(<span class="stringliteral">&quot;Veuillez instancier la class moteur_sdl !&quot;</span>);
<a name="l01210"></a>01210 
<a name="l01211"></a>01211     <span class="keywordtype">bool</span> dessiner = 0;
<a name="l01212"></a>01212     <span class="keywordtype">bool</span> refresh = 0;
<a name="l01213"></a>01213     SDL_Surface* sfr_tmp;
<a name="l01214"></a>01214     <a class="code" href="classmap.html" title="Gère une map.">map</a>* l_map = p-&gt;<a class="code" href="classpartie.html#ae1902153955d80b676fe96ef395e58c5" title="Renvoie la map actuel.">getMap</a>();<span class="comment">// l_map pour local variable map</span>
<a name="l01215"></a>01215     <span class="comment">// Décalage</span>
<a name="l01216"></a>01216     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    xpos=(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32)/2,
<a name="l01217"></a>01217                     ypos=(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;h-l_map-&gt;<a class="code" href="classmap.html#abcb25776d119cd3f2864c67ec05a6a4a" title="Renvoie la taille Y de la map.">Y</a>()*32)/2;
<a name="l01218"></a>01218     ypos = ypos+ypos/2;
<a name="l01219"></a>01219 
<a name="l01220"></a>01220     SDL_Rect pos;
<a name="l01221"></a>01221     SDL_Rect imgRect;
<a name="l01222"></a>01222 
<a name="l01223"></a>01223     <span class="comment">// Tester ici si la taille de la map n&#39;est pas trop grande pour la fenetre.</span>
<a name="l01224"></a>01224     <span class="keywordflow">if</span> ( l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>() &gt; (<span class="keywordtype">unsigned</span> int)<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w/32 || l_map-&gt;<a class="code" href="classmap.html#abcb25776d119cd3f2864c67ec05a6a4a" title="Renvoie la taille Y de la map.">Y</a>() &gt; (<span class="keywordtype">unsigned</span> int)<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;h/32 )
<a name="l01225"></a>01225         stdErrorE(<span class="stringliteral">&quot;%u &gt; %d || %u &gt; %d&quot;</span>, l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>(), <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w/32, l_map-&gt;<a class="code" href="classmap.html#abcb25776d119cd3f2864c67ec05a6a4a" title="Renvoie la taille Y de la map.">Y</a>(), <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;h/32);
<a name="l01226"></a>01226 
<a name="l01227"></a>01227     <span class="keywordflow">if</span>( <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> ){
<a name="l01228"></a>01228         <span class="comment">// Traitement a faire sur les cadres ICI</span>
<a name="l01229"></a>01229         <span class="comment">// A FAIRE</span>
<a name="l01230"></a>01230         pos.x = 0;
<a name="l01231"></a>01231         pos.y = 0;
<a name="l01232"></a>01232         SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, NULL, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l01233"></a>01233 
<a name="l01234"></a>01234         <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, y=0; y&lt;l_map-&gt;<a class="code" href="classmap.html#abcb25776d119cd3f2864c67ec05a6a4a" title="Renvoie la taille Y de la map.">Y</a>(); y++ )
<a name="l01235"></a>01235         {
<a name="l01236"></a>01236             <span class="keywordflow">for</span>( x=0; x&lt;l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>(); x++ )
<a name="l01237"></a>01237             {
<a name="l01238"></a>01238                 pos.x=x*32+xpos;
<a name="l01239"></a>01239                 pos.y=y*32+ypos;
<a name="l01240"></a>01240                 <span class="keywordflow">switch</span>( l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;element )
<a name="l01241"></a>01241                 {
<a name="l01242"></a>01242                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba508b0ad2c59b8c654beb73d2239c8e74">map::vide</a>: {
<a name="l01243"></a>01243                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01244"></a>01244                         <span class="keywordflow">break</span>;
<a name="l01245"></a>01245                     }
<a name="l01246"></a>01246                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469bac6281d911da21f4bb566114037266055">map::Mur_destructible</a>: {
<a name="l01247"></a>01247                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab13b035460df7cbb44935735074954b5">mur_destructible</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01248"></a>01248                         <span class="keywordflow">break</span>;
<a name="l01249"></a>01249                     }
<a name="l01250"></a>01250                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba1bae257451fe92ef4fafd02fed56a850">map::Mur_INdestructible</a>: {
<a name="l01251"></a>01251                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdaa3bb9c2c29cef86f0c2d57fdb5220c71">mur_indestructible</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01252"></a>01252                         <span class="keywordflow">break</span>;
<a name="l01253"></a>01253                     }
<a name="l01254"></a>01254                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba4829d7f791fe2537aaa05edf28cc6630">map::UN_joueur</a>: {
<a name="l01255"></a>01255                         <span class="keywordflow">if</span>( !l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;joueur )
<a name="l01256"></a>01256                             stdErrorE(<span class="stringliteral">&quot;POINTEUR NULL !X=%u, Y=%u, l_map-&gt;getBlock(x, y)-&gt;joueur=0&quot;</span>, x, y);
<a name="l01257"></a>01257                         <span class="keywordflow">if</span>( !l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;joueur-&gt;size() )
<a name="l01258"></a>01258                             stdErrorE(<span class="stringliteral">&quot;l_map-&gt;getBlock(%u, %u)-&gt;joueur-&gt;size()=0&quot;</span>, x, y);
<a name="l01259"></a>01259 
<a name="l01260"></a>01260                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> joueur = l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;joueur-&gt;at(0);
<a name="l01261"></a>01261                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01262"></a>01262                         <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a4a1f44d3d69f7cd7341ee2ce21a825b0" title="Blit le joueur {joueur} a la position {pos} avec l&amp;#39;orientation {ori}.">joueur_orientation</a>( p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(joueur-1)-&gt;<a class="code" href="classperso.html#a5db1bb1382ea2071bd744476542eaee2" title="Renvoie l&amp;#39;orientation du personnage.">orientation</a>(), joueur, &amp;pos );
<a name="l01263"></a>01263                         <span class="keywordflow">break</span>;
<a name="l01264"></a>01264                     }
<a name="l01265"></a>01265                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469baa94a2d9d84a636b26e656df3e5ae16b8">map::plusieurs_joueurs</a>: {
<a name="l01266"></a>01266                         <span class="keywordflow">if</span>( !l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;joueur )
<a name="l01267"></a>01267                             stdErrorE(<span class="stringliteral">&quot;POINTEUR NULL !X=%u, Y=%u, l_map-&gt;getBlock(x, y)-&gt;joueur=0&quot;</span>, x, y);
<a name="l01268"></a>01268 
<a name="l01269"></a>01269                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> joueur;
<a name="l01270"></a>01270                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01271"></a>01271                         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;joueur-&gt;size()-1; i&gt;=0; i-- ){
<a name="l01272"></a>01272                             joueur = l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;joueur-&gt;at(i);
<a name="l01273"></a>01273                             <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a4a1f44d3d69f7cd7341ee2ce21a825b0" title="Blit le joueur {joueur} a la position {pos} avec l&amp;#39;orientation {ori}.">joueur_orientation</a>( p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(joueur-1)-&gt;<a class="code" href="classperso.html#a5db1bb1382ea2071bd744476542eaee2" title="Renvoie l&amp;#39;orientation du personnage.">orientation</a>(), joueur, &amp;pos );
<a name="l01274"></a>01274                         }
<a name="l01275"></a>01275                         <span class="keywordflow">break</span>;
<a name="l01276"></a>01276                     }
<a name="l01277"></a>01277                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba00a358d27f9818438d9bd9b8e882fb2d">map::bombe_poser</a>: {
<a name="l01278"></a>01278                         <span class="keywordflow">if</span>( <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ab29b0ea5c97c36acbecfe99f39999ea6" title="Complete le texte avec le caractère _ jusqu&amp;#39;a avoir un texte de longueur 20.">isInSpriteList</a>(<a class="code" href="coordonnees_8h.html#a6672966a8002c5f5e0a711f7029b0e7d" title="Permet de créer facillement une stucture s_Coordonnees initialisée.">coordonneeConvert</a>(x, y)) == -1 ){
<a name="l01279"></a>01279                             <a class="code" href="structmoteur__sdl_1_1_sprite.html" title="Contient les données pour faire un Sprite.">Sprite</a> b;
<a name="l01280"></a>01280                             b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#a3f5a772212bae4b24f6d7b7f580eaff3">pos</a> = <a class="code" href="coordonnees_8h.html#a6672966a8002c5f5e0a711f7029b0e7d" title="Permet de créer facillement une stucture s_Coordonnees initialisée.">coordonneeConvert</a>(x, y);
<a name="l01281"></a>01281                             b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#ada9443479e923a317f605450502f68aa">objet</a> = bombe;
<a name="l01282"></a>01282                             b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#aa82cbf2bf9a4c54b61df8304ff3071f5">frame</a> = 0;
<a name="l01283"></a>01283                             b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#ae91b39254b86ca40caf07c2f8d2a024a">refresh</a> = 0;
<a name="l01284"></a>01284                             <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.push_back(b);
<a name="l01285"></a>01285                         }
<a name="l01286"></a>01286 
<a name="l01287"></a>01287                         imgRect.x = 0;
<a name="l01288"></a>01288                         imgRect.y = 0;
<a name="l01289"></a>01289                         imgRect.w = 32;
<a name="l01290"></a>01290                         imgRect.h = 32;
<a name="l01291"></a>01291                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01292"></a>01292                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda71c0ae6cb5d8fbfc4753dd17f00553b0">bombe</a>], &amp;imgRect, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01293"></a>01293                         <span class="keywordflow">break</span>;
<a name="l01294"></a>01294                     }
<a name="l01295"></a>01295                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba278e9245c0e1cfb455511d27114dc830">map::bombe_poser_AVEC_UN_joueur</a>:
<a name="l01296"></a>01296                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba7eeb793973ee8e2ce702d82fbcd9d759">map::bombe_poser_AVEC_plusieurs_joueurs</a>: {
<a name="l01297"></a>01297                         <span class="keywordflow">if</span>( !l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;joueur )
<a name="l01298"></a>01298                             stdErrorE(<span class="stringliteral">&quot;POINTEUR NULL !X=%u, Y=%u, l_map-&gt;getBlock(x, y)-&gt;joueur=0&quot;</span>, x, y);
<a name="l01299"></a>01299 
<a name="l01300"></a>01300                         <span class="keywordflow">if</span>( l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;joueur-&gt;size() &lt;= 1 )
<a name="l01301"></a>01301                             stdErrorE(<span class="stringliteral">&quot;Nombre d&#39;info joueur (%u) incorrect !&quot;</span>, l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;joueur-&gt;size());
<a name="l01302"></a>01302 
<a name="l01303"></a>01303                         <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> joueur = l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;joueur-&gt;at(1);
<a name="l01304"></a>01304 
<a name="l01305"></a>01305                         <span class="keywordflow">if</span>( <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ab29b0ea5c97c36acbecfe99f39999ea6" title="Complete le texte avec le caractère _ jusqu&amp;#39;a avoir un texte de longueur 20.">isInSpriteList</a>(<a class="code" href="coordonnees_8h.html#a6672966a8002c5f5e0a711f7029b0e7d" title="Permet de créer facillement une stucture s_Coordonnees initialisée.">coordonneeConvert</a>(x, y)) == -1 ){
<a name="l01306"></a>01306                             <a class="code" href="structmoteur__sdl_1_1_sprite.html" title="Contient les données pour faire un Sprite.">Sprite</a> b;
<a name="l01307"></a>01307                             b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#a3f5a772212bae4b24f6d7b7f580eaff3">pos</a> = <a class="code" href="coordonnees_8h.html#a6672966a8002c5f5e0a711f7029b0e7d" title="Permet de créer facillement une stucture s_Coordonnees initialisée.">coordonneeConvert</a>(x, y);
<a name="l01308"></a>01308                             b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#ada9443479e923a317f605450502f68aa">objet</a> = bombe;
<a name="l01309"></a>01309                             b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#aa82cbf2bf9a4c54b61df8304ff3071f5">frame</a> = 0;
<a name="l01310"></a>01310                             b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#ae91b39254b86ca40caf07c2f8d2a024a">refresh</a> = 0;
<a name="l01311"></a>01311                             <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.push_back(b);
<a name="l01312"></a>01312                         }
<a name="l01313"></a>01313 
<a name="l01314"></a>01314                         imgRect.x = 0;
<a name="l01315"></a>01315                         imgRect.y = 0;
<a name="l01316"></a>01316                         imgRect.w = 32;
<a name="l01317"></a>01317                         imgRect.h = 32;
<a name="l01318"></a>01318                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01319"></a>01319                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda71c0ae6cb5d8fbfc4753dd17f00553b0">bombe</a>], &amp;imgRect, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01320"></a>01320                         <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a4a1f44d3d69f7cd7341ee2ce21a825b0" title="Blit le joueur {joueur} a la position {pos} avec l&amp;#39;orientation {ori}.">joueur_orientation</a>( p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(joueur-1)-&gt;<a class="code" href="classperso.html#a5db1bb1382ea2071bd744476542eaee2" title="Renvoie l&amp;#39;orientation du personnage.">orientation</a>(), joueur, &amp;pos );
<a name="l01321"></a>01321                         <span class="keywordflow">break</span>;
<a name="l01322"></a>01322                     }
<a name="l01323"></a>01323                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469bac331e3cb1090bc086fc8aec8c40f8d90">map::flamme_origine</a>: {
<a name="l01324"></a>01324                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01325"></a>01325                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda577eb74ece3495763f9b530a2587762e">flamme_origine</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01326"></a>01326                         <span class="keywordflow">break</span>;
<a name="l01327"></a>01327                     }
<a name="l01328"></a>01328                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba0b01d857d4519d6da4b8833433a718d0">map::flamme_horizontal</a>: {
<a name="l01329"></a>01329                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01330"></a>01330                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdac711904be8807563b54913e9fcdf2b94">flamme_horizontal</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01331"></a>01331                         <span class="keywordflow">break</span>;
<a name="l01332"></a>01332                     }
<a name="l01333"></a>01333                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469bac2726a799ffd38fb4b89989f24d40e7e">map::flamme_vertical</a>: {
<a name="l01334"></a>01334                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01335"></a>01335                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdaf8441cad2ef9b1eac86048fcbbc34ed4">flamme_vertical</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01336"></a>01336                         <span class="keywordflow">break</span>;
<a name="l01337"></a>01337                     }
<a name="l01338"></a>01338                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469bab794750be41b582091eb2b4c480581e4">map::flamme_pointe_haut</a>: {
<a name="l01339"></a>01339                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda0644d1e99ca6e89bc8a5fa60918f14e6">flamme_pointe_haut</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01340"></a>01340                         <span class="keywordflow">break</span>;
<a name="l01341"></a>01341                     }
<a name="l01342"></a>01342                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba09c901a81e700c77bcd7886584f1c443">map::flamme_pointe_bas</a>: {
<a name="l01343"></a>01343                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab586bdcacba3ed23b40769fdc58d7f33">bout_flamme_bas</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01344"></a>01344                         <span class="keywordflow">break</span>;
<a name="l01345"></a>01345                     }
<a name="l01346"></a>01346                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba62944c1454be834def9f3dd83c71bfe1">map::flamme_pointe_droite</a>: {
<a name="l01347"></a>01347                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda3442207d129a37dc6e5094ad5215afad">bout_flamme_droite</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01348"></a>01348                         <span class="keywordflow">break</span>;
<a name="l01349"></a>01349                     }
<a name="l01350"></a>01350                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba08c81a1be9eb74cd270ee9aba56122a7">map::flamme_pointe_gauche</a>: {
<a name="l01351"></a>01351                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdae43a0d679705dec4e18f10e4f85922ad">bout_flamme_gauche</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01352"></a>01352                         <span class="keywordflow">break</span>;
<a name="l01353"></a>01353                     }
<a name="l01354"></a>01354                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba5bb1e9e4730d4ba08f3dab2921bfce00">map::bonus</a>: {
<a name="l01355"></a>01355                         <span class="keywordflow">if</span>( !l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;joueur )
<a name="l01356"></a>01356                             stdErrorE(<span class="stringliteral">&quot;POINTEUR NULL !X=%u, Y=%u, l_map-&gt;getBlock(x, y).joueur=0&quot;</span>, x, y);
<a name="l01357"></a>01357 
<a name="l01358"></a>01358                         SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01359"></a>01359                         <span class="keywordflow">switch</span>( (<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7ef" title="Les types de bonus possible dans le jeu.">bonus::t_Bonus</a>)l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;joueur-&gt;at(0) )
<a name="l01360"></a>01360                         {
<a name="l01361"></a>01361                             <span class="keywordflow">case</span> <a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa5377d867e4dcd5d8e6656217d02fdc9f">bonus::bombe</a>: {
<a name="l01362"></a>01362                                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdaad1a81a961665d49f2a289876927350b">gain_bombe</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01363"></a>01363                                 <span class="keywordflow">break</span>;
<a name="l01364"></a>01364                             }
<a name="l01365"></a>01365                             <span class="keywordflow">case</span> <a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa3758eac4c25825d7f7cb8f5ec4bc610e">bonus::puissance_flamme</a>: {
<a name="l01366"></a>01366                                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdae46b56cdd01f920c6406fa12018dd05d">gain_puissance_flamme</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01367"></a>01367                                 <span class="keywordflow">break</span>;
<a name="l01368"></a>01368                             }
<a name="l01369"></a>01369                             <span class="keywordflow">case</span> <a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efaf580f32a0c46beb866416ad197e19757">bonus::declancheur</a>: {
<a name="l01370"></a>01370                                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda7eae80fc248c6773b41a32ec1a2e487c">gain_declancheur</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01371"></a>01371                                 <span class="keywordflow">break</span>;
<a name="l01372"></a>01372                             }
<a name="l01373"></a>01373                             <span class="keywordflow">case</span> <a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efae2dd393722ba461c826db4bc25f044eb">bonus::pousse_bombe</a>: {
<a name="l01374"></a>01374                                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab8ed73786ad735d0aff289ca223f38ba">gain_pousse_bombe</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01375"></a>01375                                 <span class="keywordflow">break</span>;
<a name="l01376"></a>01376                             }
<a name="l01377"></a>01377                             <span class="keywordflow">case</span> <a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa1246f4ca553bef6a133a81553cbb9b41">bonus::vie</a>: {
<a name="l01378"></a>01378                                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab46dbadb7c56865c12b644152e3ff2e6">gain_vie</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01379"></a>01379                                 <span class="keywordflow">break</span>;
<a name="l01380"></a>01380                             }
<a name="l01381"></a>01381                             <span class="keywordflow">default</span>: {
<a name="l01382"></a>01382                                 stdError(<span class="stringliteral">&quot;Erreur lors de la lecture de la map, BONUS inconu &lt;%d&gt;&quot;</span>, (<span class="keywordtype">int</span>)l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;joueur-&gt;at(0));
<a name="l01383"></a>01383                                 <span class="keywordflow">break</span>;
<a name="l01384"></a>01384                             }
<a name="l01385"></a>01385                         }
<a name="l01386"></a>01386                         <span class="keywordflow">break</span>;
<a name="l01387"></a>01387                     }
<a name="l01388"></a>01388                     <span class="keywordflow">default</span>: {
<a name="l01389"></a>01389                         stdError(<span class="stringliteral">&quot;Erreur lors de la lecture de la map, Objet inconu &lt;%d&gt;&quot;</span>, (<span class="keywordtype">int</span>)l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(x, y)-&gt;element);
<a name="l01390"></a>01390                         <span class="keywordflow">break</span>;
<a name="l01391"></a>01391                     }
<a name="l01392"></a>01392                 }
<a name="l01393"></a>01393             }
<a name="l01394"></a>01394         }
<a name="l01395"></a>01395 
<a name="l01396"></a>01396         SDL_Flip(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>);<span class="comment">// afficher la map</span>
<a name="l01397"></a>01397     }<span class="keywordflow">else</span>{
<a name="l01398"></a>01398         <a class="code" href="structs___coordonnees.html" title="struct de coordonnées ( x,y )">s_Coordonnees</a> v_pos;
<a name="l01399"></a>01399         <span class="keywordflow">while</span>( l_map-&gt;<a class="code" href="classmap.html#a3453f2495334983df3bbf1737908e25e" title="Retourne les positions X,Y des case modifiées depuis le dernier cycle.">getModifications</a>(v_pos) )
<a name="l01400"></a>01400         {
<a name="l01401"></a>01401             dessiner = 1;
<a name="l01402"></a>01402             pos.x=v_pos.<a class="code" href="structs___coordonnees.html#a58e4c6bec574940d228bf0a1b8b6b308">x</a>*32+xpos;
<a name="l01403"></a>01403             pos.y=v_pos.<a class="code" href="structs___coordonnees.html#aaf8eb7cb396be8207c9c3c63a806de51">y</a>*32+ypos;
<a name="l01404"></a>01404             <span class="keywordflow">switch</span>( l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;element )
<a name="l01405"></a>01405             {
<a name="l01406"></a>01406                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba508b0ad2c59b8c654beb73d2239c8e74">map::vide</a>: {
<a name="l01407"></a>01407                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01408"></a>01408                     <span class="keywordflow">break</span>;
<a name="l01409"></a>01409                 }
<a name="l01410"></a>01410                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469bac6281d911da21f4bb566114037266055">map::Mur_destructible</a>: {
<a name="l01411"></a>01411                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab13b035460df7cbb44935735074954b5">mur_destructible</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01412"></a>01412                     <span class="keywordflow">break</span>;
<a name="l01413"></a>01413                 }
<a name="l01414"></a>01414                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba1bae257451fe92ef4fafd02fed56a850">map::Mur_INdestructible</a>: {
<a name="l01415"></a>01415                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdaa3bb9c2c29cef86f0c2d57fdb5220c71">mur_indestructible</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01416"></a>01416                     <span class="keywordflow">break</span>;
<a name="l01417"></a>01417                 }
<a name="l01418"></a>01418                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba4829d7f791fe2537aaa05edf28cc6630">map::UN_joueur</a>: {
<a name="l01419"></a>01419                     <span class="keywordflow">if</span>( !l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur )
<a name="l01420"></a>01420                         stdErrorE(<span class="stringliteral">&quot;POINTEUR NULL !X=%u, Y=%u, l_map-&gt;getBlock(v_pos)-&gt;joueur=0&quot;</span>, v_pos.<a class="code" href="structs___coordonnees.html#a58e4c6bec574940d228bf0a1b8b6b308">x</a>, v_pos.<a class="code" href="structs___coordonnees.html#aaf8eb7cb396be8207c9c3c63a806de51">y</a>);
<a name="l01421"></a>01421 
<a name="l01422"></a>01422                     <span class="keywordflow">if</span>( !l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur-&gt;size() )
<a name="l01423"></a>01423                         stdErrorE(<span class="stringliteral">&quot;l_map-&gt;getBlock(%u, %u)-&gt;joueur-&gt;size()=0&quot;</span>, v_pos.<a class="code" href="structs___coordonnees.html#a58e4c6bec574940d228bf0a1b8b6b308">x</a>, v_pos.<a class="code" href="structs___coordonnees.html#aaf8eb7cb396be8207c9c3c63a806de51">y</a>);
<a name="l01424"></a>01424 
<a name="l01425"></a>01425 
<a name="l01426"></a>01426                     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> joueur = l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur-&gt;at(0);
<a name="l01427"></a>01427                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01428"></a>01428                     <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a4a1f44d3d69f7cd7341ee2ce21a825b0" title="Blit le joueur {joueur} a la position {pos} avec l&amp;#39;orientation {ori}.">joueur_orientation</a>( p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(joueur-1)-&gt;<a class="code" href="classperso.html#a5db1bb1382ea2071bd744476542eaee2" title="Renvoie l&amp;#39;orientation du personnage.">orientation</a>(), joueur, &amp;pos );
<a name="l01429"></a>01429                     <span class="keywordflow">break</span>;
<a name="l01430"></a>01430                 }
<a name="l01431"></a>01431                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469baa94a2d9d84a636b26e656df3e5ae16b8">map::plusieurs_joueurs</a>: {
<a name="l01432"></a>01432                     <span class="keywordflow">if</span>( !l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur )
<a name="l01433"></a>01433                         stdErrorE(<span class="stringliteral">&quot;POINTEUR NULL !X=%u, Y=%u, l_map-&gt;getBlock(v_pos)-&gt;joueur=0&quot;</span>, v_pos.<a class="code" href="structs___coordonnees.html#a58e4c6bec574940d228bf0a1b8b6b308">x</a>, v_pos.<a class="code" href="structs___coordonnees.html#aaf8eb7cb396be8207c9c3c63a806de51">y</a>);
<a name="l01434"></a>01434 
<a name="l01435"></a>01435                     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> joueur;
<a name="l01436"></a>01436                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01437"></a>01437                     <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur-&gt;size()-1; i&gt;=0; i-- ){
<a name="l01438"></a>01438                         joueur = l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur-&gt;at(i);
<a name="l01439"></a>01439                         <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a4a1f44d3d69f7cd7341ee2ce21a825b0" title="Blit le joueur {joueur} a la position {pos} avec l&amp;#39;orientation {ori}.">joueur_orientation</a>( p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(joueur-1)-&gt;<a class="code" href="classperso.html#a5db1bb1382ea2071bd744476542eaee2" title="Renvoie l&amp;#39;orientation du personnage.">orientation</a>(), joueur, &amp;pos );
<a name="l01440"></a>01440                     }
<a name="l01441"></a>01441                     <span class="keywordflow">break</span>;
<a name="l01442"></a>01442                 }
<a name="l01443"></a>01443                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba00a358d27f9818438d9bd9b8e882fb2d">map::bombe_poser</a>: {
<a name="l01444"></a>01444                     <span class="keywordflow">if</span>( <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ab29b0ea5c97c36acbecfe99f39999ea6" title="Complete le texte avec le caractère _ jusqu&amp;#39;a avoir un texte de longueur 20.">isInSpriteList</a>(v_pos) == -1 ){
<a name="l01445"></a>01445                         <a class="code" href="structmoteur__sdl_1_1_sprite.html" title="Contient les données pour faire un Sprite.">Sprite</a> b;
<a name="l01446"></a>01446                         b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#a3f5a772212bae4b24f6d7b7f580eaff3">pos</a> = v_pos;
<a name="l01447"></a>01447                         b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#ada9443479e923a317f605450502f68aa">objet</a> = bombe;
<a name="l01448"></a>01448                         b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#aa82cbf2bf9a4c54b61df8304ff3071f5">frame</a> = 0;
<a name="l01449"></a>01449                         b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#ae91b39254b86ca40caf07c2f8d2a024a">refresh</a> = 0;
<a name="l01450"></a>01450                         <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.push_back(b);
<a name="l01451"></a>01451                     }
<a name="l01452"></a>01452 
<a name="l01453"></a>01453                     imgRect.x = 0;
<a name="l01454"></a>01454                     imgRect.y = 0;
<a name="l01455"></a>01455                     imgRect.w = 32;
<a name="l01456"></a>01456                     imgRect.h = 32;
<a name="l01457"></a>01457                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01458"></a>01458                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda71c0ae6cb5d8fbfc4753dd17f00553b0">bombe</a>], &amp;imgRect, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01459"></a>01459                     <span class="keywordflow">break</span>;
<a name="l01460"></a>01460                 }
<a name="l01461"></a>01461                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba278e9245c0e1cfb455511d27114dc830">map::bombe_poser_AVEC_UN_joueur</a>: {
<a name="l01462"></a>01462                     <span class="keywordflow">if</span>( !l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur )
<a name="l01463"></a>01463                         stdErrorE(<span class="stringliteral">&quot;POINTEUR NULL !X=%u, Y=%u, l_map-&gt;getBlock(v_pos)-&gt;joueur=0&quot;</span>, v_pos.<a class="code" href="structs___coordonnees.html#a58e4c6bec574940d228bf0a1b8b6b308">x</a>, v_pos.<a class="code" href="structs___coordonnees.html#aaf8eb7cb396be8207c9c3c63a806de51">y</a>);
<a name="l01464"></a>01464 
<a name="l01465"></a>01465                     <span class="keywordflow">if</span>( l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur-&gt;size() &lt;= 1 )
<a name="l01466"></a>01466                         stdErrorE(<span class="stringliteral">&quot;Nombre d&#39;info joueur (%u) incorrect !&quot;</span>, l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur-&gt;size());
<a name="l01467"></a>01467 
<a name="l01468"></a>01468                     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> joueur = l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur-&gt;at(1);
<a name="l01469"></a>01469 
<a name="l01470"></a>01470                     <span class="keywordflow">if</span>( <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ab29b0ea5c97c36acbecfe99f39999ea6" title="Complete le texte avec le caractère _ jusqu&amp;#39;a avoir un texte de longueur 20.">isInSpriteList</a>(v_pos) == -1 ){
<a name="l01471"></a>01471                         <a class="code" href="structmoteur__sdl_1_1_sprite.html" title="Contient les données pour faire un Sprite.">Sprite</a> b;
<a name="l01472"></a>01472                         b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#a3f5a772212bae4b24f6d7b7f580eaff3">pos</a> = v_pos;
<a name="l01473"></a>01473                         b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#ada9443479e923a317f605450502f68aa">objet</a> = bombe;
<a name="l01474"></a>01474                         b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#aa82cbf2bf9a4c54b61df8304ff3071f5">frame</a> = 0;
<a name="l01475"></a>01475                         b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#ae91b39254b86ca40caf07c2f8d2a024a">refresh</a> = 0;
<a name="l01476"></a>01476                         <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.push_back(b);
<a name="l01477"></a>01477                     }
<a name="l01478"></a>01478 
<a name="l01479"></a>01479                     imgRect.x = 0;
<a name="l01480"></a>01480                     imgRect.y = 0;
<a name="l01481"></a>01481                     imgRect.w = 32;
<a name="l01482"></a>01482                     imgRect.h = 32;
<a name="l01483"></a>01483                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01484"></a>01484                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda71c0ae6cb5d8fbfc4753dd17f00553b0">bombe</a>], &amp;imgRect, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01485"></a>01485                     <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a4a1f44d3d69f7cd7341ee2ce21a825b0" title="Blit le joueur {joueur} a la position {pos} avec l&amp;#39;orientation {ori}.">joueur_orientation</a>( p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(joueur-1)-&gt;<a class="code" href="classperso.html#a5db1bb1382ea2071bd744476542eaee2" title="Renvoie l&amp;#39;orientation du personnage.">orientation</a>(), joueur, &amp;pos );
<a name="l01486"></a>01486                     <span class="keywordflow">break</span>;
<a name="l01487"></a>01487                 }
<a name="l01488"></a>01488                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba7eeb793973ee8e2ce702d82fbcd9d759">map::bombe_poser_AVEC_plusieurs_joueurs</a>: {
<a name="l01489"></a>01489                     <span class="keywordflow">if</span>( !l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur )
<a name="l01490"></a>01490                         stdErrorE(<span class="stringliteral">&quot;POINTEUR NULL !X=%u, Y=%u, l_map-&gt;getBlock(v_pos)-&gt;joueur=0&quot;</span>, v_pos.<a class="code" href="structs___coordonnees.html#a58e4c6bec574940d228bf0a1b8b6b308">x</a>, v_pos.<a class="code" href="structs___coordonnees.html#aaf8eb7cb396be8207c9c3c63a806de51">y</a>);
<a name="l01491"></a>01491 
<a name="l01492"></a>01492                     <span class="keywordflow">if</span>( l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur-&gt;size() &lt;= 1 )
<a name="l01493"></a>01493                         stdErrorE(<span class="stringliteral">&quot;Nombre d&#39;info joueur (%u) incorrect !&quot;</span>, l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur-&gt;size());
<a name="l01494"></a>01494 
<a name="l01495"></a>01495                     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> joueur;
<a name="l01496"></a>01496 
<a name="l01497"></a>01497                     <span class="keywordflow">if</span>( <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ab29b0ea5c97c36acbecfe99f39999ea6" title="Complete le texte avec le caractère _ jusqu&amp;#39;a avoir un texte de longueur 20.">isInSpriteList</a>(v_pos) == -1 ){
<a name="l01498"></a>01498                         <a class="code" href="structmoteur__sdl_1_1_sprite.html" title="Contient les données pour faire un Sprite.">Sprite</a> b;
<a name="l01499"></a>01499                         b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#a3f5a772212bae4b24f6d7b7f580eaff3">pos</a> = v_pos;
<a name="l01500"></a>01500                         b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#ada9443479e923a317f605450502f68aa">objet</a> = bombe;
<a name="l01501"></a>01501                         b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#aa82cbf2bf9a4c54b61df8304ff3071f5">frame</a> = 0;
<a name="l01502"></a>01502                         b.<a class="code" href="structmoteur__sdl_1_1_sprite.html#ae91b39254b86ca40caf07c2f8d2a024a">refresh</a> = 0;
<a name="l01503"></a>01503                         <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.push_back(b);
<a name="l01504"></a>01504                     }
<a name="l01505"></a>01505 
<a name="l01506"></a>01506                     imgRect.x = 0;
<a name="l01507"></a>01507                     imgRect.y = 0;
<a name="l01508"></a>01508                     imgRect.w = 32;
<a name="l01509"></a>01509                     imgRect.h = 32;
<a name="l01510"></a>01510                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01511"></a>01511                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda71c0ae6cb5d8fbfc4753dd17f00553b0">bombe</a>], &amp;imgRect, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01512"></a>01512                     <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur-&gt;size()-1; i&gt;=1; i-- ){
<a name="l01513"></a>01513                         joueur = l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur-&gt;at(i);
<a name="l01514"></a>01514                         <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a4a1f44d3d69f7cd7341ee2ce21a825b0" title="Blit le joueur {joueur} a la position {pos} avec l&amp;#39;orientation {ori}.">joueur_orientation</a>( p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(joueur-1)-&gt;<a class="code" href="classperso.html#a5db1bb1382ea2071bd744476542eaee2" title="Renvoie l&amp;#39;orientation du personnage.">orientation</a>(), joueur, &amp;pos );
<a name="l01515"></a>01515                     }
<a name="l01516"></a>01516                     <span class="keywordflow">break</span>;
<a name="l01517"></a>01517                 }
<a name="l01518"></a>01518                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469bac331e3cb1090bc086fc8aec8c40f8d90">map::flamme_origine</a>: {
<a name="l01519"></a>01519                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01520"></a>01520                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda577eb74ece3495763f9b530a2587762e">flamme_origine</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01521"></a>01521                     <span class="keywordflow">break</span>;
<a name="l01522"></a>01522                 }
<a name="l01523"></a>01523                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba0b01d857d4519d6da4b8833433a718d0">map::flamme_horizontal</a>: {
<a name="l01524"></a>01524 
<a name="l01525"></a>01525                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01526"></a>01526                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdac711904be8807563b54913e9fcdf2b94">flamme_horizontal</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01527"></a>01527                     <span class="keywordflow">break</span>;
<a name="l01528"></a>01528                 }
<a name="l01529"></a>01529                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469bac2726a799ffd38fb4b89989f24d40e7e">map::flamme_vertical</a>: {
<a name="l01530"></a>01530                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01531"></a>01531                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdaf8441cad2ef9b1eac86048fcbbc34ed4">flamme_vertical</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01532"></a>01532                     <span class="keywordflow">break</span>;
<a name="l01533"></a>01533                 }
<a name="l01534"></a>01534                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469bab794750be41b582091eb2b4c480581e4">map::flamme_pointe_haut</a>: {
<a name="l01535"></a>01535                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda0644d1e99ca6e89bc8a5fa60918f14e6">flamme_pointe_haut</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01536"></a>01536                     <span class="keywordflow">break</span>;
<a name="l01537"></a>01537                 }
<a name="l01538"></a>01538                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba09c901a81e700c77bcd7886584f1c443">map::flamme_pointe_bas</a>: {
<a name="l01539"></a>01539                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab586bdcacba3ed23b40769fdc58d7f33">bout_flamme_bas</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01540"></a>01540                     <span class="keywordflow">break</span>;
<a name="l01541"></a>01541                 }
<a name="l01542"></a>01542                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba62944c1454be834def9f3dd83c71bfe1">map::flamme_pointe_droite</a>: {
<a name="l01543"></a>01543                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda3442207d129a37dc6e5094ad5215afad">bout_flamme_droite</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01544"></a>01544                     <span class="keywordflow">break</span>;
<a name="l01545"></a>01545                 }
<a name="l01546"></a>01546                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba08c81a1be9eb74cd270ee9aba56122a7">map::flamme_pointe_gauche</a>: {
<a name="l01547"></a>01547                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdae43a0d679705dec4e18f10e4f85922ad">bout_flamme_gauche</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01548"></a>01548                     <span class="keywordflow">break</span>;
<a name="l01549"></a>01549                 }
<a name="l01550"></a>01550                 <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba5bb1e9e4730d4ba08f3dab2921bfce00">map::bonus</a>: {
<a name="l01551"></a>01551                     <span class="keywordflow">if</span>( !l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur )
<a name="l01552"></a>01552                         stdErrorE(<span class="stringliteral">&quot;POINTEUR NULL !X=%u, Y=%u, l_map-&gt;getBlock(x, y).joueur=0&quot;</span>, v_pos.<a class="code" href="structs___coordonnees.html#a58e4c6bec574940d228bf0a1b8b6b308">x</a>, v_pos.<a class="code" href="structs___coordonnees.html#aaf8eb7cb396be8207c9c3c63a806de51">y</a>);
<a name="l01553"></a>01553 
<a name="l01554"></a>01554                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01555"></a>01555                     <span class="keywordflow">switch</span>( (<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7ef" title="Les types de bonus possible dans le jeu.">bonus::t_Bonus</a>)l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur-&gt;at(0) )
<a name="l01556"></a>01556                     {
<a name="l01557"></a>01557                         <span class="keywordflow">case</span> <a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa5377d867e4dcd5d8e6656217d02fdc9f">bonus::bombe</a>: {
<a name="l01558"></a>01558                             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdaad1a81a961665d49f2a289876927350b">gain_bombe</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01559"></a>01559                             <span class="keywordflow">break</span>;
<a name="l01560"></a>01560                         }
<a name="l01561"></a>01561                         <span class="keywordflow">case</span> <a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa3758eac4c25825d7f7cb8f5ec4bc610e">bonus::puissance_flamme</a>: {
<a name="l01562"></a>01562                             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdae46b56cdd01f920c6406fa12018dd05d">gain_puissance_flamme</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01563"></a>01563                             <span class="keywordflow">break</span>;
<a name="l01564"></a>01564                         }
<a name="l01565"></a>01565                         <span class="keywordflow">case</span> <a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efaf580f32a0c46beb866416ad197e19757">bonus::declancheur</a>: {
<a name="l01566"></a>01566                             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda7eae80fc248c6773b41a32ec1a2e487c">gain_declancheur</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01567"></a>01567                             <span class="keywordflow">break</span>;
<a name="l01568"></a>01568                         }
<a name="l01569"></a>01569                         <span class="keywordflow">case</span> <a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efae2dd393722ba461c826db4bc25f044eb">bonus::pousse_bombe</a>: {
<a name="l01570"></a>01570                             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab8ed73786ad735d0aff289ca223f38ba">gain_pousse_bombe</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01571"></a>01571                             <span class="keywordflow">break</span>;
<a name="l01572"></a>01572                         }
<a name="l01573"></a>01573                         <span class="keywordflow">case</span> <a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa1246f4ca553bef6a133a81553cbb9b41">bonus::vie</a>: {
<a name="l01574"></a>01574                             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab46dbadb7c56865c12b644152e3ff2e6">gain_vie</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01575"></a>01575                             <span class="keywordflow">break</span>;
<a name="l01576"></a>01576                         }
<a name="l01577"></a>01577                         <span class="keywordflow">default</span>: {
<a name="l01578"></a>01578                             stdError(<span class="stringliteral">&quot;Erreur lors de la lecture de la map, BONUS inconu &lt;%d&gt;&quot;</span>, (<span class="keywordtype">int</span>)l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;joueur-&gt;at(0));
<a name="l01579"></a>01579                             <span class="keywordflow">break</span>;
<a name="l01580"></a>01580                         }
<a name="l01581"></a>01581                     }
<a name="l01582"></a>01582                     <span class="keywordflow">break</span>;
<a name="l01583"></a>01583                 }
<a name="l01584"></a>01584                 <span class="keywordflow">default</span>: {
<a name="l01585"></a>01585                     stdError(<span class="stringliteral">&quot;Erreur lors de la lecture de la map, Objet inconu &lt;%d&gt;&quot;</span>, (<span class="keywordtype">int</span>)l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(v_pos)-&gt;element);
<a name="l01586"></a>01586                     <span class="keywordflow">break</span>;
<a name="l01587"></a>01587                 }
<a name="l01588"></a>01588             }
<a name="l01589"></a>01589             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x, pos.y, 32, 32);
<a name="l01590"></a>01590         }
<a name="l01591"></a>01591     }
<a name="l01592"></a>01592 
<a name="l01593"></a>01593     <span class="comment">/***************************************************************************</span>
<a name="l01594"></a>01594 <span class="comment">    * Blitage des animations</span>
<a name="l01595"></a>01595 <span class="comment">    */</span>
<a name="l01596"></a>01596     <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.size(); i++ )
<a name="l01597"></a>01597     {
<a name="l01598"></a>01598         <span class="keywordflow">switch</span>( <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).objet )
<a name="l01599"></a>01599         {
<a name="l01600"></a>01600             <span class="keywordflow">case</span> <a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda71c0ae6cb5d8fbfc4753dd17f00553b0">bombe</a>: {
<a name="l01601"></a>01601                 <span class="keywordflow">switch</span>( l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos)-&gt;element )
<a name="l01602"></a>01602                 {
<a name="l01603"></a>01603                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba00a358d27f9818438d9bd9b8e882fb2d">map::bombe_poser</a>: {
<a name="l01604"></a>01604                         <span class="keywordflow">if</span>( <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).refresh &lt; clock() ){
<a name="l01605"></a>01605                             pos.x=<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos.x*32+xpos;
<a name="l01606"></a>01606                             pos.y=<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos.y*32+ypos;
<a name="l01607"></a>01607                             imgRect.x = (<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).frame%(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[bombe]-&gt;w/32))*32;
<a name="l01608"></a>01608                             imgRect.y = 0;
<a name="l01609"></a>01609                             imgRect.w = 32;
<a name="l01610"></a>01610                             imgRect.h = 32;
<a name="l01611"></a>01611                             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01612"></a>01612                             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda71c0ae6cb5d8fbfc4753dd17f00553b0">bombe</a>], &amp;imgRect, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01613"></a>01613                             <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).frame++;
<a name="l01614"></a>01614                             <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).refresh = clock()+VitesseSpriteBombe;
<a name="l01615"></a>01615 
<a name="l01616"></a>01616                             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x, pos.y, 32, 32);
<a name="l01617"></a>01617                         }
<a name="l01618"></a>01618                         <span class="keywordflow">break</span>;
<a name="l01619"></a>01619                     }
<a name="l01620"></a>01620                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba278e9245c0e1cfb455511d27114dc830">map::bombe_poser_AVEC_UN_joueur</a>: {
<a name="l01621"></a>01621                         <span class="keywordflow">if</span>( <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).refresh &lt; clock() ){
<a name="l01622"></a>01622                             <span class="keywordflow">if</span>( !l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos)-&gt;joueur )
<a name="l01623"></a>01623                                 stdErrorE(<span class="stringliteral">&quot;POINTEUR NULL !X=%u, Y=%u, l_map-&gt;getBlock(pos).joueur=0&quot;</span>, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos.x, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos.y);
<a name="l01624"></a>01624 
<a name="l01625"></a>01625                             <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> joueur = l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos)-&gt;joueur-&gt;at(1);
<a name="l01626"></a>01626 
<a name="l01627"></a>01627                             pos.x=<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos.x*32+xpos;
<a name="l01628"></a>01628                             pos.y=<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos.y*32+ypos;
<a name="l01629"></a>01629                             imgRect.x = (<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).frame%(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[bombe]-&gt;w/32))*32;
<a name="l01630"></a>01630                             imgRect.y = 0;
<a name="l01631"></a>01631                             imgRect.w = 32;
<a name="l01632"></a>01632                             imgRect.h = 32;
<a name="l01633"></a>01633                             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01634"></a>01634                             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda71c0ae6cb5d8fbfc4753dd17f00553b0">bombe</a>], &amp;imgRect, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01635"></a>01635                             <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a4a1f44d3d69f7cd7341ee2ce21a825b0" title="Blit le joueur {joueur} a la position {pos} avec l&amp;#39;orientation {ori}.">joueur_orientation</a>( p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(joueur-1)-&gt;<a class="code" href="classperso.html#a5db1bb1382ea2071bd744476542eaee2" title="Renvoie l&amp;#39;orientation du personnage.">orientation</a>(), joueur, &amp;pos );
<a name="l01636"></a>01636                             <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).frame++;
<a name="l01637"></a>01637                             <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).refresh = clock()+VitesseSpriteBombe;
<a name="l01638"></a>01638 
<a name="l01639"></a>01639                             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x, pos.y, 32, 32);
<a name="l01640"></a>01640                         }
<a name="l01641"></a>01641                         <span class="keywordflow">break</span>;
<a name="l01642"></a>01642                     }
<a name="l01643"></a>01643                     <span class="keywordflow">case</span> <a class="code" href="classmap.html#ae2a076bf152add89e510bca3428f469ba7eeb793973ee8e2ce702d82fbcd9d759">map::bombe_poser_AVEC_plusieurs_joueurs</a>: {
<a name="l01644"></a>01644                         <span class="keywordflow">if</span>( <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).refresh &lt; clock() ){
<a name="l01645"></a>01645                             <span class="keywordflow">if</span>( !l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos)-&gt;joueur )
<a name="l01646"></a>01646                                 stdErrorE(<span class="stringliteral">&quot;POINTEUR NULL !X=%u, Y=%u, l_map-&gt;getBlock(pos).joueur=0&quot;</span>, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos.x, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos.y);
<a name="l01647"></a>01647 
<a name="l01648"></a>01648                             <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> joueur;
<a name="l01649"></a>01649 
<a name="l01650"></a>01650                             pos.x=<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos.x*32+xpos;
<a name="l01651"></a>01651                             pos.y=<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos.y*32+ypos;
<a name="l01652"></a>01652                             imgRect.x = (<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).frame%(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[bombe]-&gt;w/32))*32;
<a name="l01653"></a>01653                             imgRect.y = 0;
<a name="l01654"></a>01654                             imgRect.w = 32;
<a name="l01655"></a>01655                             imgRect.h = 32;
<a name="l01656"></a>01656                             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8ff0b739838b3dc9837137dc54ff317e">vide</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01657"></a>01657                             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda71c0ae6cb5d8fbfc4753dd17f00553b0">bombe</a>], &amp;imgRect, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01658"></a>01658                             <span class="keywordflow">for</span>( <span class="keywordtype">int</span> k=l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos)-&gt;joueur-&gt;size()-1; k&gt;=1; k-- ){
<a name="l01659"></a>01659                                 joueur = l_map-&gt;<a class="code" href="classmap.html#a5ab949cacaad5148299aa70f55bb0c93" title="Retourn le block qui est à la position X, Y.">getBlock</a>(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos)-&gt;joueur-&gt;at(k);
<a name="l01660"></a>01660                                 <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a4a1f44d3d69f7cd7341ee2ce21a825b0" title="Blit le joueur {joueur} a la position {pos} avec l&amp;#39;orientation {ori}.">joueur_orientation</a>( p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(joueur-1)-&gt;<a class="code" href="classperso.html#a5db1bb1382ea2071bd744476542eaee2" title="Renvoie l&amp;#39;orientation du personnage.">orientation</a>(), joueur, &amp;pos );
<a name="l01661"></a>01661                             }
<a name="l01662"></a>01662                             <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).frame++;
<a name="l01663"></a>01663                             <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).refresh = clock()+VitesseSpriteBombe;
<a name="l01664"></a>01664 
<a name="l01665"></a>01665                             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x, pos.y, 32, 32);
<a name="l01666"></a>01666                         }
<a name="l01667"></a>01667                         <span class="keywordflow">break</span>;
<a name="l01668"></a>01668                     }
<a name="l01669"></a>01669                     <span class="keywordflow">default</span>: {
<a name="l01670"></a>01670                         <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.erase(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.begin()+i);
<a name="l01671"></a>01671                         i--;
<a name="l01672"></a>01672                         <span class="keywordflow">break</span>;
<a name="l01673"></a>01673                     }
<a name="l01674"></a>01674                 }
<a name="l01675"></a>01675                 <span class="keywordflow">break</span>;
<a name="l01676"></a>01676             }
<a name="l01677"></a>01677             <span class="keywordflow">default</span>: {
<a name="l01678"></a>01678                 stdError(<span class="stringliteral">&quot;Attention objet animé inconnu ! X=%u, Y=%u, objet=%d&quot;</span>, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos.x, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos.y, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).objet);
<a name="l01679"></a>01679                 <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.erase(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.begin()+i);
<a name="l01680"></a>01680                 i--;
<a name="l01681"></a>01681                 <span class="keywordflow">break</span>;
<a name="l01682"></a>01682             }
<a name="l01683"></a>01683         }
<a name="l01684"></a>01684     }
<a name="l01685"></a>01685 
<a name="l01686"></a>01686 
<a name="l01687"></a>01687     <span class="keyword">static</span> SDL_Color couleurBlanche = {255,255,255,0<span class="comment">/*unused*/</span>};
<a name="l01688"></a>01688     <span class="keyword">static</span> SDL_Color couleurNoire = {0,0,0,0<span class="comment">/*unused*/</span>};
<a name="l01689"></a>01689 
<a name="l01690"></a>01690     <span class="comment">/***************************************************************************</span>
<a name="l01691"></a>01691 <span class="comment">    * Affichage du temps de jeu restant</span>
<a name="l01692"></a>01692 <span class="comment">    */</span>
<a name="l01693"></a>01693     pos.x = 0;
<a name="l01694"></a>01694     pos.y = 0;
<a name="l01695"></a>01695     <span class="keywordtype">char</span> tempsAff[30];
<a name="l01696"></a>01696     <span class="keywordflow">if</span>( p-&gt;<a class="code" href="classpartie.html#ab15f2837f87963336ba2f5e8feec1e44" title="Renvoie le temps de fin / mort subite. (Ne change pas en cours de partie).">timeOut</a>() &gt; clock() ){
<a name="l01697"></a>01697         sprintf(tempsAff, <span class="stringliteral">&quot;%02ldmin:%02ldsecs&quot;</span>, (p-&gt;<a class="code" href="classpartie.html#ab15f2837f87963336ba2f5e8feec1e44" title="Renvoie le temps de fin / mort subite. (Ne change pas en cours de partie).">timeOut</a>()-clock())/(CLOCKS_PER_SEC*60), ((p-&gt;<a class="code" href="classpartie.html#ab15f2837f87963336ba2f5e8feec1e44" title="Renvoie le temps de fin / mort subite. (Ne change pas en cours de partie).">timeOut</a>()-clock())%(CLOCKS_PER_SEC*60))/CLOCKS_PER_SEC);
<a name="l01698"></a>01698         sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurNoire, 40);
<a name="l01699"></a>01699     }<span class="keywordflow">else</span> {
<a name="l01700"></a>01700         sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(<span class="stringliteral">&quot;00min:00secs&quot;</span>, couleurNoire, 40);
<a name="l01701"></a>01701     }
<a name="l01702"></a>01702     imgRect.x = 0;
<a name="l01703"></a>01703     imgRect.y = 0;
<a name="l01704"></a>01704     imgRect.w = sfr_tmp-&gt;w+15;
<a name="l01705"></a>01705     imgRect.h = sfr_tmp-&gt;h;
<a name="l01706"></a>01706     SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l01707"></a>01707     SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l01708"></a>01708     SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x, pos.y, imgRect.w, sfr_tmp-&gt;h);
<a name="l01709"></a>01709     SDL_FreeSurface(sfr_tmp);
<a name="l01710"></a>01710 
<a name="l01711"></a>01711 
<a name="l01712"></a>01712     <span class="comment">/***************************************************************************</span>
<a name="l01713"></a>01713 <span class="comment">    * Affichage du joueur 1</span>
<a name="l01714"></a>01714 <span class="comment">    */</span>
<a name="l01715"></a>01715     <span class="comment">// Affichage du nom du joueur 1</span>
<a name="l01716"></a>01716     pos.x = 10;
<a name="l01717"></a>01717     pos.y = ypos;
<a name="l01718"></a>01718     refresh = p-&gt;<a class="code" href="classpartie.html#a957dd9c9405332830ca5312fe600b139" title="Indique si les données graphiques du joueur ont besoin d&amp;#39;un raffraichissement graphique...">playerNeedRefresh</a>(0);
<a name="l01719"></a>01719     <span class="keywordflow">if</span>( refresh ){
<a name="l01720"></a>01720         <span class="comment">// Affichage du nom du joueur 1</span>
<a name="l01721"></a>01721         sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#a815c8505a10a43da797e0424a0192f92" title="Renvoie le nom du personnage.">nom</a>()-&gt;c_str(), couleurNoire, 55);
<a name="l01722"></a>01722         <span class="comment">// On remplis le fond</span>
<a name="l01723"></a>01723         imgRect.x = pos.x;
<a name="l01724"></a>01724         imgRect.y = pos.y;
<a name="l01725"></a>01725         imgRect.w = xpos-pos.x;
<a name="l01726"></a>01726         imgRect.h = sfr_tmp-&gt;h;
<a name="l01727"></a>01727         SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l01728"></a>01728         <span class="keywordflow">if</span>( (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)pos.x+(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)sfr_tmp-&gt;w &gt; xpos ){
<a name="l01729"></a>01729             imgRect.x = 0;
<a name="l01730"></a>01730             imgRect.y = 0;
<a name="l01731"></a>01731             SDL_BlitSurface(sfr_tmp, &amp;imgRect, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l01732"></a>01732         }<span class="keywordflow">else</span>{
<a name="l01733"></a>01733             SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l01734"></a>01734         }
<a name="l01735"></a>01735         SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x, pos.y, imgRect.w, imgRect.h);
<a name="l01736"></a>01736         SDL_FreeSurface(sfr_tmp);
<a name="l01737"></a>01737     }
<a name="l01738"></a>01738     pos.y += 25;<span class="comment">// Espacement</span>
<a name="l01739"></a>01739     <span class="keywordflow">if</span>( p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>() ){
<a name="l01740"></a>01740         <span class="comment">// Background</span>
<a name="l01741"></a>01741         imgRect.w = xpos-40;<span class="comment">// 40 (espacement bonus)</span>
<a name="l01742"></a>01742         imgRect.h = 32;
<a name="l01743"></a>01743 
<a name="l01744"></a>01744         <span class="comment">// Bombe</span>
<a name="l01745"></a>01745         <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nbBombe = 0;
<a name="l01746"></a>01746         pos.x = 40;
<a name="l01747"></a>01747         pos.y += 35;
<a name="l01748"></a>01748         <span class="keywordflow">if</span>( nbBombe != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa5377d867e4dcd5d8e6656217d02fdc9f">bonus::bombe</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l01749"></a>01749             sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa5377d867e4dcd5d8e6656217d02fdc9f">bonus::bombe</a>) );
<a name="l01750"></a>01750             sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l01751"></a>01751 
<a name="l01752"></a>01752             <span class="comment">// Blit background</span>
<a name="l01753"></a>01753             imgRect.x = pos.x;
<a name="l01754"></a>01754             imgRect.y = pos.y;
<a name="l01755"></a>01755             SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l01756"></a>01756 
<a name="l01757"></a>01757             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdaad1a81a961665d49f2a289876927350b">gain_bombe</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01758"></a>01758             pos.x += 40;
<a name="l01759"></a>01759             pos.y -= 6;
<a name="l01760"></a>01760             SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l01761"></a>01761             pos.y += 6;
<a name="l01762"></a>01762 
<a name="l01763"></a>01763             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l01764"></a>01764             SDL_FreeSurface(sfr_tmp);
<a name="l01765"></a>01765             nbBombe = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa5377d867e4dcd5d8e6656217d02fdc9f">bonus::bombe</a>);
<a name="l01766"></a>01766         }
<a name="l01767"></a>01767 
<a name="l01768"></a>01768         <span class="comment">// Puissance de flamme</span>
<a name="l01769"></a>01769         <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> PuissFlamme = 0;
<a name="l01770"></a>01770         pos.x = 40;
<a name="l01771"></a>01771         pos.y += 35;
<a name="l01772"></a>01772         <span class="keywordflow">if</span>( PuissFlamme != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa3758eac4c25825d7f7cb8f5ec4bc610e">bonus::puissance_flamme</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l01773"></a>01773             sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa3758eac4c25825d7f7cb8f5ec4bc610e">bonus::puissance_flamme</a>) );
<a name="l01774"></a>01774             sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l01775"></a>01775 
<a name="l01776"></a>01776             <span class="comment">// Blit background</span>
<a name="l01777"></a>01777             imgRect.x = pos.x;
<a name="l01778"></a>01778             imgRect.y = pos.y;
<a name="l01779"></a>01779             SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l01780"></a>01780 
<a name="l01781"></a>01781             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdae46b56cdd01f920c6406fa12018dd05d">gain_puissance_flamme</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01782"></a>01782             pos.x += 40;
<a name="l01783"></a>01783             pos.y -= 6;
<a name="l01784"></a>01784             SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l01785"></a>01785             pos.y += 6;
<a name="l01786"></a>01786 
<a name="l01787"></a>01787             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l01788"></a>01788             SDL_FreeSurface(sfr_tmp);
<a name="l01789"></a>01789             PuissFlamme = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa3758eac4c25825d7f7cb8f5ec4bc610e">bonus::puissance_flamme</a>);
<a name="l01790"></a>01790         }
<a name="l01791"></a>01791 
<a name="l01792"></a>01792         <span class="comment">// Déclancheur</span>
<a name="l01793"></a>01793         <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> Declancheur = 0;
<a name="l01794"></a>01794         pos.x = 40;
<a name="l01795"></a>01795         pos.y += 35;
<a name="l01796"></a>01796         <span class="keywordflow">if</span>( Declancheur != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efaf580f32a0c46beb866416ad197e19757">bonus::declancheur</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l01797"></a>01797             sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efaf580f32a0c46beb866416ad197e19757">bonus::declancheur</a>) );
<a name="l01798"></a>01798             sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l01799"></a>01799 
<a name="l01800"></a>01800             <span class="comment">// Blit background</span>
<a name="l01801"></a>01801             imgRect.x = pos.x;
<a name="l01802"></a>01802             imgRect.y = pos.y;
<a name="l01803"></a>01803             SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l01804"></a>01804 
<a name="l01805"></a>01805             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda7eae80fc248c6773b41a32ec1a2e487c">gain_declancheur</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01806"></a>01806             pos.x += 40;
<a name="l01807"></a>01807             pos.y -= 6;
<a name="l01808"></a>01808             SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l01809"></a>01809             pos.y += 6;
<a name="l01810"></a>01810 
<a name="l01811"></a>01811             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l01812"></a>01812             SDL_FreeSurface(sfr_tmp);
<a name="l01813"></a>01813             Declancheur = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efaf580f32a0c46beb866416ad197e19757">bonus::declancheur</a>);
<a name="l01814"></a>01814         }
<a name="l01815"></a>01815 
<a name="l01816"></a>01816         <span class="comment">// Vie</span>
<a name="l01817"></a>01817         <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nbVie = 0;
<a name="l01818"></a>01818         pos.x = 40;
<a name="l01819"></a>01819         pos.y += 35;
<a name="l01820"></a>01820         <span class="keywordflow">if</span>( nbVie != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa1246f4ca553bef6a133a81553cbb9b41">bonus::vie</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l01821"></a>01821             sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa1246f4ca553bef6a133a81553cbb9b41">bonus::vie</a>) );
<a name="l01822"></a>01822             sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l01823"></a>01823 
<a name="l01824"></a>01824             <span class="comment">// Blit background</span>
<a name="l01825"></a>01825             imgRect.x = pos.x;
<a name="l01826"></a>01826             imgRect.y = pos.y;
<a name="l01827"></a>01827             SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l01828"></a>01828 
<a name="l01829"></a>01829             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab46dbadb7c56865c12b644152e3ff2e6">gain_vie</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01830"></a>01830             pos.x += 40;
<a name="l01831"></a>01831             pos.y -= 6;
<a name="l01832"></a>01832             SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l01833"></a>01833             pos.y += 6;
<a name="l01834"></a>01834 
<a name="l01835"></a>01835             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l01836"></a>01836             SDL_FreeSurface(sfr_tmp);
<a name="l01837"></a>01837             nbVie = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa1246f4ca553bef6a133a81553cbb9b41">bonus::vie</a>);
<a name="l01838"></a>01838         }
<a name="l01839"></a>01839 
<a name="l01840"></a>01840         <span class="comment">// Pousse</span>
<a name="l01841"></a>01841         <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> PousseBombe = 0;
<a name="l01842"></a>01842         pos.x = 40;
<a name="l01843"></a>01843         pos.y += 35;
<a name="l01844"></a>01844         <span class="keywordflow">if</span>( PousseBombe != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efae2dd393722ba461c826db4bc25f044eb">bonus::pousse_bombe</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l01845"></a>01845             sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efae2dd393722ba461c826db4bc25f044eb">bonus::pousse_bombe</a>) );
<a name="l01846"></a>01846             sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l01847"></a>01847 
<a name="l01848"></a>01848             <span class="comment">// Blit background</span>
<a name="l01849"></a>01849             imgRect.x = pos.x;
<a name="l01850"></a>01850             imgRect.y = pos.y;
<a name="l01851"></a>01851             SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l01852"></a>01852 
<a name="l01853"></a>01853             SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab8ed73786ad735d0aff289ca223f38ba">gain_pousse_bombe</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01854"></a>01854             pos.x += 40;
<a name="l01855"></a>01855             pos.y -= 6;
<a name="l01856"></a>01856             SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l01857"></a>01857             pos.y += 6;
<a name="l01858"></a>01858 
<a name="l01859"></a>01859             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l01860"></a>01860             SDL_FreeSurface(sfr_tmp);
<a name="l01861"></a>01861             PousseBombe = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(0)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efae2dd393722ba461c826db4bc25f044eb">bonus::pousse_bombe</a>);
<a name="l01862"></a>01862         }
<a name="l01863"></a>01863     }
<a name="l01864"></a>01864 
<a name="l01865"></a>01865     <span class="comment">/***************************************************************************</span>
<a name="l01866"></a>01866 <span class="comment">    * Affichage du joueur 4</span>
<a name="l01867"></a>01867 <span class="comment">    */</span>
<a name="l01868"></a>01868     <span class="keyword">static</span> <span class="keywordtype">bool</span> cleanPlayer4=0;
<a name="l01869"></a>01869     <span class="keywordflow">if</span>( p-&gt;<a class="code" href="classpartie.html#ac5fd40da2e74478b0dee7fb7fe505929" title="Retourne le nombre de joueur.">nbJoueurs</a>() == 4 &amp;&amp; (p-&gt;<a class="code" href="classpartie.html#a54be3942d34eaa369cfe6a8430da639d" title="Renvoie le type de connection: Host, Local, None ( pas de connection ).">connection</a>() == <a class="code" href="classpartie.html#ab404c2e853ee2e820a91f97bbb826207ac19eeeee526d4057247f29b9530ec8fa" title="Pas de connection.">partie::CNX_None</a> || ( p-&gt;<a class="code" href="classpartie.html#a54be3942d34eaa369cfe6a8430da639d" title="Renvoie le type de connection: Host, Local, None ( pas de connection ).">connection</a>() != <a class="code" href="classpartie.html#ab404c2e853ee2e820a91f97bbb826207ac19eeeee526d4057247f29b9530ec8fa" title="Pas de connection.">partie::CNX_None</a> &amp;&amp; (p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#a73febc8006d08e4414cf6463a3b8ad9d" title="Renvoie l&amp;#39;état du personnage vis à vis du reseau. (Local ou non).">isLocal</a>() || ( !p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#a73febc8006d08e4414cf6463a3b8ad9d" title="Renvoie l&amp;#39;état du personnage vis à vis du reseau. (Local ou non).">isLocal</a>() &amp;&amp; p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#a33ea05f68d9ddf2cf242b9b19c8b1ceb" title="Renvoie le socket utilisé (Par defaut: INVALID_SOCKET).">socket</a>() != INVALID_SOCKET )))) ){
<a name="l01870"></a>01870         refresh = p-&gt;<a class="code" href="classpartie.html#a957dd9c9405332830ca5312fe600b139" title="Indique si les données graphiques du joueur ont besoin d&amp;#39;un raffraichissement graphique...">playerNeedRefresh</a>(3);
<a name="l01871"></a>01871         <span class="comment">// Affichage du nom du joueur 4</span>
<a name="l01872"></a>01872         pos.x = 10;
<a name="l01873"></a>01873         pos.y = l_map-&gt;<a class="code" href="classmap.html#abcb25776d119cd3f2864c67ec05a6a4a" title="Renvoie la taille Y de la map.">Y</a>()*32-(25+35*4);
<a name="l01874"></a>01874         <span class="keywordflow">if</span>( refresh ){
<a name="l01875"></a>01875             <span class="comment">// Affichage du nom du joueur 4</span>
<a name="l01876"></a>01876             sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#a815c8505a10a43da797e0424a0192f92" title="Renvoie le nom du personnage.">nom</a>()-&gt;c_str(), couleurNoire, 55);
<a name="l01877"></a>01877             <span class="comment">// On remplis le fond</span>
<a name="l01878"></a>01878             imgRect.x = pos.x;
<a name="l01879"></a>01879             imgRect.y = pos.y;
<a name="l01880"></a>01880             imgRect.w = xpos-pos.x;
<a name="l01881"></a>01881             imgRect.h = sfr_tmp-&gt;h;
<a name="l01882"></a>01882             SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l01883"></a>01883             <span class="keywordflow">if</span>( (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)pos.x+(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)sfr_tmp-&gt;w &gt; xpos ){
<a name="l01884"></a>01884                 imgRect.x = 0;
<a name="l01885"></a>01885                 imgRect.y = 0;
<a name="l01886"></a>01886                 SDL_BlitSurface(sfr_tmp, &amp;imgRect, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l01887"></a>01887             }<span class="keywordflow">else</span>{
<a name="l01888"></a>01888                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l01889"></a>01889             }
<a name="l01890"></a>01890             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x, pos.y, imgRect.w, imgRect.h);
<a name="l01891"></a>01891             SDL_FreeSurface(sfr_tmp);
<a name="l01892"></a>01892         }
<a name="l01893"></a>01893         pos.y += 25;<span class="comment">// Espacement</span>
<a name="l01894"></a>01894         <span class="keywordflow">if</span>( p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>() ){
<a name="l01895"></a>01895             <span class="comment">// Background</span>
<a name="l01896"></a>01896             imgRect.w = xpos-40;<span class="comment">// 40 (espacement bonus)</span>
<a name="l01897"></a>01897             imgRect.h = 32;
<a name="l01898"></a>01898 
<a name="l01899"></a>01899             <span class="comment">// Bombe</span>
<a name="l01900"></a>01900             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nbBombe = 0;
<a name="l01901"></a>01901             pos.x = 40;
<a name="l01902"></a>01902             pos.y += 35;
<a name="l01903"></a>01903             <span class="keywordflow">if</span>( nbBombe != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa5377d867e4dcd5d8e6656217d02fdc9f">bonus::bombe</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l01904"></a>01904                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa5377d867e4dcd5d8e6656217d02fdc9f">bonus::bombe</a>) );
<a name="l01905"></a>01905                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l01906"></a>01906 
<a name="l01907"></a>01907                 <span class="comment">// Blit background</span>
<a name="l01908"></a>01908                 imgRect.x = pos.x;
<a name="l01909"></a>01909                 imgRect.y = pos.y;
<a name="l01910"></a>01910                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l01911"></a>01911 
<a name="l01912"></a>01912                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdaad1a81a961665d49f2a289876927350b">gain_bombe</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01913"></a>01913                 pos.x += 40;
<a name="l01914"></a>01914                 pos.y -= 6;
<a name="l01915"></a>01915                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l01916"></a>01916                 pos.y += 6;
<a name="l01917"></a>01917 
<a name="l01918"></a>01918                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l01919"></a>01919                 SDL_FreeSurface(sfr_tmp);
<a name="l01920"></a>01920                 nbBombe = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa5377d867e4dcd5d8e6656217d02fdc9f">bonus::bombe</a>);
<a name="l01921"></a>01921             }
<a name="l01922"></a>01922 
<a name="l01923"></a>01923             <span class="comment">// Puissance de flamme</span>
<a name="l01924"></a>01924             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> PuissFlamme = 0;
<a name="l01925"></a>01925             pos.x = 40;
<a name="l01926"></a>01926             pos.y += 35;
<a name="l01927"></a>01927             <span class="keywordflow">if</span>( PuissFlamme != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa3758eac4c25825d7f7cb8f5ec4bc610e">bonus::puissance_flamme</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l01928"></a>01928                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa3758eac4c25825d7f7cb8f5ec4bc610e">bonus::puissance_flamme</a>) );
<a name="l01929"></a>01929                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l01930"></a>01930 
<a name="l01931"></a>01931                 <span class="comment">// Blit background</span>
<a name="l01932"></a>01932                 imgRect.x = pos.x;
<a name="l01933"></a>01933                 imgRect.y = pos.y;
<a name="l01934"></a>01934                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l01935"></a>01935 
<a name="l01936"></a>01936                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdae46b56cdd01f920c6406fa12018dd05d">gain_puissance_flamme</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01937"></a>01937                 pos.x += 40;
<a name="l01938"></a>01938                 pos.y -= 6;
<a name="l01939"></a>01939                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l01940"></a>01940                 pos.y += 6;
<a name="l01941"></a>01941 
<a name="l01942"></a>01942                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l01943"></a>01943                 SDL_FreeSurface(sfr_tmp);
<a name="l01944"></a>01944                 PuissFlamme = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa3758eac4c25825d7f7cb8f5ec4bc610e">bonus::puissance_flamme</a>);
<a name="l01945"></a>01945             }
<a name="l01946"></a>01946 
<a name="l01947"></a>01947             <span class="comment">// Déclancheur</span>
<a name="l01948"></a>01948             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> Declancheur = 0;
<a name="l01949"></a>01949             pos.x = 40;
<a name="l01950"></a>01950             pos.y += 35;
<a name="l01951"></a>01951             <span class="keywordflow">if</span>( Declancheur != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efaf580f32a0c46beb866416ad197e19757">bonus::declancheur</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l01952"></a>01952                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efaf580f32a0c46beb866416ad197e19757">bonus::declancheur</a>) );
<a name="l01953"></a>01953                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l01954"></a>01954 
<a name="l01955"></a>01955                 <span class="comment">// Blit background</span>
<a name="l01956"></a>01956                 imgRect.x = pos.x;
<a name="l01957"></a>01957                 imgRect.y = pos.y;
<a name="l01958"></a>01958                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l01959"></a>01959 
<a name="l01960"></a>01960                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda7eae80fc248c6773b41a32ec1a2e487c">gain_declancheur</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01961"></a>01961                 pos.x += 40;
<a name="l01962"></a>01962                 pos.y -= 6;
<a name="l01963"></a>01963                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l01964"></a>01964                 pos.y += 6;
<a name="l01965"></a>01965 
<a name="l01966"></a>01966                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l01967"></a>01967                 SDL_FreeSurface(sfr_tmp);
<a name="l01968"></a>01968                 Declancheur = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efaf580f32a0c46beb866416ad197e19757">bonus::declancheur</a>);
<a name="l01969"></a>01969             }
<a name="l01970"></a>01970 
<a name="l01971"></a>01971             <span class="comment">// Vie</span>
<a name="l01972"></a>01972             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nbVie = 0;
<a name="l01973"></a>01973             pos.x = 40;
<a name="l01974"></a>01974             pos.y += 35;
<a name="l01975"></a>01975             <span class="keywordflow">if</span>( nbVie != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa1246f4ca553bef6a133a81553cbb9b41">bonus::vie</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l01976"></a>01976                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa1246f4ca553bef6a133a81553cbb9b41">bonus::vie</a>) );
<a name="l01977"></a>01977                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l01978"></a>01978 
<a name="l01979"></a>01979                 <span class="comment">// Blit background</span>
<a name="l01980"></a>01980                 imgRect.x = pos.x;
<a name="l01981"></a>01981                 imgRect.y = pos.y;
<a name="l01982"></a>01982                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l01983"></a>01983 
<a name="l01984"></a>01984                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab46dbadb7c56865c12b644152e3ff2e6">gain_vie</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l01985"></a>01985                 pos.x += 40;
<a name="l01986"></a>01986                 pos.y -= 6;
<a name="l01987"></a>01987                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l01988"></a>01988                 pos.y += 6;
<a name="l01989"></a>01989 
<a name="l01990"></a>01990                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l01991"></a>01991                 SDL_FreeSurface(sfr_tmp);
<a name="l01992"></a>01992                 nbVie = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa1246f4ca553bef6a133a81553cbb9b41">bonus::vie</a>);
<a name="l01993"></a>01993             }
<a name="l01994"></a>01994 
<a name="l01995"></a>01995             <span class="comment">// Pousse Bombe</span>
<a name="l01996"></a>01996             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> PousseBombe = 0;
<a name="l01997"></a>01997             pos.x = 40;
<a name="l01998"></a>01998             pos.y += 35;
<a name="l01999"></a>01999             <span class="keywordflow">if</span>( PousseBombe != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efae2dd393722ba461c826db4bc25f044eb">bonus::pousse_bombe</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l02000"></a>02000                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efae2dd393722ba461c826db4bc25f044eb">bonus::pousse_bombe</a>) );
<a name="l02001"></a>02001                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l02002"></a>02002 
<a name="l02003"></a>02003                 <span class="comment">// Blit background</span>
<a name="l02004"></a>02004                 imgRect.x = pos.x;
<a name="l02005"></a>02005                 imgRect.y = pos.y;
<a name="l02006"></a>02006                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02007"></a>02007 
<a name="l02008"></a>02008                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab8ed73786ad735d0aff289ca223f38ba">gain_pousse_bombe</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l02009"></a>02009                 pos.x += 40;
<a name="l02010"></a>02010                 pos.y -= 6;
<a name="l02011"></a>02011                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02012"></a>02012                 pos.y += 6;
<a name="l02013"></a>02013 
<a name="l02014"></a>02014                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l02015"></a>02015                 SDL_FreeSurface(sfr_tmp);
<a name="l02016"></a>02016                 PousseBombe = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(3)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efae2dd393722ba461c826db4bc25f044eb">bonus::pousse_bombe</a>);
<a name="l02017"></a>02017             }
<a name="l02018"></a>02018         }
<a name="l02019"></a>02019         cleanPlayer4 = 1;
<a name="l02020"></a>02020     }<span class="keywordflow">else</span>{
<a name="l02021"></a>02021         <span class="keywordflow">if</span>( cleanPlayer4 ){
<a name="l02022"></a>02022             <span class="comment">// Blit background</span>
<a name="l02023"></a>02023             imgRect.x = 10;
<a name="l02024"></a>02024             imgRect.y = l_map-&gt;<a class="code" href="classmap.html#abcb25776d119cd3f2864c67ec05a6a4a" title="Renvoie la taille Y de la map.">Y</a>()*32-(25+35*4);
<a name="l02025"></a>02025             imgRect.w = xpos;
<a name="l02026"></a>02026             imgRect.h = 25+35*6;
<a name="l02027"></a>02027             SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02028"></a>02028             pos.x = 10;
<a name="l02029"></a>02029             pos.y = l_map-&gt;<a class="code" href="classmap.html#abcb25776d119cd3f2864c67ec05a6a4a" title="Renvoie la taille Y de la map.">Y</a>()*32;
<a name="l02030"></a>02030             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x, pos.y, imgRect.w, imgRect.h);
<a name="l02031"></a>02031             cleanPlayer4 = 0;
<a name="l02032"></a>02032         }
<a name="l02033"></a>02033     }
<a name="l02034"></a>02034 
<a name="l02035"></a>02035     <span class="comment">/***************************************************************************</span>
<a name="l02036"></a>02036 <span class="comment">    * Affichage du joueur 2</span>
<a name="l02037"></a>02037 <span class="comment">    */</span>
<a name="l02038"></a>02038     <span class="keyword">static</span> <span class="keywordtype">bool</span> cleanPlayer2=0;
<a name="l02039"></a>02039     <span class="keywordflow">if</span>( p-&gt;<a class="code" href="classpartie.html#ac5fd40da2e74478b0dee7fb7fe505929" title="Retourne le nombre de joueur.">nbJoueurs</a>() &gt; 1 &amp;&amp; (p-&gt;<a class="code" href="classpartie.html#a54be3942d34eaa369cfe6a8430da639d" title="Renvoie le type de connection: Host, Local, None ( pas de connection ).">connection</a>() == <a class="code" href="classpartie.html#ab404c2e853ee2e820a91f97bbb826207ac19eeeee526d4057247f29b9530ec8fa" title="Pas de connection.">partie::CNX_None</a> || ( p-&gt;<a class="code" href="classpartie.html#a54be3942d34eaa369cfe6a8430da639d" title="Renvoie le type de connection: Host, Local, None ( pas de connection ).">connection</a>() != <a class="code" href="classpartie.html#ab404c2e853ee2e820a91f97bbb826207ac19eeeee526d4057247f29b9530ec8fa" title="Pas de connection.">partie::CNX_None</a> &amp;&amp; (p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#a73febc8006d08e4414cf6463a3b8ad9d" title="Renvoie l&amp;#39;état du personnage vis à vis du reseau. (Local ou non).">isLocal</a>() || ( !p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#a73febc8006d08e4414cf6463a3b8ad9d" title="Renvoie l&amp;#39;état du personnage vis à vis du reseau. (Local ou non).">isLocal</a>() &amp;&amp; p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#a33ea05f68d9ddf2cf242b9b19c8b1ceb" title="Renvoie le socket utilisé (Par defaut: INVALID_SOCKET).">socket</a>() != INVALID_SOCKET )))) ){
<a name="l02040"></a>02040         refresh = p-&gt;<a class="code" href="classpartie.html#a957dd9c9405332830ca5312fe600b139" title="Indique si les données graphiques du joueur ont besoin d&amp;#39;un raffraichissement graphique...">playerNeedRefresh</a>(1);
<a name="l02041"></a>02041         <span class="comment">// Affichage du nom du joueur 2</span>
<a name="l02042"></a>02042         pos.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+10;
<a name="l02043"></a>02043         pos.y = l_map-&gt;<a class="code" href="classmap.html#abcb25776d119cd3f2864c67ec05a6a4a" title="Renvoie la taille Y de la map.">Y</a>()*32-(25+35*4);
<a name="l02044"></a>02044 
<a name="l02045"></a>02045         <span class="keywordflow">if</span>( refresh ){
<a name="l02046"></a>02046             <span class="comment">// Affichage du nom du joueur 2</span>
<a name="l02047"></a>02047             sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#a815c8505a10a43da797e0424a0192f92" title="Renvoie le nom du personnage.">nom</a>()-&gt;c_str(), couleurNoire, 55);
<a name="l02048"></a>02048 
<a name="l02049"></a>02049             <span class="comment">// On remplis le fond</span>
<a name="l02050"></a>02050             imgRect.x = pos.x;
<a name="l02051"></a>02051             imgRect.y = pos.y;
<a name="l02052"></a>02052             imgRect.w = xpos-10;
<a name="l02053"></a>02053             imgRect.h = sfr_tmp-&gt;h;
<a name="l02054"></a>02054             SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02055"></a>02055             <span class="keywordflow">if</span>( pos.x+sfr_tmp-&gt;w &gt; <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w ){
<a name="l02056"></a>02056                 imgRect.x = 0;
<a name="l02057"></a>02057                 imgRect.y = 0;
<a name="l02058"></a>02058                 SDL_BlitSurface(sfr_tmp, &amp;imgRect, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02059"></a>02059             }<span class="keywordflow">else</span>{
<a name="l02060"></a>02060                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02061"></a>02061             }
<a name="l02062"></a>02062 
<a name="l02063"></a>02063             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x, pos.y, imgRect.w, imgRect.h);
<a name="l02064"></a>02064             SDL_FreeSurface(sfr_tmp);
<a name="l02065"></a>02065         }
<a name="l02066"></a>02066         pos.y += 25;<span class="comment">// Espacement</span>
<a name="l02067"></a>02067         <span class="keywordflow">if</span>( p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>() ){
<a name="l02068"></a>02068             <span class="comment">// Background</span>
<a name="l02069"></a>02069             imgRect.w = xpos-40;<span class="comment">// 40 (espacement bonus)</span>
<a name="l02070"></a>02070             imgRect.h = 32;
<a name="l02071"></a>02071 
<a name="l02072"></a>02072             <span class="comment">// Bombe</span>
<a name="l02073"></a>02073             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nbBombe = 0;
<a name="l02074"></a>02074             pos.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+40;
<a name="l02075"></a>02075             pos.y += 35;
<a name="l02076"></a>02076             <span class="keywordflow">if</span>( nbBombe != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa5377d867e4dcd5d8e6656217d02fdc9f">bonus::bombe</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l02077"></a>02077                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa5377d867e4dcd5d8e6656217d02fdc9f">bonus::bombe</a>) );
<a name="l02078"></a>02078                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l02079"></a>02079 
<a name="l02080"></a>02080                 <span class="comment">// Blit background</span>
<a name="l02081"></a>02081                 imgRect.x = pos.x;
<a name="l02082"></a>02082                 imgRect.y = pos.y;
<a name="l02083"></a>02083                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02084"></a>02084 
<a name="l02085"></a>02085                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdaad1a81a961665d49f2a289876927350b">gain_bombe</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l02086"></a>02086                 pos.x += 40;
<a name="l02087"></a>02087                 pos.y -= 6;
<a name="l02088"></a>02088                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02089"></a>02089                 pos.y += 6;
<a name="l02090"></a>02090 
<a name="l02091"></a>02091                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l02092"></a>02092                 SDL_FreeSurface(sfr_tmp);
<a name="l02093"></a>02093                 nbBombe = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa5377d867e4dcd5d8e6656217d02fdc9f">bonus::bombe</a>);
<a name="l02094"></a>02094             }
<a name="l02095"></a>02095 
<a name="l02096"></a>02096             <span class="comment">// Puissance de flamme</span>
<a name="l02097"></a>02097             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> PuissFlamme = 0;
<a name="l02098"></a>02098             pos.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+40;
<a name="l02099"></a>02099             pos.y += 35;
<a name="l02100"></a>02100             <span class="keywordflow">if</span>( PuissFlamme != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa3758eac4c25825d7f7cb8f5ec4bc610e">bonus::puissance_flamme</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l02101"></a>02101                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa3758eac4c25825d7f7cb8f5ec4bc610e">bonus::puissance_flamme</a>) );
<a name="l02102"></a>02102                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l02103"></a>02103 
<a name="l02104"></a>02104                 <span class="comment">// Blit background</span>
<a name="l02105"></a>02105                 imgRect.x = pos.x;
<a name="l02106"></a>02106                 imgRect.y = pos.y;
<a name="l02107"></a>02107                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02108"></a>02108 
<a name="l02109"></a>02109                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdae46b56cdd01f920c6406fa12018dd05d">gain_puissance_flamme</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l02110"></a>02110                 pos.x += 40;
<a name="l02111"></a>02111                 pos.y -= 6;
<a name="l02112"></a>02112                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02113"></a>02113                 pos.y += 6;
<a name="l02114"></a>02114 
<a name="l02115"></a>02115                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l02116"></a>02116                 SDL_FreeSurface(sfr_tmp);
<a name="l02117"></a>02117                 PuissFlamme = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa3758eac4c25825d7f7cb8f5ec4bc610e">bonus::puissance_flamme</a>);
<a name="l02118"></a>02118             }
<a name="l02119"></a>02119 
<a name="l02120"></a>02120             <span class="comment">// Déclancheur</span>
<a name="l02121"></a>02121             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> Declancheur = 255;
<a name="l02122"></a>02122             pos.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+40;
<a name="l02123"></a>02123             pos.y += 35;
<a name="l02124"></a>02124             <span class="keywordflow">if</span>( Declancheur != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efaf580f32a0c46beb866416ad197e19757">bonus::declancheur</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l02125"></a>02125                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efaf580f32a0c46beb866416ad197e19757">bonus::declancheur</a>) );
<a name="l02126"></a>02126                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l02127"></a>02127 
<a name="l02128"></a>02128                 <span class="comment">// Blit background</span>
<a name="l02129"></a>02129                 imgRect.x = pos.x;
<a name="l02130"></a>02130                 imgRect.y = pos.y;
<a name="l02131"></a>02131                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02132"></a>02132 
<a name="l02133"></a>02133                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda7eae80fc248c6773b41a32ec1a2e487c">gain_declancheur</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l02134"></a>02134                 pos.x += 40;
<a name="l02135"></a>02135                 pos.y -= 6;
<a name="l02136"></a>02136                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02137"></a>02137                 pos.y += 6;
<a name="l02138"></a>02138 
<a name="l02139"></a>02139                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l02140"></a>02140                 SDL_FreeSurface(sfr_tmp);
<a name="l02141"></a>02141                 Declancheur = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efaf580f32a0c46beb866416ad197e19757">bonus::declancheur</a>);
<a name="l02142"></a>02142             }
<a name="l02143"></a>02143 
<a name="l02144"></a>02144             <span class="comment">// Vie</span>
<a name="l02145"></a>02145             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nbVie = 0;
<a name="l02146"></a>02146             pos.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+40;
<a name="l02147"></a>02147             pos.y += 35;
<a name="l02148"></a>02148             <span class="keywordflow">if</span>( nbVie != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa1246f4ca553bef6a133a81553cbb9b41">bonus::vie</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l02149"></a>02149                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa1246f4ca553bef6a133a81553cbb9b41">bonus::vie</a>) );
<a name="l02150"></a>02150                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l02151"></a>02151 
<a name="l02152"></a>02152                 <span class="comment">// Blit background</span>
<a name="l02153"></a>02153                 imgRect.x = pos.x;
<a name="l02154"></a>02154                 imgRect.y = pos.y;
<a name="l02155"></a>02155                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02156"></a>02156 
<a name="l02157"></a>02157                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab46dbadb7c56865c12b644152e3ff2e6">gain_vie</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l02158"></a>02158                 pos.x += 40;
<a name="l02159"></a>02159                 pos.y -= 6;
<a name="l02160"></a>02160                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02161"></a>02161                 pos.y += 6;
<a name="l02162"></a>02162 
<a name="l02163"></a>02163                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l02164"></a>02164                 SDL_FreeSurface(sfr_tmp);
<a name="l02165"></a>02165                 nbVie = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa1246f4ca553bef6a133a81553cbb9b41">bonus::vie</a>);
<a name="l02166"></a>02166             }
<a name="l02167"></a>02167 
<a name="l02168"></a>02168             <span class="comment">// Pousse Bombe</span>
<a name="l02169"></a>02169             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> PousseBombe = 0;
<a name="l02170"></a>02170             pos.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+40;
<a name="l02171"></a>02171             pos.y += 35;
<a name="l02172"></a>02172             <span class="keywordflow">if</span>( PousseBombe != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efae2dd393722ba461c826db4bc25f044eb">bonus::pousse_bombe</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l02173"></a>02173                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efae2dd393722ba461c826db4bc25f044eb">bonus::pousse_bombe</a>) );
<a name="l02174"></a>02174                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l02175"></a>02175 
<a name="l02176"></a>02176                 <span class="comment">// Blit background</span>
<a name="l02177"></a>02177                 imgRect.x = pos.x;
<a name="l02178"></a>02178                 imgRect.y = pos.y;
<a name="l02179"></a>02179                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02180"></a>02180 
<a name="l02181"></a>02181                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab8ed73786ad735d0aff289ca223f38ba">gain_pousse_bombe</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l02182"></a>02182                 pos.x += 40;
<a name="l02183"></a>02183                 pos.y -= 6;
<a name="l02184"></a>02184                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02185"></a>02185                 pos.y += 6;
<a name="l02186"></a>02186 
<a name="l02187"></a>02187                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l02188"></a>02188                 SDL_FreeSurface(sfr_tmp);
<a name="l02189"></a>02189                 PousseBombe = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(1)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efae2dd393722ba461c826db4bc25f044eb">bonus::pousse_bombe</a>);
<a name="l02190"></a>02190             }
<a name="l02191"></a>02191         }
<a name="l02192"></a>02192         cleanPlayer2 = 1;
<a name="l02193"></a>02193     }<span class="keywordflow">else</span>{
<a name="l02194"></a>02194         <span class="keywordflow">if</span>( cleanPlayer2 ){
<a name="l02195"></a>02195             <span class="comment">// Blit background</span>
<a name="l02196"></a>02196             imgRect.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+10;
<a name="l02197"></a>02197             imgRect.y = l_map-&gt;<a class="code" href="classmap.html#abcb25776d119cd3f2864c67ec05a6a4a" title="Renvoie la taille Y de la map.">Y</a>()*32-(25+35*4);
<a name="l02198"></a>02198             imgRect.w = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-(l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos);
<a name="l02199"></a>02199             imgRect.h = 25+35*6;
<a name="l02200"></a>02200             SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02201"></a>02201             pos.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+10;
<a name="l02202"></a>02202             pos.y = l_map-&gt;<a class="code" href="classmap.html#abcb25776d119cd3f2864c67ec05a6a4a" title="Renvoie la taille Y de la map.">Y</a>()*32-(25+35*4);
<a name="l02203"></a>02203             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x, pos.y, imgRect.w, imgRect.h);
<a name="l02204"></a>02204             cleanPlayer2 = 0;
<a name="l02205"></a>02205         }
<a name="l02206"></a>02206     }
<a name="l02207"></a>02207 
<a name="l02208"></a>02208     <span class="comment">/***************************************************************************</span>
<a name="l02209"></a>02209 <span class="comment">    * Affichage du joueur 3</span>
<a name="l02210"></a>02210 <span class="comment">    */</span>
<a name="l02211"></a>02211     <span class="keyword">static</span> <span class="keywordtype">bool</span> cleanPlayer3=0;
<a name="l02212"></a>02212     <span class="keywordflow">if</span>( p-&gt;<a class="code" href="classpartie.html#ac5fd40da2e74478b0dee7fb7fe505929" title="Retourne le nombre de joueur.">nbJoueurs</a>() &gt; 2 &amp;&amp; (p-&gt;<a class="code" href="classpartie.html#a54be3942d34eaa369cfe6a8430da639d" title="Renvoie le type de connection: Host, Local, None ( pas de connection ).">connection</a>() == <a class="code" href="classpartie.html#ab404c2e853ee2e820a91f97bbb826207ac19eeeee526d4057247f29b9530ec8fa" title="Pas de connection.">partie::CNX_None</a> || ( p-&gt;<a class="code" href="classpartie.html#a54be3942d34eaa369cfe6a8430da639d" title="Renvoie le type de connection: Host, Local, None ( pas de connection ).">connection</a>() != <a class="code" href="classpartie.html#ab404c2e853ee2e820a91f97bbb826207ac19eeeee526d4057247f29b9530ec8fa" title="Pas de connection.">partie::CNX_None</a> &amp;&amp; (p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#a73febc8006d08e4414cf6463a3b8ad9d" title="Renvoie l&amp;#39;état du personnage vis à vis du reseau. (Local ou non).">isLocal</a>() || ( !p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#a73febc8006d08e4414cf6463a3b8ad9d" title="Renvoie l&amp;#39;état du personnage vis à vis du reseau. (Local ou non).">isLocal</a>() &amp;&amp; p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#a33ea05f68d9ddf2cf242b9b19c8b1ceb" title="Renvoie le socket utilisé (Par defaut: INVALID_SOCKET).">socket</a>() != INVALID_SOCKET )))) ){
<a name="l02213"></a>02213         refresh = p-&gt;<a class="code" href="classpartie.html#a957dd9c9405332830ca5312fe600b139" title="Indique si les données graphiques du joueur ont besoin d&amp;#39;un raffraichissement graphique...">playerNeedRefresh</a>(2);
<a name="l02214"></a>02214         <span class="comment">// Affichage du nom du joueur 3</span>
<a name="l02215"></a>02215         pos.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+10;
<a name="l02216"></a>02216         pos.y = ypos;
<a name="l02217"></a>02217         <span class="keywordflow">if</span>( refresh ){
<a name="l02218"></a>02218             <span class="comment">// Affichage du nom du joueur 3</span>
<a name="l02219"></a>02219             sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#a815c8505a10a43da797e0424a0192f92" title="Renvoie le nom du personnage.">nom</a>()-&gt;c_str(), couleurNoire, 55);
<a name="l02220"></a>02220 
<a name="l02221"></a>02221             <span class="comment">// On remplis le fond</span>
<a name="l02222"></a>02222             imgRect.x = pos.x;
<a name="l02223"></a>02223             imgRect.y = pos.y;
<a name="l02224"></a>02224             imgRect.w = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-(xpos+l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32);
<a name="l02225"></a>02225             imgRect.h = sfr_tmp-&gt;h;
<a name="l02226"></a>02226             SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02227"></a>02227             <span class="keywordflow">if</span>( (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)pos.x+(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)sfr_tmp-&gt;w &gt; imgRect.w ){
<a name="l02228"></a>02228                 imgRect.x = 0;
<a name="l02229"></a>02229                 imgRect.y = 0;
<a name="l02230"></a>02230                 SDL_BlitSurface(sfr_tmp, &amp;imgRect, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02231"></a>02231             }<span class="keywordflow">else</span>{
<a name="l02232"></a>02232                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02233"></a>02233             }
<a name="l02234"></a>02234             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x, pos.y, imgRect.w, imgRect.h);
<a name="l02235"></a>02235             SDL_FreeSurface(sfr_tmp);
<a name="l02236"></a>02236         }
<a name="l02237"></a>02237         pos.y += 25;<span class="comment">// Espacement</span>
<a name="l02238"></a>02238         <span class="keywordflow">if</span>( p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>() ){
<a name="l02239"></a>02239             <span class="comment">// Background</span>
<a name="l02240"></a>02240             imgRect.w = xpos-40;<span class="comment">// 40 (espacement bonus)</span>
<a name="l02241"></a>02241             imgRect.h = 32;
<a name="l02242"></a>02242 
<a name="l02243"></a>02243             <span class="comment">// Bombe</span>
<a name="l02244"></a>02244             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nbBombe = 0;
<a name="l02245"></a>02245             pos.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+40;
<a name="l02246"></a>02246             pos.y += 35;
<a name="l02247"></a>02247             <span class="keywordflow">if</span>( nbBombe != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa5377d867e4dcd5d8e6656217d02fdc9f">bonus::bombe</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l02248"></a>02248                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa5377d867e4dcd5d8e6656217d02fdc9f">bonus::bombe</a>) );
<a name="l02249"></a>02249                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l02250"></a>02250 
<a name="l02251"></a>02251                 <span class="comment">// Blit background</span>
<a name="l02252"></a>02252                 imgRect.x = pos.x;
<a name="l02253"></a>02253                 imgRect.y = pos.y;
<a name="l02254"></a>02254                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02255"></a>02255 
<a name="l02256"></a>02256                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdaad1a81a961665d49f2a289876927350b">gain_bombe</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l02257"></a>02257                 pos.x += 40;
<a name="l02258"></a>02258                 pos.y -= 6;
<a name="l02259"></a>02259                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02260"></a>02260                 pos.y += 6;
<a name="l02261"></a>02261 
<a name="l02262"></a>02262                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l02263"></a>02263                 SDL_FreeSurface(sfr_tmp);
<a name="l02264"></a>02264                 nbBombe = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa5377d867e4dcd5d8e6656217d02fdc9f">bonus::bombe</a>);
<a name="l02265"></a>02265             }
<a name="l02266"></a>02266 
<a name="l02267"></a>02267             <span class="comment">// Puissance de flamme</span>
<a name="l02268"></a>02268             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> PuissFlamme = 0;
<a name="l02269"></a>02269             pos.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+40;
<a name="l02270"></a>02270             pos.y += 35;
<a name="l02271"></a>02271             <span class="keywordflow">if</span>( PuissFlamme != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa3758eac4c25825d7f7cb8f5ec4bc610e">bonus::puissance_flamme</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l02272"></a>02272                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa3758eac4c25825d7f7cb8f5ec4bc610e">bonus::puissance_flamme</a>) );
<a name="l02273"></a>02273                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l02274"></a>02274 
<a name="l02275"></a>02275                 <span class="comment">// Blit background</span>
<a name="l02276"></a>02276                 imgRect.x = pos.x;
<a name="l02277"></a>02277                 imgRect.y = pos.y;
<a name="l02278"></a>02278                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02279"></a>02279 
<a name="l02280"></a>02280                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdae46b56cdd01f920c6406fa12018dd05d">gain_puissance_flamme</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l02281"></a>02281                 pos.x += 40;
<a name="l02282"></a>02282                 pos.y -= 6;
<a name="l02283"></a>02283                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02284"></a>02284                 pos.y += 6;
<a name="l02285"></a>02285 
<a name="l02286"></a>02286                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l02287"></a>02287                 SDL_FreeSurface(sfr_tmp);
<a name="l02288"></a>02288                 PuissFlamme = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa3758eac4c25825d7f7cb8f5ec4bc610e">bonus::puissance_flamme</a>);
<a name="l02289"></a>02289             }
<a name="l02290"></a>02290 
<a name="l02291"></a>02291             <span class="comment">// Déclancheur</span>
<a name="l02292"></a>02292             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> Declancheur = 0;
<a name="l02293"></a>02293             pos.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+40;
<a name="l02294"></a>02294             pos.y += 35;
<a name="l02295"></a>02295             <span class="keywordflow">if</span>( Declancheur != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efaf580f32a0c46beb866416ad197e19757">bonus::declancheur</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l02296"></a>02296                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efaf580f32a0c46beb866416ad197e19757">bonus::declancheur</a>) );
<a name="l02297"></a>02297                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l02298"></a>02298 
<a name="l02299"></a>02299                 <span class="comment">// Blit background</span>
<a name="l02300"></a>02300                 imgRect.x = pos.x;
<a name="l02301"></a>02301                 imgRect.y = pos.y;
<a name="l02302"></a>02302                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02303"></a>02303 
<a name="l02304"></a>02304                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda7eae80fc248c6773b41a32ec1a2e487c">gain_declancheur</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l02305"></a>02305                 pos.x += 40;
<a name="l02306"></a>02306                 pos.y -= 6;
<a name="l02307"></a>02307                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02308"></a>02308                 pos.y += 6;
<a name="l02309"></a>02309 
<a name="l02310"></a>02310                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l02311"></a>02311                 SDL_FreeSurface(sfr_tmp);
<a name="l02312"></a>02312                 Declancheur = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efaf580f32a0c46beb866416ad197e19757">bonus::declancheur</a>);
<a name="l02313"></a>02313             }
<a name="l02314"></a>02314 
<a name="l02315"></a>02315             <span class="comment">// Vie</span>
<a name="l02316"></a>02316             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> nbVie = 0;
<a name="l02317"></a>02317             pos.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+40;
<a name="l02318"></a>02318             pos.y += 35;
<a name="l02319"></a>02319             <span class="keywordflow">if</span>( nbVie != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa1246f4ca553bef6a133a81553cbb9b41">bonus::vie</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l02320"></a>02320                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa1246f4ca553bef6a133a81553cbb9b41">bonus::vie</a>) );
<a name="l02321"></a>02321                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l02322"></a>02322 
<a name="l02323"></a>02323                 <span class="comment">// Blit background</span>
<a name="l02324"></a>02324                 imgRect.x = pos.x;
<a name="l02325"></a>02325                 imgRect.y = pos.y;
<a name="l02326"></a>02326                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02327"></a>02327 
<a name="l02328"></a>02328                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab46dbadb7c56865c12b644152e3ff2e6">gain_vie</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l02329"></a>02329                 pos.x += 40;
<a name="l02330"></a>02330                 pos.y -= 6;
<a name="l02331"></a>02331                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02332"></a>02332                 pos.y += 6;
<a name="l02333"></a>02333 
<a name="l02334"></a>02334                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l02335"></a>02335                 SDL_FreeSurface(sfr_tmp);
<a name="l02336"></a>02336                 nbVie = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efa1246f4ca553bef6a133a81553cbb9b41">bonus::vie</a>);
<a name="l02337"></a>02337             }
<a name="l02338"></a>02338 
<a name="l02339"></a>02339             <span class="comment">// Pousse Bombe</span>
<a name="l02340"></a>02340             <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> PousseBombe = 0;
<a name="l02341"></a>02341             pos.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+40;
<a name="l02342"></a>02342             pos.y += 35;
<a name="l02343"></a>02343             <span class="keywordflow">if</span>( PousseBombe != p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efae2dd393722ba461c826db4bc25f044eb">bonus::pousse_bombe</a>) || <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> || refresh ){
<a name="l02344"></a>02344                 sprintf(tempsAff, <span class="stringliteral">&quot;%d&quot;</span>, p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efae2dd393722ba461c826db4bc25f044eb">bonus::pousse_bombe</a>) );
<a name="l02345"></a>02345                 sfr_tmp = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>(tempsAff, couleurBlanche, 40);
<a name="l02346"></a>02346 
<a name="l02347"></a>02347                 <span class="comment">// Blit background</span>
<a name="l02348"></a>02348                 imgRect.x = pos.x;
<a name="l02349"></a>02349                 imgRect.y = pos.y;
<a name="l02350"></a>02350                 SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02351"></a>02351 
<a name="l02352"></a>02352                 SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab8ed73786ad735d0aff289ca223f38ba">gain_pousse_bombe</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);
<a name="l02353"></a>02353                 pos.x += 40;
<a name="l02354"></a>02354                 pos.y -= 6;
<a name="l02355"></a>02355                 SDL_BlitSurface(sfr_tmp, NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;pos);<span class="comment">// Blitage du Texte</span>
<a name="l02356"></a>02356                 pos.y += 6;
<a name="l02357"></a>02357 
<a name="l02358"></a>02358                 SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x-40, pos.y, imgRect.w, 32);
<a name="l02359"></a>02359                 SDL_FreeSurface(sfr_tmp);
<a name="l02360"></a>02360                 PousseBombe = p-&gt;<a class="code" href="classpartie.html#aa259db60507f45e2307fa457879be8ee" title="Renvoie un joueur.">joueur</a>(2)-&gt;<a class="code" href="classperso.html#add0aebd55226ce05235400c09a529441" title="Renvoie les armes et bonus du personnage.">armements</a>()-&gt;<a class="code" href="classbonus.html#a24519446ce39620ac958f7702c9ba868" title="Renvoie la quantité MAX que le joueur a rammassé d&amp;#39;un bonus.">quantiteMAX</a>(<a class="code" href="classbonus.html#a0d304c6fa948d0cbc4e787d775bcb7efae2dd393722ba461c826db4bc25f044eb">bonus::pousse_bombe</a>);
<a name="l02361"></a>02361             }
<a name="l02362"></a>02362         }
<a name="l02363"></a>02363         cleanPlayer3 = 1;
<a name="l02364"></a>02364     }<span class="keywordflow">else</span>{
<a name="l02365"></a>02365         <span class="keywordflow">if</span>( cleanPlayer3 ){
<a name="l02366"></a>02366             <span class="comment">// Blit background</span>
<a name="l02367"></a>02367             imgRect.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+10;
<a name="l02368"></a>02368             imgRect.y = ypos+15;
<a name="l02369"></a>02369             imgRect.w = <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;w-(l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos);
<a name="l02370"></a>02370             imgRect.h = 25+35*5;
<a name="l02371"></a>02371             SDL_FillRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, &amp;imgRect, SDL_MapRGB(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>-&gt;format, 131, 202, 255));
<a name="l02372"></a>02372             pos.x = l_map-&gt;<a class="code" href="classmap.html#abc682d96c6d194b75d2e8a6430b5b076" title="Renvoie la taille X de la map.">X</a>()*32+xpos+10;
<a name="l02373"></a>02373             pos.y = ypos+15;
<a name="l02374"></a>02374             SDL_UpdateRect(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos.x, pos.y, imgRect.w, imgRect.h);
<a name="l02375"></a>02375             cleanPlayer3 = 0;
<a name="l02376"></a>02376         }
<a name="l02377"></a>02377     }
<a name="l02378"></a>02378 
<a name="l02379"></a>02379 
<a name="l02380"></a>02380     <span class="keywordflow">if</span>( <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> )
<a name="l02381"></a>02381         <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7c3b329e52e2d9e5369a2f88f9402d40">c_premierAffichage</a> = 0;
<a name="l02382"></a>02382 
<a name="l02383"></a>02383     SDL_Event event;
<a name="l02384"></a>02384     SDL_PollEvent(&amp;event);
<a name="l02385"></a>02385     <span class="keywordflow">if</span>( event.type == SDL_KEYDOWN )
<a name="l02386"></a>02386         <span class="keywordflow">return</span> <a class="code" href="classmoteur__sdl.html#aa5484b45267f4b4cd48e6ad5c120ead5" title="Permet l&amp;#39;utilisation d&amp;#39;un clavier unicode en toute simplicité.">traductionClavier</a>(&amp;event.key);
<a name="l02387"></a>02387     <span class="keywordflow">else</span>
<a name="l02388"></a>02388         <span class="keywordflow">return</span> SDLK_UNKNOWN;
<a name="l02389"></a>02389 }
<a name="l02390"></a>02390 
<a name="l02391"></a>02391 
<a name="l02392"></a>02392 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l02393"></a>02393 <span class="comment">* @fn SDLKey moteur_sdl::traductionClavier( const SDL_KeyboardEvent* touche )</span>
<a name="l02394"></a>02394 <span class="comment">* @brief Permet l&#39;utilisation d&#39;un clavier unicode en toute simplicité</span>
<a name="l02395"></a>02395 <span class="comment">* @param[in] touche L&#39;event: event.key</span>
<a name="l02396"></a>02396 <span class="comment">* @return La touche actuellement appuyé</span>
<a name="l02397"></a>02397 <span class="comment">*</span>
<a name="l02398"></a>02398 <span class="comment">* Exemple:</span>
<a name="l02399"></a>02399 <span class="comment">* @code</span>
<a name="l02400"></a>02400 <span class="comment">* SDL_Event event;</span>
<a name="l02401"></a>02401 <span class="comment">* SDL_WaitEvent(&amp;event);</span>
<a name="l02402"></a>02402 <span class="comment">* switch( traductionClavier(&amp;event.key) )</span>
<a name="l02403"></a>02403 <span class="comment">* {</span>
<a name="l02404"></a>02404 <span class="comment">*   case SDLK_LEFT:</span>
<a name="l02405"></a>02405 <span class="comment">*       break;</span>
<a name="l02406"></a>02406 <span class="comment">*   case SDLK_a:</span>
<a name="l02407"></a>02407 <span class="comment">*       break;</span>
<a name="l02408"></a>02408 <span class="comment">* }</span>
<a name="l02409"></a>02409 <span class="comment">* @endcode</span>
<a name="l02410"></a>02410 <span class="comment">*/</span>
<a name="l02411"></a><a class="code" href="classmoteur__sdl.html#aa5484b45267f4b4cd48e6ad5c120ead5">02411</a> SDLKey <a class="code" href="classmoteur__sdl.html#aa5484b45267f4b4cd48e6ad5c120ead5" title="Permet l&amp;#39;utilisation d&amp;#39;un clavier unicode en toute simplicité.">moteur_sdl::traductionClavier</a>( <span class="keyword">const</span> SDL_KeyboardEvent* touche )
<a name="l02412"></a>02412 {
<a name="l02413"></a>02413     <span class="keywordflow">if</span>( touche-&gt;keysym.unicode != SDLK_UNKNOWN ){
<a name="l02414"></a>02414         <span class="keywordflow">return</span> (SDLKey)touche-&gt;keysym.unicode;
<a name="l02415"></a>02415     }<span class="keywordflow">else</span>{
<a name="l02416"></a>02416         <span class="keywordflow">return</span> (SDLKey)touche-&gt;keysym.sym;
<a name="l02417"></a>02417     }
<a name="l02418"></a>02418 }
<a name="l02419"></a>02419 
<a name="l02420"></a>02420 
<a name="l02421"></a>02421 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l02422"></a>02422 <span class="comment">* @fn SDL_Surface* moteur_sdl::chargerImage( const char image[] ) const</span>
<a name="l02423"></a>02423 <span class="comment">* @brief Permet de charger une image.</span>
<a name="l02424"></a>02424 <span class="comment">* @param[in] image L&#39;image a charger</span>
<a name="l02425"></a>02425 <span class="comment">* @return Une surface (contenant l&#39;image) a libérer avec SDL_FreeSurface()</span>
<a name="l02426"></a>02426 <span class="comment">*/</span>
<a name="l02427"></a><a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c">02427</a> SDL_Surface* <a class="code" href="classmoteur__sdl.html#ad346180895c9d2bdbffc1823cdeda90c" title="Permet de charger une image.">moteur_sdl::chargerImage</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> image[] )<span class="keyword"> const</span>
<a name="l02428"></a>02428 <span class="keyword"></span>{
<a name="l02429"></a>02429     SDL_Surface* tmp = IMG_Load(image);
<a name="l02430"></a>02430     <span class="keywordflow">if</span>( !tmp )
<a name="l02431"></a>02431         stdErrorE(<span class="stringliteral">&quot;Erreur lors du chargement de l&#39;image &lt;%s&gt; : %s&quot;</span>, image, SDL_GetError());
<a name="l02432"></a>02432     <span class="keywordflow">return</span> tmp;
<a name="l02433"></a>02433 }
<a name="l02434"></a>02434 
<a name="l02435"></a>02435 
<a name="l02436"></a>02436 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l02437"></a>02437 <span class="comment">* @fn SDL_Surface* moteur_sdl::ecritTexte( const char texte[] ) const</span>
<a name="l02438"></a>02438 <span class="comment">* @brief Permet d&#39;écrire du texte en &lt;b&gt;NOIR&lt;/b&gt;</span>
<a name="l02439"></a>02439 <span class="comment">* @param[in] texte Le texte a écrire en noir</span>
<a name="l02440"></a>02440 <span class="comment">* @return Une surface (contenant le texte) a libérer avec SDL_FreeSurface()</span>
<a name="l02441"></a>02441 <span class="comment">*</span>
<a name="l02442"></a>02442 <span class="comment">* Cette fonction est un alias de moteur_sdl::ecritTexte( const char texte[], const SDL_Color* couleur )</span>
<a name="l02443"></a>02443 <span class="comment">* @see moteur_sdl::ecritTexte( const char texte[], const SDL_Color* couleur )</span>
<a name="l02444"></a>02444 <span class="comment">*/</span>
<a name="l02445"></a><a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e">02445</a> SDL_Surface* <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">moteur_sdl::ecritTexte</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> texte[] )<span class="keyword"> const</span>
<a name="l02446"></a>02446 <span class="keyword"></span>{
<a name="l02447"></a>02447     <span class="keyword">static</span> SDL_Color couleurNoire = {0,0,0,0<span class="comment">/*unused*/</span>};
<a name="l02448"></a>02448     <span class="keywordflow">return</span> <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>( texte, couleurNoire );
<a name="l02449"></a>02449 }
<a name="l02450"></a>02450 
<a name="l02451"></a>02451 
<a name="l02452"></a>02452 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l02453"></a>02453 <span class="comment">* @fn SDL_Surface* moteur_sdl::ecritTexte( const char texte[], Uint8 r, Uint8 g, Uint8 b ) const</span>
<a name="l02454"></a>02454 <span class="comment">* @brief Permet d&#39;écrire du texte dans une couleur RBG</span>
<a name="l02455"></a>02455 <span class="comment">* @param[in] texte Le texte a écrire</span>
<a name="l02456"></a>02456 <span class="comment">* @param[in] r,g,b Le taux d&#39;utilisation de chaque couleurs ( de 0 à 255 )</span>
<a name="l02457"></a>02457 <span class="comment">* @return Une surface (contenant le texte) a libérer avec SDL_FreeSurface()</span>
<a name="l02458"></a>02458 <span class="comment">*</span>
<a name="l02459"></a>02459 <span class="comment">* Cette fonction est un alias de moteur_sdl::ecritTexte( const char texte[], const SDL_Color* couleur )</span>
<a name="l02460"></a>02460 <span class="comment">* @see moteur_sdl::ecritTexte( const char texte[], const SDL_Color* couleur )</span>
<a name="l02461"></a>02461 <span class="comment">*/</span>
<a name="l02462"></a><a class="code" href="classmoteur__sdl.html#a61b5c796c8da0ea8eb04571f782a2506">02462</a> SDL_Surface* <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">moteur_sdl::ecritTexte</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> texte[], Uint8 r, Uint8 g, Uint8 b )<span class="keyword"> const</span>
<a name="l02463"></a>02463 <span class="keyword"></span>{
<a name="l02464"></a>02464     SDL_Color couleur = {r, g, b, 0<span class="comment">/*unused*/</span>};
<a name="l02465"></a>02465     <span class="keywordflow">return</span> <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>( texte, couleur );
<a name="l02466"></a>02466 }
<a name="l02467"></a>02467 
<a name="l02468"></a>02468 
<a name="l02469"></a>02469 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l02470"></a>02470 <span class="comment">* @fn SDL_Surface* moteur_sdl::ecritTexte( const char texte[], const SDL_Color&amp; couleur ) const</span>
<a name="l02471"></a>02471 <span class="comment">* @brief Permet d&#39;écrire du texte dans une couleur</span>
<a name="l02472"></a>02472 <span class="comment">* @param[in] texte Le texte a écrire</span>
<a name="l02473"></a>02473 <span class="comment">* @param[in] couleur La couleur du texte</span>
<a name="l02474"></a>02474 <span class="comment">* @return Une surface (contenant le texte) a libérer avec SDL_FreeSurface()</span>
<a name="l02475"></a>02475 <span class="comment">*/</span>
<a name="l02476"></a><a class="code" href="classmoteur__sdl.html#a44062e4ce85aff6ee7105a1e1794c70a">02476</a> SDL_Surface* <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">moteur_sdl::ecritTexte</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> texte[], <span class="keyword">const</span> SDL_Color&amp; couleur )<span class="keyword"> const</span>
<a name="l02477"></a>02477 <span class="keyword"></span>{
<a name="l02478"></a>02478     SDL_Surface* tmp = TTF_RenderText_Blended(<a class="code" href="classmoteur__sdl.html#ab633b5e3c91468fd42127b33c51ec33a">c_policeGeneral</a>, texte, couleur);
<a name="l02479"></a>02479     <span class="keywordflow">if</span>( !tmp )
<a name="l02480"></a>02480         stdErrorE(<span class="stringliteral">&quot;Erreur lors de la création du texte &lt;%s&gt;, Couleur: {%u, %u, %u}, Erreur renvoyée: %s&quot;</span>, texte, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)couleur.r, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)couleur.g, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)couleur.b, TTF_GetError());
<a name="l02481"></a>02481 
<a name="l02482"></a>02482     <span class="keywordflow">return</span> tmp;
<a name="l02483"></a>02483 }
<a name="l02484"></a>02484 
<a name="l02485"></a>02485 
<a name="l02486"></a>02486 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l02487"></a>02487 <span class="comment">* @fn SDL_Surface* moteur_sdl::ecritTexte( const char texte[], const SDL_Color&amp; couleur, unsigned int taille ) const</span>
<a name="l02488"></a>02488 <span class="comment">* @brief Permet d&#39;écrire du texte dans une couleur avec une certaine taille de police</span>
<a name="l02489"></a>02489 <span class="comment">* @param[in] texte Le texte a écrire</span>
<a name="l02490"></a>02490 <span class="comment">* @param[in] couleur La couleur a utiliser</span>
<a name="l02491"></a>02491 <span class="comment">* @param[in] taille La taille du texte</span>
<a name="l02492"></a>02492 <span class="comment">* @return Une surface (contenant le texte) a libérer avec SDL_FreeSurface()</span>
<a name="l02493"></a>02493 <span class="comment">*/</span>
<a name="l02494"></a><a class="code" href="classmoteur__sdl.html#a4ba633c509e41b89019dc79faa9e6eae">02494</a> SDL_Surface* <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">moteur_sdl::ecritTexte</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> texte[], <span class="keyword">const</span> SDL_Color&amp; couleur, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> taille )<span class="keyword"> const</span>
<a name="l02495"></a>02495 <span class="keyword"></span>{
<a name="l02496"></a>02496     TTF_Font* police = TTF_OpenFont(<span class="stringliteral">&quot;Chicken Butt.ttf&quot;</span>, taille);
<a name="l02497"></a>02497     <span class="keywordflow">if</span>( !police )
<a name="l02498"></a>02498         stdErrorE(<span class="stringliteral">&quot;Erreur lors du chargement de la police : %s&quot;</span>, TTF_GetError());
<a name="l02499"></a>02499 
<a name="l02500"></a>02500     SDL_Surface* tmp = TTF_RenderText_Blended(police, texte, couleur);
<a name="l02501"></a>02501     <span class="keywordflow">if</span>( !tmp )
<a name="l02502"></a>02502         stdErrorE(<span class="stringliteral">&quot;Erreur lors de la création du texte &lt;%s&gt;, Couleur: {%u, %u, %u}, Erreur renvoyée: %s&quot;</span>, texte, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)couleur.r, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)couleur.g, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)couleur.b, TTF_GetError());
<a name="l02503"></a>02503 
<a name="l02504"></a>02504     TTF_CloseFont(police);<span class="comment">/* Fermeture de la police */</span>
<a name="l02505"></a>02505 
<a name="l02506"></a>02506     <span class="keywordflow">return</span> tmp;
<a name="l02507"></a>02507 }
<a name="l02508"></a>02508 
<a name="l02509"></a>02509 
<a name="l02510"></a>02510 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l02511"></a>02511 <span class="comment">* @fn SDL_Surface* moteur_sdl::ecritTexte( const char texte[], TTF_Font* police ) const</span>
<a name="l02512"></a>02512 <span class="comment">* @brief Permet d&#39;écrire du texte en &lt;b&gt;NOIR&lt;/b&gt;</span>
<a name="l02513"></a>02513 <span class="comment">* @param[in] texte      Le texte a écrire en &lt;b&gt;NOIR&lt;/b&gt;</span>
<a name="l02514"></a>02514 <span class="comment">* @param[in] police     La police a utiliser</span>
<a name="l02515"></a>02515 <span class="comment">* @return Une surface (contenant le texte) a libérer avec SDL_FreeSurface()</span>
<a name="l02516"></a>02516 <span class="comment">*</span>
<a name="l02517"></a>02517 <span class="comment">* @note Cette fonction est un alias de moteur_sdl::ecritTexte( const char texte[], const SDL_Color&amp; couleur, TTF_Font* police )</span>
<a name="l02518"></a>02518 <span class="comment">*/</span>
<a name="l02519"></a><a class="code" href="classmoteur__sdl.html#a5d2ab97aae02d206241dc8dcb58bb268">02519</a> SDL_Surface* <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">moteur_sdl::ecritTexte</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> texte[], TTF_Font* police )<span class="keyword"> const</span>
<a name="l02520"></a>02520 <span class="keyword"></span>{
<a name="l02521"></a>02521     <span class="keyword">static</span> SDL_Color couleurNoire = {0,0,0,0<span class="comment">/*unused*/</span>};
<a name="l02522"></a>02522     <span class="keywordflow">return</span> <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">ecritTexte</a>( texte, police, couleurNoire );
<a name="l02523"></a>02523 }
<a name="l02524"></a>02524 
<a name="l02525"></a>02525 
<a name="l02526"></a>02526 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l02527"></a>02527 <span class="comment">* @fn SDL_Surface* moteur_sdl::ecritTexte( const char texte[], const SDL_Color&amp; couleur, TTF_Font* police ) const</span>
<a name="l02528"></a>02528 <span class="comment">* @brief Permet d&#39;écrire du texte</span>
<a name="l02529"></a>02529 <span class="comment">* @param[in] texte      Le texte a écrire</span>
<a name="l02530"></a>02530 <span class="comment">* @param[in] police     La police a utiliser</span>
<a name="l02531"></a>02531 <span class="comment">* @param[in] couleur    La couleur a utiliser</span>
<a name="l02532"></a>02532 <span class="comment">* @return Une surface (contenant le texte) a libérer avec SDL_FreeSurface()</span>
<a name="l02533"></a>02533 <span class="comment">*/</span>
<a name="l02534"></a><a class="code" href="classmoteur__sdl.html#a3103a536e5b391b77d5e41cacafb1a24">02534</a> SDL_Surface* <a class="code" href="classmoteur__sdl.html#ae53d8fca7fc64d23b1c02390bcd3840e" title="Permet d&amp;#39;écrire du texte en NOIR">moteur_sdl::ecritTexte</a>( <span class="keyword">const</span> <span class="keywordtype">char</span> texte[], TTF_Font* police, <span class="keyword">const</span> SDL_Color&amp; couleur )<span class="keyword"> const</span>
<a name="l02535"></a>02535 <span class="keyword"></span>{
<a name="l02536"></a>02536     SDL_Surface* tmp = TTF_RenderText_Blended(police, texte, couleur);
<a name="l02537"></a>02537     <span class="keywordflow">if</span>( !tmp )
<a name="l02538"></a>02538         stdErrorE(<span class="stringliteral">&quot;Erreur lors de la création du texte &lt;%s&gt;, Couleur: {%u, %u, %u}, Erreur renvoyée: %s&quot;</span>, texte, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)couleur.r, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)couleur.g, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)couleur.b, TTF_GetError());
<a name="l02539"></a>02539 
<a name="l02540"></a>02540     <span class="keywordflow">return</span> tmp;
<a name="l02541"></a>02541 }
<a name="l02542"></a>02542 
<a name="l02543"></a>02543 
<a name="l02544"></a>02544 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l02545"></a>02545 <span class="comment">* @fn char* moteur_sdl::completerMot( char texte[], unsigned int taille )</span>
<a name="l02546"></a>02546 <span class="comment">* @brief Complete le texte avec le caractère _ jusqu&#39;a avoir un texte de longueur 20</span>
<a name="l02547"></a>02547 <span class="comment">* @param[in,out] texte Le texte a combler</span>
<a name="l02548"></a>02548 <span class="comment">* @param[in] taille Taille réel du texte ( sans les _ )</span>
<a name="l02549"></a>02549 <span class="comment">* @return La variable : texte</span>
<a name="l02550"></a>02550 <span class="comment">*/</span>
<a name="l02551"></a><a class="code" href="classmoteur__sdl.html#a93f37dba34220d15eb41eae6175c07fe">02551</a> <span class="keywordtype">char</span>* <a class="code" href="classmoteur__sdl.html#a93f37dba34220d15eb41eae6175c07fe" title="Complete le texte avec le caractère _ jusqu&amp;#39;a avoir un texte de longueur 20.">moteur_sdl::completerMot</a>( <span class="keywordtype">char</span> texte[], <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> taille )
<a name="l02552"></a>02552 {
<a name="l02553"></a>02553     <span class="keywordflow">if</span>( taille == 20 )
<a name="l02554"></a>02554         <span class="keywordflow">return</span> texte;
<a name="l02555"></a>02555 
<a name="l02556"></a>02556     <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=taille; i&lt;20; i++ )
<a name="l02557"></a>02557     {
<a name="l02558"></a>02558         texte[i] = <span class="charliteral">&#39;_&#39;</span>;
<a name="l02559"></a>02559     }
<a name="l02560"></a>02560     <span class="keywordflow">return</span> texte;
<a name="l02561"></a>02561 }
<a name="l02562"></a>02562 
<a name="l02563"></a>02563 
<a name="l02564"></a>02564 
<a name="l02565"></a>02565 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l02566"></a>02566 <span class="comment">* @fn int moteur_sdl::isInSpriteList( s_Coordonnees pos ) const</span>
<a name="l02567"></a>02567 <span class="comment">* @brief Complete le texte avec le caractère _ jusqu&#39;a avoir un texte de longueur 20</span>
<a name="l02568"></a>02568 <span class="comment">* @return Si trouvé, alors renvoie la position dans la liste. Sinon -1</span>
<a name="l02569"></a>02569 <span class="comment">*/</span>
<a name="l02570"></a><a class="code" href="classmoteur__sdl.html#ab29b0ea5c97c36acbecfe99f39999ea6">02570</a> <span class="keywordtype">int</span> <a class="code" href="classmoteur__sdl.html#ab29b0ea5c97c36acbecfe99f39999ea6" title="Complete le texte avec le caractère _ jusqu&amp;#39;a avoir un texte de longueur 20.">moteur_sdl::isInSpriteList</a>( <a class="code" href="structs___coordonnees.html" title="struct de coordonnées ( x,y )">s_Coordonnees</a> pos )<span class="keyword"> const</span>
<a name="l02571"></a>02571 <span class="keyword"></span>{
<a name="l02572"></a>02572     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i;
<a name="l02573"></a>02573     <span class="keywordflow">for</span>( i=0; i&lt;<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.size(); i++ )
<a name="l02574"></a>02574     {
<a name="l02575"></a>02575         <span class="keywordflow">if</span>( <a class="code" href="coordonnees_8h.html#ae4a79783953de477406970583dbcc7e5" title="Permet comparer le contenue de 2 variables de type s_Coordonnees.">coordonneeEgal</a>(<a class="code" href="classmoteur__sdl.html#a7fea8ffd0fac54908c822567a977d154">c_ListSprite</a>.at(i).pos, pos) )
<a name="l02576"></a>02576             <span class="keywordflow">return</span> i;
<a name="l02577"></a>02577     }
<a name="l02578"></a>02578     <span class="keywordflow">return</span> -1;
<a name="l02579"></a>02579 }
<a name="l02580"></a>02580 
<a name="l02581"></a>02581 
<a name="l02582"></a>02582 <span class="comment">/***************************************************************************/</span><span class="comment">/*!</span>
<a name="l02583"></a>02583 <span class="comment">* @fn void moteur_sdl::joueur_orientation( perso::t_Orientation ori, unsigned char joueur, SDL_Rect* pos ) const</span>
<a name="l02584"></a>02584 <span class="comment">* @brief Blit le joueur {joueur} a la position {pos} avec l&#39;orientation {ori}</span>
<a name="l02585"></a>02585 <span class="comment">* @param[in] ori L&#39;orientation du perso</span>
<a name="l02586"></a>02586 <span class="comment">* @param[in] joueur L&#39;e noméro du joueur a blitter [1-...]</span>
<a name="l02587"></a>02587 <span class="comment">* @param[in] pos La position où blitter le perso</span>
<a name="l02588"></a>02588 <span class="comment">*/</span>
<a name="l02589"></a><a class="code" href="classmoteur__sdl.html#a4a1f44d3d69f7cd7341ee2ce21a825b0">02589</a> <span class="keywordtype">void</span> <a class="code" href="classmoteur__sdl.html#a4a1f44d3d69f7cd7341ee2ce21a825b0" title="Blit le joueur {joueur} a la position {pos} avec l&amp;#39;orientation {ori}.">moteur_sdl::joueur_orientation</a>( <a class="code" href="classperso.html#af25facef489bc105b9fe42132b80cba5">perso::t_Orientation</a> ori, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> joueur, SDL_Rect* pos )<span class="keyword"> const</span>
<a name="l02590"></a>02590 <span class="keyword"></span>{
<a name="l02591"></a>02591     <span class="keywordflow">switch</span>( ori )
<a name="l02592"></a>02592     {
<a name="l02593"></a>02593         <span class="keywordflow">case</span> <a class="code" href="classperso.html#af25facef489bc105b9fe42132b80cba5a634b23e64a1d353fdda76a2ec18248f4">perso::ORI_haut</a>: {
<a name="l02594"></a>02594             <span class="keywordflow">switch</span>( joueur )
<a name="l02595"></a>02595             {
<a name="l02596"></a>02596                 <span class="keywordflow">case</span> 1:
<a name="l02597"></a>02597                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda227d2e23b33537a50b44dc58d7dc209e">joueur1_haut</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02598"></a>02598                     return ;
<a name="l02599"></a>02599                 <span class="keywordflow">case</span> 2:
<a name="l02600"></a>02600                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda8588fbdc081ab1ffd8c2d0b0eb308703">joueur2_haut</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02601"></a>02601                     <span class="keywordflow">return</span>;
<a name="l02602"></a>02602                 <span class="keywordflow">case</span> 3:
<a name="l02603"></a>02603                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda175c41635832a9f08f9dfa2c9e5b9fce">joueur3_haut</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02604"></a>02604                     <span class="keywordflow">return</span>;
<a name="l02605"></a>02605                 <span class="keywordflow">case</span> 4:
<a name="l02606"></a>02606                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda9756c24e40bc3a312a8c325193016a99">joueur4_haut</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02607"></a>02607                     <span class="keywordflow">return</span>;
<a name="l02608"></a>02608                 <span class="keywordflow">default</span>:
<a name="l02609"></a>02609                     stdError(<span class="stringliteral">&quot;Cas(%d) NON gere !&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)joueur);
<a name="l02610"></a>02610             }
<a name="l02611"></a>02611             return ;
<a name="l02612"></a>02612         }
<a name="l02613"></a>02613 
<a name="l02614"></a>02614         <span class="keywordflow">case</span> <a class="code" href="classperso.html#af25facef489bc105b9fe42132b80cba5aa59f5203b5e142fa7a139b875240ccb7">perso::ORI_bas</a>: {
<a name="l02615"></a>02615             <span class="keywordflow">switch</span>( joueur )
<a name="l02616"></a>02616             {
<a name="l02617"></a>02617                 <span class="keywordflow">case</span> 1:
<a name="l02618"></a>02618                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda1b943bca339c072718fee3fed38baf23">joueur1_bas</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02619"></a>02619                     <span class="keywordflow">return</span>;
<a name="l02620"></a>02620                 <span class="keywordflow">case</span> 2:
<a name="l02621"></a>02621                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdadb3b294f8cae96771c25b0847344f919">joueur2_bas</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02622"></a>02622                     <span class="keywordflow">return</span>;
<a name="l02623"></a>02623                 <span class="keywordflow">case</span> 3:
<a name="l02624"></a>02624                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda4efa677592668005badb14bf0c9d7aa2">joueur3_bas</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02625"></a>02625                     <span class="keywordflow">return</span>;
<a name="l02626"></a>02626                 <span class="keywordflow">case</span> 4:
<a name="l02627"></a>02627                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab2cba0cd4f66f3924da2416e129d56b9">joueur4_bas</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02628"></a>02628                     <span class="keywordflow">return</span>;
<a name="l02629"></a>02629                 <span class="keywordflow">default</span>:
<a name="l02630"></a>02630                     stdError(<span class="stringliteral">&quot;Cas(%d) NON gere !&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)joueur);
<a name="l02631"></a>02631             }
<a name="l02632"></a>02632             return ;
<a name="l02633"></a>02633         }
<a name="l02634"></a>02634 
<a name="l02635"></a>02635         <span class="keywordflow">case</span> <a class="code" href="classperso.html#af25facef489bc105b9fe42132b80cba5ab3e12149a43ed9f6c1ed651c7b7130a5">perso::ORI_droite</a>: {
<a name="l02636"></a>02636             <span class="keywordflow">switch</span>( joueur )
<a name="l02637"></a>02637             {
<a name="l02638"></a>02638                 <span class="keywordflow">case</span> 1:
<a name="l02639"></a>02639                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdaae6767550be7fc31173051c916ff1025">joueur1_droite</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02640"></a>02640                     <span class="keywordflow">return</span>;
<a name="l02641"></a>02641                 <span class="keywordflow">case</span> 2:
<a name="l02642"></a>02642                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdab7ad3bfcede56ed20301805d7ec21157">joueur2_droite</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02643"></a>02643                     <span class="keywordflow">return</span>;
<a name="l02644"></a>02644                 <span class="keywordflow">case</span> 3:
<a name="l02645"></a>02645                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda6a6b4e3b19dc812829b4238cf7dbef4d">joueur3_droite</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02646"></a>02646                     <span class="keywordflow">return</span>;
<a name="l02647"></a>02647                 <span class="keywordflow">case</span> 4:
<a name="l02648"></a>02648                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda00e26c13da97f750b6fbb02f4b50bee8">joueur4_droite</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02649"></a>02649                     <span class="keywordflow">return</span>;
<a name="l02650"></a>02650                 <span class="keywordflow">default</span>:
<a name="l02651"></a>02651                     stdError(<span class="stringliteral">&quot;Cas(%d) NON gere !&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)joueur);
<a name="l02652"></a>02652             }
<a name="l02653"></a>02653             return ;
<a name="l02654"></a>02654         }
<a name="l02655"></a>02655 
<a name="l02656"></a>02656         <span class="keywordflow">case</span> <a class="code" href="classperso.html#af25facef489bc105b9fe42132b80cba5ab905cf580d7a21ed24b5917ddc8fe517">perso::ORI_gauche</a>: {
<a name="l02657"></a>02657             <span class="keywordflow">switch</span>( joueur )
<a name="l02658"></a>02658             {
<a name="l02659"></a>02659                 <span class="keywordflow">case</span> 1:
<a name="l02660"></a>02660                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda1afa450836e7717442bc543f9cfc7f6d">joueur1_gauche</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02661"></a>02661                     <span class="keywordflow">return</span>;
<a name="l02662"></a>02662                 <span class="keywordflow">case</span> 2:
<a name="l02663"></a>02663                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda5b5e12751b6b3ac8c2389b9a1906159c">joueur2_gauche</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02664"></a>02664                     <span class="keywordflow">return</span>;
<a name="l02665"></a>02665                 <span class="keywordflow">case</span> 3:
<a name="l02666"></a>02666                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bdabdcd0755b8261d7a2766d246f3913f41">joueur3_gauche</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02667"></a>02667                     <span class="keywordflow">return</span>;
<a name="l02668"></a>02668                 <span class="keywordflow">case</span> 4:
<a name="l02669"></a>02669                     SDL_BlitSurface(<a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a3832f4140e4be8e9ffd7771479076d44">c_Decor</a>[<a class="code" href="classmoteur__sdl.html#a5e50a879dde20520d9cca8559ecff4bda9a0c6c6a7ec3ad41b1afd5bfbbc179e8">joueur4_gauche</a>], NULL, <a class="code" href="classmoteur__sdl.html#a762cda188b40f7604cff39855db277e2">c_Instance</a>-&gt;<a class="code" href="classmoteur__sdl.html#a7563cdec4423e7e70088defba7c0d572">c_ecranGeneral</a>, pos);
<a name="l02670"></a>02670                     <span class="keywordflow">return</span>;
<a name="l02671"></a>02671                 <span class="keywordflow">default</span>:
<a name="l02672"></a>02672                     stdError(<span class="stringliteral">&quot;Cas(%d) NON gere !&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)joueur);
<a name="l02673"></a>02673             }
<a name="l02674"></a>02674             return ;
<a name="l02675"></a>02675         }
<a name="l02676"></a>02676 
<a name="l02677"></a>02677         <span class="keywordflow">default</span>:
<a name="l02678"></a>02678             stdError(<span class="stringliteral">&quot;Cas NON gere !&quot;</span>);
<a name="l02679"></a>02679             return ;
<a name="l02680"></a>02680     }
<a name="l02681"></a>02681 }
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Généré le Fri Jan 21 2011 01:21:27 pour Bomberman par&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
